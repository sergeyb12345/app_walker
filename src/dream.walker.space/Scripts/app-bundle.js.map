{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/settings.js","src/account/edit.js","src/account/login.js","src/account/navigation.js","src/account/user-context.js","src/account/view.js","src/common/bootstrap-form-renderer.js","src/common/error-handler.js","src/common/error-parser.js","src/navigation/index.js","src/navigation/main-menu.js","src/navigation/sub-menu.js","src/navigation/sub-nav.js","src/resources/custom-log-appender.js","src/resources/index.js","src/services/article-service.js","src/services/blob-services.js","src/services/strategy-service.js","src/studies/category.js","src/studies/navigation.js","src/strategies/create.js","src/strategies/edit.js","src/strategies/list.js","src/strategies/navigation.js","src/resources/elements/article/article-block.js","src/resources/elements/article/block-actions.js","src/resources/elements/article/heading-block.js","src/resources/elements/article/image-block.js","src/resources/elements/article/index.js","src/resources/elements/article/new-block.js","src/resources/elements/article/ordered-list-block.js","src/resources/elements/article/paragraph-block.js","src/resources/elements/chart/any-chart.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validate-binding-behavior.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validate-trigger.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validate-binding-behavior-base.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-controller.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validator.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/property-info.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-error.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-controller-factory.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-errors-custom-attribute.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-renderer-custom-attribute.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/rules.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/standard-validator.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/validation-messages.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/validation-parser.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/util.js","C:/Development/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/validation-rules.js","C:/Development/app_walker/src/dream.walker.space/src/app.html","C:/Development/app_walker/src/dream.walker.space/src/account/edit.html","C:/Development/app_walker/src/dream.walker.space/src/account/login.html","C:/Development/app_walker/src/dream.walker.space/src/account/navigation.html","C:/Development/app_walker/src/dream.walker.space/src/account/view.html","C:/Development/app_walker/src/dream.walker.space/src/navigation/main-menu.html","C:/Development/app_walker/src/dream.walker.space/src/navigation/sub-menu.html","C:/Development/app_walker/src/dream.walker.space/src/navigation/sub-nav.html","C:/Development/app_walker/src/dream.walker.space/src/strategies/create.html","C:/Development/app_walker/src/dream.walker.space/src/strategies/edit.html","C:/Development/app_walker/src/dream.walker.space/src/strategies/list.html","C:/Development/app_walker/src/dream.walker.space/src/strategies/navigation.html","C:/Development/app_walker/src/dream.walker.space/src/studies/category.html","C:/Development/app_walker/src/dream.walker.space/src/studies/navigation.html","C:/Development/app_walker/src/dream.walker.space/src/resources/elements/article/article-block.html","C:/Development/app_walker/src/dream.walker.space/src/resources/elements/article/block-actions.html","C:/Development/app_walker/src/dream.walker.space/src/resources/elements/article/heading-block.html","C:/Development/app_walker/src/dream.walker.space/src/resources/elements/article/image-block.html","C:/Development/app_walker/src/dream.walker.space/src/resources/elements/article/new-block.html","C:/Development/app_walker/src/dream.walker.space/src/resources/elements/article/ordered-list-block.html","C:/Development/app_walker/src/dream.walker.space/src/resources/elements/article/paragraph-block.html","C:/Development/app_walker/src/dream.walker.space/src/resources/elements/chart/any-chart.html"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1ZA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA","file":"app-bundle.js","sourcesContent":["import {inject} from \"aurelia-framework\";\r\nimport {RedirectToRoute } from 'aurelia-router';\r\n\r\n@inject(\"Settings\")\r\nexport class App {\r\n\r\n    constructor(settings) {\r\n        this.homePage = settings.homePage;\r\n    }\r\n\r\n    configureRouter(config, router) {\r\n\r\n        config.title = 'Dream Space';\r\n        config.options.pushState = true;\r\n\r\n        this.router = router;\r\n        config.addPipelineStep('authorize', AuthorizeStep);\r\n        config.map([\r\n            { route: [\"account\"], moduleId: \"account/navigation\", name:\"account\", title: \"Login\", nav: false },\r\n            { route: [\"strategies\"], moduleId: \"strategies/navigation\", name:\"strategies\", title: \"Strategies\", auth: true , nav:true },\r\n            { route: [\"studies\"], moduleId: \"studies/navigation\", name:\"studies\", title: \"Studies\", nav:true },\r\n            { route: '', redirect: this.homePage }\r\n\r\n        ]);\r\n\r\n    }\r\n}\r\n\r\n\r\n@inject(\"User\", \"Settings\")\r\nclass AuthorizeStep {\r\n\r\n    constructor(userContext, settings) {\r\n        this.isAuthenticated = userContext.user.isAuthenticated;\r\n        this.homePage = settings.homePage;\r\n    }\r\n\r\n    run(navigationInstruction, next) {\r\n        if (navigationInstruction.getAllInstructions().some(i => i.config.auth)) {\r\n\r\n            if (this.isAuthenticated) {\r\n                return next();\r\n            } else {\r\n                return next.cancel(new RedirectToRoute('account'));\r\n            }\r\n        } else {\r\n            if (navigationInstruction.getAllInstructions()\r\n                .some(i => i.config.name === 'account-login' && this.isAuthenticated)) {\r\n                return next.cancel(new RedirectToRoute(this.homePage));\r\n            }\r\n            return next();\r\n        }\r\n    }\r\n\r\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport {Settings} from './settings';\nimport {ErrorParser} from './common/error-parser';\nimport {UserContext} from './account/user-context';\n\r\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n    let errorparser = aurelia.container.get(ErrorParser);\n    let userContext = aurelia.container.get(UserContext);\n    let settings = aurelia.container.get(Settings);\n\n    userContext.initialize()\n        .then(response => {\n\n            settings.initialize()\n                .then(response => {\n                    aurelia.use\n                        .instance('ErrorParser',errorparser)\n                        .instance('Settings',settings)\n                        .instance('User',userContext)\n                        .standardConfiguration()\n                        .feature('resources')\n                        .feature('navigation')\r\n                        .plugin('aurelia-validation');\r\n\n                    if (environment.debug) {\n                        //aurelia.use.developmentLogging();\n                    }\n\n                    if (environment.testing) {\n                        //aurelia.use.plugin('aurelia-testing');\n                    }\n\n                    aurelia.start().then(() => {\n                        aurelia.setRoot();\n                    });\n\n                });\n\n            \n        });\n\n}\n","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {LogManager} from 'aurelia-framework';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class Settings {\r\n\r\n    constructor (httpClient, eventAggregator) {\n        this.eventAggregator = eventAggregator;\r\n\r\n        httpClient.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.sections = [];\r\n        this.http = httpClient;\r\n        this.initialized = false;\n        this.homePage = 'studies';\n    }\r\n    \r\n\r\n    getStudiesSection() {\r\n        if (this.initialized === true) {\r\n            return this.sections.find(s => s.url === \"studies\");\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getSection(sectionId) {\r\n        if (this.initialized === true) {\r\n            return this.sections.find(s => s.sectionId === sectionId);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    initialize() {\r\n        return this.http.fetch(\"article/sections\")\r\n            .then(response => {\r\n                response.json()\r\n                .then(sections => {\r\n                        this.sections = sections;\r\n                        this.initialized = true;\r\n                });\r\n\r\n                return this;\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"initialize\");\r\n            });\r\n    }\r\n\r\n\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"Settings->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {ValidationRules, ValidationController, validateTrigger} from \"aurelia-validation\"\r\nimport {BootstrapFormRenderer} from \"../common/bootstrap-form-renderer\"\r\n\r\n@inject(\"User\", EventAggregator, ValidationController)\r\nexport class Edit {\r\n    \r\n    constructor(userContext, eventAggregator, validation) {\r\n        this.userContext = userContext;\r\n        this.eventAggregator = eventAggregator;\r\n        this.user = this.userContext.user;\r\n        \r\n        this.validation = validation;\r\n        this.validation.validateTrigger = validateTrigger.change;\r\n        this.validation.addRenderer(new BootstrapFormRenderer());\r\n\r\n        ValidationRules\r\n            .ensure(u => u.firstName)\r\n            .required()\r\n            .minLength(3)\r\n            .on(this.user);\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n        this.router = navigationInstruction.router;\r\n    }\r\n\r\n    update() {\r\n        if (this.validation.errors && this.validation.errors.length > 0) {\r\n            return;\r\n        }\r\n\r\n        this.userContext.update(this.user)\r\n            .then(result => {\r\n                if (result === 0) {\r\n                    this.router.navigate(\"view\");\r\n                }\r\n            })\r\n        .catch(error => {\r\n            return this.handleError(error, \"update\");\r\n        });\r\n    \r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"Account.Edit->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {inject,bindable} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\n@inject(\"User\", EventAggregator)\r\nexport class Login {\r\n\r\n    constructor(userContext, eventAggregator ) {\r\n        this.userContext = userContext;\r\n        this.eventAggregator = eventAggregator;\r\n\r\n        this.username = '';\r\n        this.password = '';\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n        this.router = navigationInstruction.router;\r\n    }\r\n\r\n    login() {\r\n        this.userContext.login(this.username, this.password)\r\n            .then(result => {\r\n                if (result === 0) {\r\n                    let url = this.router.generate(\"strategies\");\r\n                    window.location.href = url;\r\n                }\r\n            })\r\n        .catch(error => {\r\n            return this.handleError(error, \"login\");\r\n        });\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"Account.Login->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","\r\nexport class Navigation {\r\n\r\n    configureRouter(config, router) {\r\n        config.title = 'Login';\r\n\r\n        config.map([\r\n            { route: ['', 'login'], moduleId: \"./login\", name: \"account-login\", title: \"Login\", nav: false },\r\n            { route: ['edit'], moduleId: \"./edit\", name: \"account-edit\", title: \"Edit Profile\", nav: true, auth: true },\r\n            { route: ['view'], moduleId: \"./view\", name: \"account-view\", title: \"View Profile\", nav: true, auth: true }\r\n        ]);\r\n\r\n        this.router = router;\r\n        this.section = config.title;\r\n    }\r\n}\r\n\r\n","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class UserContext {\r\n\r\n    constructor (httpClient, eventAggregator) {\r\n        httpClient.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.http = httpClient;\r\n        this.eventAggregator = eventAggregator;\r\n        this.user = {};\r\n    }\r\n\r\n\r\n    initialize() {\r\n        return this.http.fetch(\"account/user\")\r\n            .then(response => {\r\n                return response.json().then(user => {\r\n                    this.user = user;\r\n                });\r\n            })\r\n            .catch(error => {\r\n                this.handleError(error, \"initialize\");\r\n            });\r\n    }\r\n\r\n\r\n    login(username, password) {\r\n        let loginRequest = {\r\n            Email: username,\r\n            Password: password,\r\n            RememberMe: true\r\n        };\r\n\r\n        return this.http.fetch(\"account/login\",\r\n            {\r\n                method: 'post',\r\n                body: json(loginRequest)\r\n            })\r\n            .then(response => {\r\n                return response.json()\r\n                    .then(result => {\r\n                        if (result.status === 0) {\r\n                            this.user = result.user;\r\n                        }\r\n                        return result.status;\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"login\");\r\n            });\r\n    }\r\n\r\n    update(user) {\r\n        let updateRequest = {\r\n            Username : user.username,\r\n            FirstName: user.firstName\r\n        };\r\n\r\n        return this.http.fetch(\"account/update\",\r\n            {\r\n                method: 'put',\r\n                body: json(updateRequest)\r\n            })\r\n            .then(response => {\r\n                return response.json()\r\n                    .then(result => {\r\n                        if (result.status === 0) {\r\n                            this.user = result.user;\r\n                        }\r\n                        return result.status;\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"update\");\r\n            });\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"UserContext->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","\r\nimport {inject} from \"aurelia-framework\";\r\n\r\n@inject(\"User\")\r\nexport class View {\r\n\r\n    constructor(userContext) {\r\n        this.user = userContext.user;\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n        this.router = navigationInstruction.router;\r\n    }\r\n\r\n\r\n    edit() {\r\n        this.router.navigate(\"edit\");\r\n    }\r\n}","import {ValidationRenderer, RenderInstruction, ValidationError} from \"aurelia-validation\"\r\n\r\nexport class BootstrapFormRenderer {\n    render(instruction) {\n        for (let { error, elements } of instruction.unrender) {\n            for (let element of elements) {\n                this.remove(element, error);\n            }\n        }\n\n    for (let { error, elements } of instruction.render) {\n        for (let element of elements) {\n            this.add(element, error);\n        }\n    }\n}\n\nadd(element, error) {\n    const formGroup = element.closest('.form-group');\n    if (!formGroup) {\n        return;\n    }\n\n    // add the has-error class to the enclosing form-group div\n    formGroup.classList.add('has-error');\n\n    // add help-block\n    const message = document.createElement('span');\n    message.className = 'help-block validation-message';\n    message.textContent = error.message;\n    message.id = `validation-message-${error.id}`;\n    formGroup.appendChild(message);\n}\n\nremove(element, error) {\n    const formGroup = element.closest('.form-group');\n    if (!formGroup) {\n        return;\n    }\n\n    // remove help-block\n    const message = formGroup.querySelector(`#validation-message-${error.id}`);\n    if (message) {\n        formGroup.removeChild(message);\n\n        // remove the has-error class from the enclosing form-group div\n        if (formGroup.querySelectorAll('.help-block.validation-message').length === 0) {\n            formGroup.classList.remove('has-error');\n        }\n    }\n}\n}\n","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator, \"ErrorParser\")\r\nexport class ErrorHandler {\r\n\r\n    constructor(eventAggregator, errorParser) {\r\n        this.errorParser = errorParser;\r\n\r\n        eventAggregator.subscribe(\"GeneralExceptions\", error => this.handleError(error));    \r\n\r\n        this.lastError =\r\n        {\r\n            client : {\r\n                source: \"\",\r\n                message: \"\"\r\n            },\r\n            server : {\r\n                source:\"\",\r\n                message:\"\"\r\n            }\r\n           \r\n        }\r\n    }\r\n\r\n    handleError(error) {\r\n        let self = this;\r\n\r\n        this.errorParser.parseError(error)\r\n            .then(errorInfo => {\r\n                self.logError(errorInfo);\r\n            });\r\n    }\r\n\r\n    getLastError() {\r\n        return this.lastError;\r\n    }\r\n\r\n\r\n    logError (errorInfo) {\r\n        this.lastError = errorInfo;\r\n\r\n        let logger = `${errorInfo.client.source} (${errorInfo.server.source})`;\r\n        console.error(`ERROR [${logger}] ${errorInfo.client.message} SERVER: ${errorInfo.server.message}`);\r\n    }\r\n}","export class ErrorParser {\r\n\r\n    parseErrorFromStream(stream) {\r\n\r\n        var promise = new Promise(\r\n            function (resolve, reject) { // (A)\r\n\r\n                let result = {\r\n                    source:\"\",\r\n                    message: \"\"\r\n                }\r\n\r\n                try {\r\n\r\n                    let reader = stream.getReader();\r\n\r\n                    reader.read()\r\n                        .then(function(data) {\r\n\r\n                            let enc = new TextDecoder();\r\n                            let message = enc.decode(data.value);\r\n\r\n                            try {\r\n                                let json = JSON.parse(message);\r\n\r\n                                result.message = json.Message;\r\n                                result.source = json.Source;\r\n\r\n                            } catch (e) {\r\n                                result.message = message;\r\n                            }\r\n\r\n                            resolve(result);\r\n                        })\r\n                        .catch(err => {\r\n                            reject(err);\r\n                        });\r\n\r\n                } catch (e) {\r\n                    reject(e);\r\n                }\r\n\r\n            });\r\n\r\n        return promise;\r\n\r\n\r\n    }\r\n\r\n\r\n    parseError(error) {\r\n\r\n        var promise = new Promise(\r\n            function(resolve, reject) { // (A)\r\n\r\n\r\n                let errorInfo = {\r\n                    client: {\r\n                        source: \"\",\r\n                        message: \"\"\r\n                    },\r\n                    server: {\r\n                        source: \"\",\r\n                        message: \"\"\r\n                    }\r\n                }\r\n\r\n                if (error.source) {\r\n                    errorInfo.client.source = error.source;\r\n                }\r\n\r\n                if (error.message) {\r\n                    errorInfo.client.message = error.message;\r\n                }\r\n\r\n                if (error.exception) {\r\n\r\n                    this.parseErrorFromStream(error.exception.body)\r\n                        .then(serverError => {\r\n                            errorInfo.server.source = serverError.source;\r\n                            errorInfo.server.message = serverError.message;\r\n\r\n                            resolve(errorInfo);\r\n                        })\r\n                        .catch(error => {\r\n                            errorInfo.server.message = \"Failed to extract server message\";\r\n                            resolve(errorInfo);\r\n                        });\r\n\r\n                } else {\r\n                    if (errorInfo.client.source.length === 0 && errorInfo.client.message.length === 0) {\r\n                        errorInfo.client.message = error;\r\n                    }\r\n\r\n                    resolve(errorInfo);\r\n                }\r\n\r\n            });\r\n\r\n        return promise;\r\n    }\r\n\r\n}","export function configure(config) {\r\n    config.globalResources(\r\n        './main-menu',\r\n        './sub-menu',\r\n        './sub-nav'\r\n    );\r\n}","import {bindable} from \"aurelia-framework\";\r\n\r\nexport class MainMenu {\r\n    @bindable router = null;\r\n\r\n    constructor() {\r\n    }\r\n}","import {bindable, inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator)\r\nexport class SubMenu {\r\n    @bindable router;\r\n    @bindable section;\r\n\r\n    constructor (eventAggregator) {\r\n        this.editMode = false;\r\n        this.eventAggregator = eventAggregator;\r\n        this.subscriptions = [];\r\n    }\r\n\r\n    startEdit() {\r\n        this.editMode = true;\r\n        this.eventAggregator.publish(this.section + '-edit-mode', this.editMode);\r\n    }\r\n\r\n    cancelEdit() {\r\n        this.editMode = false;\r\n        this.eventAggregator.publish(this.section + '-edit-mode', this.editMode);\r\n    }\r\n\r\n    applyChanges() {\r\n        this.eventAggregator.publish(this.section + '-save', true);\r\n    }\r\n\r\n    sectionChanged(newValue, oldValue) {\r\n        this.section = newValue;\r\n    }\r\n\r\n    attached() {\r\n        this.subscriptions.push(\r\n            this.eventAggregator.subscribe(this.section + '-cancel-edit', flag => this.cancelEdit()));\r\n    }\r\n\r\n    detached() {\r\n        this.subscriptions.forEach(function (subscription) {\r\n            subscription.dispose();\r\n        });\r\n    }\r\n\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator, \"User\")\r\nexport class SubNav {\r\n\r\n    constructor (eventAggregator, userContext) {\r\n        this.eventAggregator = eventAggregator;\r\n        this.categoriesUrl = '';\r\n        this.powerUser = userContext.user.isAuthenticated;\r\n    }\r\n\r\n    activate(menu) {\r\n        this.menu = menu;\r\n        this.categoriesUrl = this.menu.section.url + '/categories/' +  this.menu.section.sectionId;\r\n    }\r\n\r\n    getUrl(menuItem) {\r\n        return '' + this.menu.section.url + '/' + menuItem.url;\r\n    }\r\n\r\n    startEdit() {\r\n        this.eventAggregator.publish(this.menu.section.url + '-start-edit', true);\r\n    }\r\n\r\n    applyChanges() {\r\n        this.eventAggregator.publish(this.menu.section.url + '-save-article', true);\r\n    }\r\n\r\n    cancelEdit() {\r\n        this.eventAggregator.publish(this.menu.section.url + '-cancel-edit', true);\r\n    }\r\n}","export class CustomLogAppender {\r\n  constructor(){}\r\n  debug(logger, message, ...rest){\r\n    console.debug(`DEBUG [${logger.id}] ${message}`, ...rest);\r\n  }\r\n  info(logger, message, ...rest){\r\n    console.info(`INFO [${logger.id}] ${message}`, ...rest);\r\n  }\r\n  warn(logger, message, ...rest){\r\n    console.warn(`WARN [${logger.id}] ${message}`, ...rest); \r\n  }\r\n  error(logger, message, ...rest){\r\n    console.error(`ERROR [${logger.id}] ${message}`, ...rest);\r\n  }\r\n}","export function configure(config) {\n    \n    //config.globalResources(['./custom-log-appender']);\n  config.globalResources(['./elements/chart/any-chart']);\n  config.globalResources(\r\n    './elements/article/article-block',\r\n    './elements/article//heading-block',\r\n    './elements/article//paragraph-block',\r\n    './elements/article/image-block',\r\n    './elements/article/ordered-list-block',\r\n    './elements/article/block-actions',\r\n    './elements/article/new-block'\r\n);\n}\n","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class ArticleService {\r\n\r\n    constructor (httpClient, eventAggregator) {\r\n        httpClient.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.http = httpClient;\r\n        this.eventAggregator = eventAggregator;\r\n    }\r\n\r\n\r\n    getArticle(id) {\r\n        return this.http.fetch(\"article/\"+id)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getArticle\");\r\n            });\r\n    }    \r\n    \r\n    deleteArticle(id) {\r\n        return this.http.fetch(\"article/\"+id, {method: 'delete'})\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"deleteArticle\");\r\n            });\r\n    }\r\n    \r\n    updateArticleOrder(articleId, orderId) {\r\n        let article = {\r\n            ArticleId: articleId,\r\n            OrderId: orderId\r\n        }\r\n\r\n        return this.http.fetch(\"article/\"+articleId+\"/order\", {method: 'put', body:json(article)})\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"updateArticleOrder\");\r\n            });\r\n    }\r\n\r\n    getArticleByUrl(categotyId, articleUrl) {\r\n        return this.http.fetch(\"article/url/\"+categotyId+\"/\"+articleUrl)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getArticleByUrl\");\r\n            });\r\n    }\r\n\r\n\r\n    getSection(url) {\r\n        return this.http.fetch(\"article/section/\"+url)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getSection\");\r\n            });\r\n    }\r\n    \r\n    getCategories(sectionId) {\r\n\r\n        return this.http.fetch(\"article/categories/\"+sectionId)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getCategories\");\r\n            });\r\n    }\r\n\r\n    getCategory (categoryUrl) {\r\n        return this.http.fetch(\"article/category/\"+categoryUrl)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error);\r\n            });\r\n    }\r\n\r\n    getFeatured(categoryId) {\r\n        return this.http.fetch(\"article/\"+categoryId+\"/featured\")\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getFeatured\");\r\n            });\r\n    }    \r\n\r\n    getArticles(categoryId) {\r\n        return this.http.fetch(\"article/\"+categoryId+\"/all\")\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getArticles\");\r\n            });\r\n    }\r\n\r\n    saveArticle(article) {\r\n        return this.http.fetch('article', {\r\n            method: 'post',\r\n            body:json(article)\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            this.handleError(error, \"saveArticle\");\r\n        });\r\n    }\r\n\r\n    saveCategory(category) {\r\n        return this.http.fetch('article/category', {\r\n            method: 'post',\r\n            body:json(category)\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            this.handleError(error, \"saveCategory\");\r\n        });\r\n    }\r\n\r\n    deleteCategory(categoryId) {\r\n        return this.http.fetch('article/category/'+categoryId, {\r\n            method: 'delete'\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            this.handleError(error, \"deleteCategory\");\r\n        });\r\n\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"ArticleService->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class BlobServices {\r\n    \r\n\r\n    constructor (http, eventAggregator) {\r\n        http.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.eventAggregator = eventAggregator;\r\n        this.http = http;\r\n    }\r\n\r\n    \r\n    post(fileName, fileBody) {\r\n        let payload = {\r\n            fileName: fileName,\r\n            fileBody: fileBody\r\n        };\r\n\r\n        return this.http.fetch('blob/upload', {\r\n            method: 'post',\r\n            body:json(payload)\r\n            })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            return this.handleError(error, \"post\");\r\n        });\r\n    }\r\n\r\n    \r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"BlobServices->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class StrategyService {\r\n    \r\n\r\n    constructor (http, eventAggregator) {\r\n        http.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.eventAggregator = eventAggregator;\r\n        this.http = http;\r\n    }\r\n\r\n    \r\n    getAll() {\r\n\r\n        return this.http.fetch('strategy/getAll', {\r\n            method: 'get'\r\n            })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            return this.handleError(error, \"getAll\");\r\n        });\r\n    }\r\n\r\n    getByUrl(url) {\r\n\r\n        return this.http.fetch('strategy/getByUrl/'+url, {\r\n            method: 'get'\r\n            })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            return this.handleError(error, \"getByUrl\");\r\n        });\r\n    }\r\n\r\n    update(strategy) {\r\n        return this.http.fetch('strategy', {\r\n            method: 'post',\r\n            body:json(strategy)\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            this.handleError(error, \"update\");\r\n        });\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"StrategyServices->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return exception;\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {ArticleService} from '../services/article-service';\r\nimport {Navigation} from './navigation'\r\n\r\n@inject(EventAggregator, ArticleService, Navigation)\r\nexport class Category {\r\n\r\n    constructor (eventAggregator, articleService, navigation) {\r\n\r\n        this.eventAggregator = eventAggregator;\r\n        this.articleService = articleService;\r\n        this.subscriptions = [];\r\n        this.editMode = false;\r\n        this.navigation = navigation;\r\n        this.article = {};\r\n    }\r\n\r\n    activate(params, routeconfig) {\r\n        this.articleUrl = \"default\";\r\n\r\n        if (!params.category) {\r\n            params.category = \"default\";\r\n        }\r\n        \r\n        if (params.article) {\r\n            this.articleUrl = params.article;\r\n        }\r\n\r\n        this.loadCategory(params.category);\r\n    }\r\n\r\n    sort() {\r\n        if (this.article.blocks) {\r\n            this.article.sortedBlocks = this.article.blocks\r\n                .filter(function(item) {\r\n                    return item.deleted !== true;\r\n                })\r\n                .slice(0)\r\n                .sort((a, b) => {\r\n                    return (a['orderId'] - b['orderId']);\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    loadArticle(categoryId, articleUrl) {\r\n\r\n        this.articleService.getArticleByUrl(categoryId, articleUrl)\r\n        .then(result => {\r\n            this.article = result;\r\n            this.setEditMode(false);\r\n            this.sort();\r\n         });\r\n    }\r\n\r\n    loadArticles(categoryId) {\r\n        this.articleService.getArticles(categoryId)\r\n            .then(articles => {\r\n                this.articles = articles;\r\n                this.sortArticles();\r\n            });\r\n    }\r\n\r\n    loadCategory(categoryUrl) {\r\n        this.setEditMode(false);\r\n\r\n        this.articleService.getCategory(categoryUrl)\r\n            .then(category => {\r\n                this.category = category;\r\n\r\n                if (this.category && this.category.categoryId > 0) {\r\n                    this.navigation.selectMenuItem(category.url);\r\n\r\n                    this.loadArticle(this.category.categoryId, this.articleUrl);\r\n                    this.loadArticles(this.category.categoryId);\r\n                }\r\n            });\r\n    }\r\n\r\n    getArticleUrl(article) {\r\n        return '/' + this.navigation.section.url + '/' + this.category.url + '/' + article.url;\r\n    }\r\n\r\n    setEditMode (editMode) {\r\n        this.editMode = editMode;\r\n        this.navigation.menu.editMode = editMode;\r\n\r\n        if (this.article &&  this.article != null &&  this.article.blocks &&  this.article.blocks != null) {\r\n            this.article.blocks.forEach(function(block) {\r\n                block.editMode = editMode;\r\n                if (editMode !== true) {\r\n                    block.isEditing = false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    startEdit(flag) {\r\n        this.originalArticle = Object.assign({}, this.article);\r\n        this.setEditMode(true);\r\n    }\r\n\r\n    cancelEdit(flag) {\r\n        this.article = this.originalArticle;\r\n        this.setEditMode(false);\r\n    }\r\n\r\n    saveArticle(flag) {\r\n\r\n        let isEditing = false;\r\n        let self = this;\r\n\r\n\r\n        this.article.blocks.forEach(function(block) {\r\n            if (block.isEditing === true) {\r\n                isEditing = true;\r\n            }\r\n        });\r\n\r\n        if (isEditing !== true) {\r\n            this.articleService.saveArticle(this.article)\r\n                .then(response => {\r\n                    this.setEditMode(false);\r\n                });\r\n        } else {\r\n            alert(\"Some block are in edit mode. Apply changes to those blocks first.\");\r\n        }\r\n\r\n        if (this.articles) {\r\n            this.articles.forEach(function(article) {\r\n                if (article.changed === true) {\r\n                    if (article.IsDeleted) {\r\n                        self.removeArticle(article.articleId);\r\n                    } else {\r\n                        self.updateArticleOrder(article.articleId, article.orderId);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    addBlock() {\r\n        if (!this.article.blocks) {\r\n            this.article.blocks = [];\r\n        }\r\n        \r\n        let block = {\r\n            isNew: true,\r\n            BlockId: this.maxBlockId(this.article.blocks) + 1,\r\n            OrderId: this.maxOrderId(this.article.blocks) + 1,\r\n\r\n            Text: ''\r\n        };\r\n\r\n        this.article.blocks.push(block);\r\n        this.sort();\r\n    }\r\n\r\n    moveBlockUp(block) {\r\n        let order = block.orderId - 1;\r\n        let up = this.article.blocks.find(x => x.orderId === order);\r\n        if(up && up.orderId === order) {\r\n            up.orderId = block.orderId;\r\n            block.orderId = order;\r\n\r\n            this.sort();\r\n        }\r\n    }\r\n\r\n    moveBlockDown(block) {\r\n        let order = block.orderId + 1;\r\n        let down = this.article.blocks.find(x => x.orderId === order);\r\n        if(down && down.orderId === order) {\r\n            down.orderId = block.orderId;\r\n            block.orderId = order;\r\n\r\n            this.sort();\r\n        }\r\n    }\r\n\r\n    addArticle() {\r\n        this.article = {\r\n            articleId: 0,\r\n            categoryId: this.category.categoryId,\r\n            isFeatured: false,\r\n            isDeleted: false,\r\n            title: \"New Article\",\r\n            url: \"new-article\",\r\n            orderId: this.maxOrderId(this.articles) + 1,\r\n            blocks: []\r\n        };\r\n    }\r\n\r\n    maxOrderId(list) {\r\n        let max = 0;\r\n        list.forEach(function(item) {\r\n            if (max < item.orderId) {\r\n                max = item.orderId;\r\n            }\r\n        });\r\n        return max;\r\n    }\r\n\r\n    maxBlockId(list) {\r\n        let max = 0;\r\n        list.forEach(function(item) {\r\n            if (max < item.blockId) {\r\n                max = item.blockId;\r\n            }\r\n        });\r\n        return max;\r\n    }\r\n\r\n    deleteArticle(article) {\r\n        article.isDeleting = true;\r\n    }\r\n\r\n    cancelDeleteArticle(article) {\r\n        article.isDeleting = false;\r\n    }\r\n\r\n    confirmDeleteArticle(article) {\r\n        article.IsDeleted = true;\r\n    }    \r\n    \r\n    removeArticle(articleId) {\r\n        this.articleService.deleteArticle(articleId)\r\n            .then(response => {\r\n            });\r\n    }\r\n\r\n    updateArticleOrder(articleId, orderId) {\r\n        this.articleService.updateArticleOrder(articleId, orderId)\r\n            .then(response => {\r\n            });\r\n    }\r\n\r\n    moveUpArticle(article) {\r\n        let order = article.orderId - 1;\r\n        let up = this.articles.find(x => x.orderId === order);\r\n        \r\n        if(up && up.orderId === order) {\r\n            up.orderId = article.orderId;\r\n            up.changed = true;\r\n            article.orderId = order;\r\n            article.changed = true;\r\n\r\n            this.sortArticles();\r\n        }\r\n    }\r\n\r\n    moveDownArticle(article) {\r\n        let order = article.orderId + 1;\r\n        let down = this.articles.find(x => x.orderId === order);\r\n        \r\n        if(down && down.orderId === order) {\r\n            down.orderId = article.orderId;\r\n            down.changed = true;\r\n            article.orderId = order;\r\n            article.changed = true;\r\n        \r\n            this.sortArticles();\r\n        }\r\n    }\r\n\r\n    sortArticles() {\r\n        if (this.articles) {\r\n            this.sortedArticles = this.articles\r\n                .filter(function(item) {\r\n                    return item.isDeleted !== true;\r\n                })\r\n                .slice(0)\r\n                .sort((a, b) => {\r\n                    return (a['orderId'] - b['orderId']);\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    attached() {\r\n        let moveBlockUpChannel = 'move-block-up';\r\n        let moveBlockDownChannel = 'move-block-down';\r\n        let blockDeletedChannel = 'delete-block';\r\n\r\n        this.subscriptions.push(\r\n            this.eventAggregator.subscribe(this.navigation.section.url+'-start-edit', flag => this.startEdit(flag)));\r\n\r\n        this.subscriptions.push(\r\n            this.eventAggregator.subscribe(this.navigation.section.url+'-cancel-edit', flag => this.cancelEdit(flag)));\r\n\r\n        this.subscriptions.push(\r\n            this.eventAggregator.subscribe(this.navigation.section.url+'-save-article', flag => this.saveArticle(flag)));\r\n\r\n        this.subscriptions.push(\r\n            this.eventAggregator.subscribe(moveBlockUpChannel, block => this.moveBlockUp(block)));\r\n\r\n        this.subscriptions.push(\r\n            this.eventAggregator.subscribe(moveBlockDownChannel, block => this.moveBlockDown(block)));\r\n\r\n        this.subscriptions.push(\r\n            this.eventAggregator.subscribe(blockDeletedChannel, block => this.sort()));\r\n    }\r\n\r\n    detached() {\r\n        this.subscriptions.forEach(function (subscription) {\r\n            subscription.dispose();\r\n        });\r\n    }\r\n}\r\n","import {inject} from \"aurelia-framework\";\r\nimport {ArticleService} from '../services/article-service';\r\n\r\n@inject(ArticleService, \"Settings\")\r\nexport class Navigation {\r\n\r\n    constructor (articleService, settings) {\r\n        \r\n        this.articleService = articleService;\r\n        this.settings = settings;\r\n        this.section = this.settings.getStudiesSection();\r\n        this.menus = [];\r\n        \r\n        this.menu = {\r\n            editMode:false,\r\n            section: this.section,\r\n            editModeUrl: ''\r\n        };\r\n\r\n        this.loadCategories(this.section.sectionId);\r\n    }\r\n\r\n    loadCategories(sectionId) {\r\n        this.articleService.getCategories(sectionId)\r\n            .then(categories => {\r\n                this.menu.items = categories;\r\n                this.menus.push(this.menu);\r\n            });\r\n    }\r\n\r\n    configureRouter(config, router) {\r\n        config.title = this.section.Title;\r\n        \r\n\r\n        config.map([\r\n            { route: ['', ':category', ':category/:article'], moduleId: \"./category\", name:\"category\"}\r\n        ]);\r\n\r\n        this.router = router;\r\n    }\r\n \r\n    selectMenuItem(categoryUrl) {\r\n        if (this.menu && this.menu.items) {\r\n            this.menu.items.forEach(function(item) {\r\n                item.isActive = item.url === categoryUrl;\r\n            });\r\n        }\r\n    }\r\n}","export class Create {\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {StrategyService} from '../services/strategy-service';\r\nimport {ValidationRules, ValidationController, validateTrigger} from \"aurelia-validation\"\r\nimport {BootstrapFormRenderer} from \"../common/bootstrap-form-renderer\"\r\n\r\n@inject(EventAggregator, StrategyService, \"ErrorParser\", ValidationController)\r\nexport class Edit {\r\n\r\n    constructor (eventAggregator, strategyService, errorParser, validation) {\r\n\r\n        this.errorParser = errorParser;\r\n        this.eventAggregator = eventAggregator;\r\n        this.strategyService = strategyService;\r\n\r\n        this.subscriptions = [];\r\n        this.editMode = false;\r\n        this.errors = [];\r\n        this.strategy = {};\r\n\r\n        this.validation = validation;\r\n        this.validation.validateTrigger = validateTrigger.change;\r\n        this.validation.addRenderer(new BootstrapFormRenderer());\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n\r\n        let self = this;\r\n        this.router = navigationInstruction.router;\r\n\r\n        if (params.strategy) {\r\n\r\n            this.strategyService.getByUrl(params.strategy)\r\n                .then(data => {\r\n                    self.strategy = data;\r\n\r\n                    ValidationRules\r\n                        .ensure(u => u.name)\r\n                            .required()\r\n                            .minLength(3)\r\n                        .ensure(u => u.url)\r\n                            .required()\r\n                            .minLength(3)\r\n                        .on(self.strategy);\r\n\r\n                })\r\n                .catch(error => {\r\n                    this.handleError(error);\r\n                });\r\n\r\n        }\r\n    }\r\n\r\n    update() {\r\n        if (!this.strategy) {\r\n            return;\r\n        }\r\n\r\n        if (this.validation.errors && this.validation.errors.length > 0) {\r\n            return;\r\n        }\r\n\r\n        this.strategyService.update(this.strategy)\r\n            .then(result => {\r\n                if (result.strategyId > 0) {\r\n                    this.router.navigateToRoute(\"strategy-list\");\r\n                }\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"update\");\r\n            });        \r\n    }\r\n\r\n    attached() {\r\n        //subscribe here\r\n    }\r\n\r\n\r\n    detached() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleError(error) {\r\n        let self = this;\r\n\r\n        this.errorParser.parseError(error)\r\n            .then(errorInfo => {\r\n                self.errors.push(errorInfo);\r\n            });\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {StrategyService} from '../services/strategy-service';\r\n\r\n@inject(EventAggregator, StrategyService, \"ErrorParser\")\r\nexport class List {\r\n\r\n    constructor (eventAggregator, strategyService, errorParser) {\r\n\r\n        this.errorParser = errorParser;\r\n        this.eventAggregator = eventAggregator;\r\n        this.strategyService = strategyService;\r\n        this.subscriptions = [];\r\n        this.editMode = false;\r\n        this.errors = [];\r\n        this.strategies = [];\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n\r\n        let self = this;\r\n        this.router = navigationInstruction.router;\r\n        this.strategyService.getAll()\r\n            .then(data => {\r\n                self.strategies = data;\r\n            })\r\n            .catch(error => {\r\n                this.handleError(error);\r\n            });\r\n    }\r\n\r\n    attached() {\r\n        //subscribe here\r\n    }\r\n\r\n    generateUrl(strategy) {\r\n        let url = \"\";\r\n\r\n        if (strategy && strategy.strategyId) {\r\n            url = this.router.generate(\"strategy-edit\", {strategy: strategy.url});\r\n        }\r\n        return url;\r\n    }\r\n\r\n    detached() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleError(error) {\r\n        let self = this;\r\n\r\n        this.errorParser.parseError(error)\r\n            .then(errorInfo => {\r\n                self.errors.push(errorInfo);\r\n            });\r\n    }\r\n}","export class Navigation {\r\n\r\n    configureRouter(config, router) {\r\n        config.title = 'Strategies';\r\n\r\n\r\n        config.map([\r\n            { route: ['','list'], moduleId: \"./list\", name:\"strategy-list\", title: \"Strategies\", nav:true },\r\n            { route: ['create'], moduleId: \"./create\", name:\"strategy-create\", title: \"Create Strategy\", nav:true, auth: true },\r\n            { route: ['edit','edit/:strategy'], moduleId: \"./edit\", name:\"strategy-edit\", title: \"Modify Strategy\", nav:false, auth: true }\r\n        ]);\r\n\r\n        this.router = router;\r\n        this.section = config.title;\r\n    }\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class ArticleBlock {\r\n    @bindable block;\r\n\r\n}","\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {bindable, inject} from 'aurelia-framework';\r\n\r\n@inject(EventAggregator)\r\nexport class BlockActions {\r\n    @bindable block;\r\n\r\n    constructor(eventAggregator) {\r\n        this.eventAggregator = eventAggregator;\r\n        this.subscriptions = [];\r\n        this.moveBlockUpChannel = 'move-block-up';\r\n        this.moveBlockDownChannel = 'move-block-down';\r\n    }\r\n\r\n    blockChanged(newValue, oldValue) {\r\n        if(this.requiresAction()) {\r\n            //this.subscriptions.push(\r\n            //    this.eventAggregator.subscribe(\"apply-changes-\"+newValue.BlockId, block => {\r\n            //        block.isEditing = false;\r\n            //    })\r\n            // );\r\n        }\r\n    }\r\n\r\n    startEditing () {\r\n        this.block.isEditing = true;\r\n    }\r\n    \r\n    startDeleting () {\r\n        this.block.isDeleting = true;\r\n    }\r\n    \r\n\r\n    cancelEditing() {\r\n        this.block.isEditing = false;\r\n        this.block.isDeleting = false;\r\n    }    \r\n    \r\n    addBlock() {\r\n        if (this.block.BlockType !== 'Select') {\r\n            this.block.isNew = false;\r\n            this.block.isEditing = true;\r\n        }\r\n    }\r\n\r\n    deleteBlock() {\r\n        this.block.deleted = true;\r\n        this.block.isDeleting = false;\r\n\r\n        let blockDeletedChannel = 'delete-block';\r\n        this.eventAggregator.publish(blockDeletedChannel, this.block);\r\n    }\r\n\r\n    applyChanges() {\r\n        if(this.requiresAction()) {\r\n            let channel = 'article-block-' + this.block.BlockId;\r\n            this.eventAggregator.publish(channel, true);\r\n        } else {\r\n            this.block.isEditing = false;\r\n        }\r\n    }\r\n\r\n    requiresAction() {\r\n        return this.block.Items\r\n            || this.block.BlockType === 'Image'\r\n            || this.block.BlockType === 'OrderedList';\r\n    }\r\n\r\n    moveUp() {\r\n        this.eventAggregator.publish(this.moveBlockUpChannel, this.block);\r\n    }\r\n\r\n    moveDown() {\r\n        this.eventAggregator.publish(this.moveBlockDownChannel, this.block);\r\n    }\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class HeadingBlock {\r\n    @bindable block;\r\n\r\n    constructor() {\r\n        this.headingTypes = ['H1','H2','H3','H4','H5'];\r\n    }\r\n}","import {bindable, inject} from 'aurelia-framework';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {BlobServices} from '../../../services/blob-services';\r\nimport $ from 'jquery';\r\n\r\n@inject(EventAggregator, BlobServices)\r\nexport class ImageBlock {\r\n    @bindable block;\r\n\r\n    constructor(eventAggregator, blobServices) {\r\n        this.eventAggregator = eventAggregator;\r\n        this.blobServices = blobServices;\r\n        this.selectedFiles = [];\r\n        this.subscriptions = [];\r\n        this.image = [];\r\n        this.subscribed = false;\r\n    }\r\n    blockChanged(newValue, oldValue) {\r\n        if (this.isValidBlock()) {\r\n            this.subscribe();\r\n        }\r\n    }\r\n\r\n    subscribe() {\r\n        if (this.subscribed !== true) {\r\n            this.channel = 'article-block-' + this.block.BlockId;\r\n            this.subscriptions.push(this.eventAggregator.subscribe(this.channel, update => this.updateBlock(update)));\r\n            this.subscribed = true;\r\n        }\r\n    }\r\n\r\n    updateBlock(update) {\r\n        if (this.isValidBlock()) {\r\n\r\n            if (this.selectedFiles.length > 0) {\r\n                let reader = new FileReader();\r\n                let file = this.selectedFiles.item(0);\r\n                let self = this;\r\n                reader.addEventListener(\"loadend\", function() {\r\n                    if (reader.readyState === 2) {\r\n                        self.blobServices.post(file.name, reader.result)\r\n                            .then(imageUrl => {\r\n                                self.block.ImageUrl = imageUrl;\r\n                                self.block.isEditing = false;\r\n                            })\r\n                            .catch(error => {\r\n                                return this.handleError(error, \"updateBlock\");\r\n                            });\r\n                    }\r\n                });\r\n                reader.readAsDataURL(file);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    isValidBlock() {\r\n        return this.block.BlockType === 'Image';\r\n    }\r\n\r\n    blobToUrl(blob) {\r\n        this.subscribe();\r\n        return URL.createObjectURL(blob);\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"ImageBlock->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}\r\n\r\n\r\nexport class BlobToUrlValueConverter {  \r\n    toView(blob) {\r\n        this.imageUrl = URL.createObjectURL(blob);\r\n        return this.imageUrl;\r\n    }\r\n}\r\n\r\nexport class FileListToArrayValueConverter {  \r\n    toView(fileList) {\r\n        let files = [];\r\n        if (!fileList) {\r\n            return files;\r\n        }\r\n        for(let i = 0; i < fileList.length; i++) {\r\n            files.push(fileList.item(i));\r\n        }\r\n        return files;\r\n    }\r\n}","export function configure(config) {\r\n    config.globalResources(\r\n        './article-block',\r\n        './heading-block',\r\n        './paragraph-block',\r\n        './image-block',\r\n        './ordered-list-block',\r\n        './block-actions',\r\n        './new-block'\r\n    );\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class NewBlock {\r\n    @bindable block;\r\n\r\n    constructor () {\r\n        this.blockTypes = ['Heading','Image','OrderedList','Paragraph'];\r\n    }\r\n\r\n}","import {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {bindable, inject} from 'aurelia-framework';\r\nimport $ from 'jquery';\r\n\r\n@inject(EventAggregator)\r\nexport class OrderedListBlock {\r\n    @bindable block;\r\n\r\n    constructor(eventAggregator) {\r\n        this.eventAggregator = eventAggregator;\r\n        this.subscriptions = [];\r\n        this.subscribed = false;\r\n    }\r\n\r\n    blockChanged(newValue, oldValue) {\r\n        if(this.isValidBlock()) {\r\n            this.subscribe();\r\n        }\r\n    }\r\n\r\n    subscribe() {\r\n        this.channel = 'article-block-' + this.block.BlockId;\r\n        this.subscriptions.push(this.eventAggregator.subscribe(this.channel, update => this.updateBlock(update)));\r\n        this.subscribed = true;\r\n    }\r\n\r\n    updateBlock(update) {\r\n        if(this.isValidBlock()) {\r\n            let block = this.block;\r\n            let items = [];\r\n\r\n            let blockId = this.block.BlockId;\r\n            let index = 0;\r\n\r\n            this.block.Items.forEach(function(item) {\r\n                let id = blockId + '-' + index;\r\n                items.push($(`#${id}`).val());\r\n                index++;\r\n            });\r\n\r\n            block.Items = items;\r\n            //this.eventAggregator.publish(\"apply-changes-\"+blockId, block);\r\n            block.isEditing = false;\r\n        }\r\n    }\r\n\r\n    appendItem() {\r\n        if(this.isValidBlock()) {\r\n            if (!this.block.Items) {\r\n                this.block.Items = [];\r\n                if (this.subscribed !== true) {\r\n                    this.subscribe();\r\n                }\r\n            }\r\n            this.block.Items.push('');\r\n        }\r\n    }\r\n\r\n    deleteItem(pos) {\r\n        if(this.isValidBlock()) {\r\n            this.block.Items.splice(pos, 1);\r\n        }\r\n    }\r\n\r\n    detached() {\r\n        this.subscriptions.forEach(function (subscription) {\r\n            subscription.dispose();\r\n        });\r\n    }\r\n\r\n    isValidBlock() {\r\n        return this.block.BlockType === 'OrderedList';\r\n    }\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class ParagraphBlock {\r\n    @bindable block;\r\n}","import 'npm-anystock';\r\nimport {bindable} from 'aurelia-framework';\r\n\r\nexport class AnyChart {\r\n    @bindable container = 'container';\r\n\r\n    constructor() {\r\n    }\r\n\r\n    containerChanged(newValue, oldValue) {\r\n        this.draw(newValue);\r\n    }\r\n\r\n    generateSome(data) {\r\n\r\n    }\r\n\r\n    draw(container) {\r\n\r\n        anychart.onDocumentReady(function() {\r\n\r\n\r\n            // defining the chart type\r\n            var chart = anychart.stock();\r\n\r\n            var table = anychart.data.table();\r\n            table.addData([\r\n                ['2015-12-24T12:00:00', '511.53', '514.98', '505.79', '506.40'],\r\n                ['2015-12-25T12:00:00', '512.53', '514.88', '505.69', '507.34'],\r\n                ['2015-12-26T12:00:00', '511.83', '514.98', '505.59', '506.23'],\r\n                ['2015-12-27T12:00:00', '511.22', '515.30', '505.49', '506.47'],\r\n                ['2015-12-28T12:00:00', '510.35', '515.72', '505.23', '505.80'],\r\n                ['2015-12-29T12:00:00', '510.53', '515.86', '505.38', '508.25'],\r\n                ['2015-12-30T12:00:00', '511.43', '515.98', '505.66', '507.45'],\r\n                ['2015-12-31T12:00:00', '511.50', '515.33', '505.99', '507.98'],\r\n                ['2016-01-01T12:00:00', '511.32', '514.29', '505.99', '506.37'],\r\n                ['2016-01-02T12:00:00', '511.70', '514.87', '506.18', '506.75'],\r\n                ['2016-01-03T12:00:00', '512.30', '514.78', '505.87', '508.67'],\r\n                ['2016-01-04T12:00:00', '512.50', '514.77', '505.83', '508.35'],\r\n                ['2016-01-05T12:00:00', '511.53', '516.18', '505.91', '509.42'],\r\n                ['2016-01-06T12:00:00', '511.13', '516.01', '506.00', '509.26'],\r\n                ['2016-01-07T12:00:00', '510.93', '516.07', '506.00', '510.99'],\r\n                ['2016-01-08T12:00:00', '510.88', '515.93', '505.22', '509.95'],\r\n                ['2016-01-09T12:00:00', '509.12', '515.97', '505.15', '510.12'],\r\n                ['2016-01-10T12:00:00', '508.53', '516.13', '505.66', '510.42'],\r\n                ['2016-01-11T12:00:00', '508.90', '516.24', '505.73', '510.40']\r\n            ]);\r\n\r\n            // mapping the data\r\n            var mapping = table.mapAs();\r\n            mapping.addField('open', 1, 'first');\r\n            mapping.addField('high', 2, 'max');\r\n            mapping.addField('low', 3, 'min');\r\n            mapping.addField('close', 4, 'last');\r\n            mapping.addField('value', 4, 'last');\r\n\r\n            // set the series type\r\n            chart.plot(0).ohlc(mapping).name('ACME Corp.');\r\n\r\n            /*\r\n            table = anychart.data.table();\r\ntable.addData([\r\n['2016-01-01T12:00:00', 1.0860],\r\n['2016-01-04T12:00:00', 1.0832],\r\n['2016-01-05T12:00:00', 1.0780],\r\n['2016-01-06T12:00:00', 1.0781],\r\n['2016-01-07T12:00:00', 1.0936],\r\n['2016-01-08T12:00:00', 1.0932]\r\n]);\r\n\r\n// map the data\r\nmapping = table.mapAs();\r\nmapping.addField('value', 1);\r\n\r\nvar series = chart.plot(1).line(mapping);\r\nseries.name(\"Euro to Dollar Rate\");\r\n            */\r\n\r\n\r\n            // setting the chart title\r\n            chart.title('AnyStock Basic Sample');\r\n\r\n            chart.container(container);\r\n            chart.draw();\r\n\r\n        });\r\n    }\r\n\r\n\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"..\\src"}