{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/settings.js","src/account/edit.js","src/account/login.js","src/account/navigation.js","src/account/user-context.js","src/account/view.js","src/common/bootstrap-form-renderer.js","src/common/error-handler.js","src/common/error-parser.js","src/navigation/index.js","src/navigation/sub-menu.js","src/navigation/sub-nav.js","src/resources/index.js","src/services/article-service.js","src/services/blob-services.js","src/services/indicator-service.js","src/services/rule-service.js","src/services/strategy-service.js","src/strategies/create.js","src/strategies/edit.js","src/strategies/list.js","src/strategies/navigation.js","src/studies/category.js","src/studies/navigation.js","src/resources/attributes/first-letter-span.js","src/strategies/indicators/indicators.js","src/strategies/rules/rule-sets.js","src/strategies/rules/rules.js","src/strategies/rules/strategy-rules.js","src/resources/elements/article/article-block.js","src/resources/elements/article/article.js","src/resources/elements/article/block-actions.js","src/resources/elements/article/heading-block.js","src/resources/elements/article/image-block.js","src/resources/elements/article/index.js","src/resources/elements/article/new-block.js","src/resources/elements/article/ordered-list-block.js","src/resources/elements/article/paragraph-block.js","src/resources/elements/chart/any-chart.js","src/resources/elements/indicator/indicator.js","src/resources/elements/navigation/main-nav.js","src/resources/elements/navigation/nav-header.js","src/resources/elements/navigation/sub-nav.js","src/resources/elements/rule/rule.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validate-binding-behavior.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validate-trigger.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validate-binding-behavior-base.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-controller.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validator.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/property-info.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-error.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-controller-factory.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-errors-custom-attribute.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/validation-renderer-custom-attribute.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/rules.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/standard-validator.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/validation-messages.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/validation-parser.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/util.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/node_modules/aurelia-validation/dist/amd/implementation/validation-rules.js","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/app.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/account/edit.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/account/login.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/account/navigation.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/account/view.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/navigation/sub-menu.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/navigation/sub-nav.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/strategies/create.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/strategies/edit.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/strategies/list.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/strategies/navigation.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/studies/category.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/studies/navigation.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/strategies/indicators/indicators.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/strategies/rules/rule-sets.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/strategies/rules/rules.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/strategies/rules/strategy-rules.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/article/article-block.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/article/article.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/article/block-actions.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/article/heading-block.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/article/image-block.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/article/new-block.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/article/ordered-list-block.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/article/paragraph-block.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/chart/any-chart.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/indicator/indicator.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/navigation/main-nav.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/navigation/nav-header.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/navigation/sub-nav.html","C:/justeat/sergey-balaboskin/app_walker/src/dream.walker.space/src/resources/elements/rule/rule.html"],"names":["App","userContext","settings","isAuthenticated","user","homePage","router","configureRouter","config","title","options","pushState","addPipelineStep","AuthorizeStep","map","route","moduleId","name","nav","auth","redirect","run","navigationInstruction","next","getAllInstructions","some","i","cancel","debug","testing","configure","aurelia","errorparser","container","get","initialize","then","use","instance","standardConfiguration","feature","plugin","developmentLogging","start","setRoot","Settings","httpClient","eventAggregator","indicatorService","useStandardConfiguration","withBaseUrl","sections","http","initialized","indicators","periods","id","url","defaultPeriod","getStudiesSection","find","s","getSection","sectionId","fetch","response","json","getNames","catch","handleError","error","getIndicators","period","filter","indicator","source","exception","publish","Edit","validation","validateTrigger","change","addRenderer","ensure","u","firstName","required","minLength","on","activate","params","routeConfig","update","errors","length","result","navigate","Login","username","password","login","generate","window","location","href","Navigation","section","UserContext","loginRequest","Email","Password","RememberMe","method","body","status","logout","updateRequest","Username","FirstName","View","edit","BootstrapFormRenderer","render","instruction","unrender","elements","element","remove","add","formGroup","closest","classList","contains","message","document","createElement","className","textContent","appendChild","querySelector","removeChild","querySelectorAll","ErrorHandler","errorParser","subscribe","lastError","client","server","self","parseError","logError","errorInfo","getLastError","logger","console","ErrorParser","parseErrorFromStream","stream","promise","Promise","resolve","reject","reader","getReader","read","data","enc","TextDecoder","decode","value","JSON","parse","Message","Source","e","err","serverError","globalResources","SubMenu","editMode","subscriptions","startEdit","cancelEdit","applyChanges","sectionChanged","newValue","oldValue","attached","push","detached","forEach","subscription","dispose","SubNav","categoriesUrl","menu","getUrl","menuItem","ArticleService","getArticle","deleteArticle","updateArticleOrder","articleId","orderId","article","ArticleId","OrderId","getArticleByUrl","categotyId","articleUrl","getCategories","getCategory","categoryUrl","getFeatured","categoryId","getArticles","saveArticle","saveCategory","category","deleteCategory","BlobServices","post","fileName","fileBody","payload","IndicatorService","indicatorsWeekly","indicatorsDaily","getIndicator","getIndicatorsForPeriod","deleteIndicator","saveIndicator","RuleService","getRule","getRulesForPeriod","deleteRule","saveRule","rule","StrategyService","getAll","getByUrl","getById","strategy","enable","strategyId","deleted","disable","Create","strategyService","navigateToRoute","List","strategies","generateUrl","Category","articleService","navigation","powerUser","routeconfig","loadCategory","loadArticle","setEditMode","loadArticles","articles","sortArticles","selectMenuItem","getArticleUrl","flag","onArticleSaved","changed","IsDeleted","removeArticle","addArticle","isFeatured","isDeleted","maxOrderId","blocks","isDeleting","cancelDeleteArticle","confirmDeleteArticle","moveUpArticle","order","up","x","moveDownArticle","down","sortedArticles","item","slice","sort","a","b","unsubscribe","menus","editModeUrl","loadCategories","items","categories","Title","isActive","FirstLetterSpan","Element","childElementCount","wrapFirstLetterInSpan","text","innerText","transformed","replace","txt","charAt","toUpperCase","substr","toLowerCase","innerHTML","Indicators","RuleSets","ruleSets","Rules","ruleService","globalSettings","rules","activePeriod","activatePeriod","loadRules","defaultUrl","periodUrl","active","index","findIndex","loadRulesForPeriod","isPeriodActive","periodId","StrategyRules","ArticleBlock","Article","articleChanged","sortedBlocks","originalArticle","Object","assign","isEditing","block","alert","addBlock","isNew","BlockId","maxBlockId","Text","moveBlockUp","moveBlockDown","list","max","blockId","BlockActions","moveBlockUpChannel","moveBlockDownChannel","blockChanged","requiresAction","startEditing","startDeleting","cancelEditing","BlockType","deleteBlock","blockDeletedChannel","channel","Items","moveUp","moveDown","HeadingBlock","headingTypes","ImageBlock","blobServices","selectedFiles","image","subscribed","isValidBlock","updateBlock","FileReader","file","addEventListener","readyState","ImageUrl","imageUrl","readAsDataURL","blobToUrl","blob","URL","createObjectURL","BlobToUrlValueConverter","toView","FileListToArrayValueConverter","fileList","files","NewBlock","blockTypes","OrderedListBlock","val","appendItem","deleteItem","pos","splice","ParagraphBlock","AnyChart","containerChanged","draw","generateSome","anychart","onDocumentReady","chart","stock","table","addData","mapping","mapAs","addField","plot","ohlc","Indicator","indicatorChanged","newIndicator","description","originalIndicator","trySaveIndicator","validate","r","MainNav","NavHeader","routerChanged","oldVlalue","loginUrl","actionsChanged","publishEvent","toastr","Rule","controllerFactory","createForCurrentScope","manual","indicatorDataSeries","compareTypes","dataSources","priceDataSeries","transformFunctions","ruleChanged","ruleItem","newRule","setDataSeries","ruleInfo","reset","satisfies","onPeriodChange","onDataSourceV1Change","onDataSourceV2Change","dataSourceV1","dataSeriesOptionsV1","dataSourceV2","dataSeriesOptionsV2","originalRule","trySaveRule","valid","success"],"mappings":"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P,uBAAO2B,OAAP,WAAuBzY,SAAShD,IAAhC,2BAA4D,YAA5D;AACH,aAJL,EAKKmD,KALL,CAKW,iBAAS;AACZ,uBAAKC,WAAL,CAAiBC,KAAjB;AACAyW,uBAAOzW,KAAP,CAAa,qBAAb,EAAoC,OAApC;AACH,aARL;AASH;;uBAEDD,mCAAYC,OAAO;AACf,gBAAI8E,OAAO,IAAX;;AAEA,iBAAKL,WAAL,CAAiBM,UAAjB,CAA4B/E,KAA5B,EACKlC,IADL,CACU,qBAAa;AACfgH,qBAAKvD,MAAL,CAAY+F,IAAZ,CAAiBrC,SAAjB;AACH,aAHL;AAIH;;;;;;;;AC/JL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1ZA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA","file":"app-bundle.js","sourcesContent":["import {inject} from \"aurelia-framework\";\r\nimport {RedirectToRoute } from 'aurelia-router';\r\n\r\n@inject(\"User\", \"Settings\")\r\nexport class App {\r\n\r\n    constructor(userContext, settings) {\r\n        this.isAuthenticated = userContext.user.isAuthenticated;\r\n        this.homePage = settings.homePage;\r\n        this.router = null;\r\n    }\r\n\r\n    configureRouter(config, router) {\r\n\r\n        config.title = 'Dream Space';\r\n        config.options.pushState = true;\r\n\r\n        this.router = router;\r\n        config.addPipelineStep('authorize', AuthorizeStep);\r\n        config.map([\r\n            { route: [\"account\"], moduleId: \"account/navigation\", name:\"account\", title: \"Login\", nav: false },\r\n            { route: [\"strategies\"], moduleId: \"strategies/navigation\", name:\"strategies\", title: \"Strategies\", auth: true , nav:this.isAuthenticated },\r\n            { route: [\"studies\"], moduleId: \"studies/navigation\", name:\"studies\", title: \"Studies\", nav:true },\r\n            { route: '', redirect: this.homePage }\r\n\r\n        ]);\r\n\r\n    }\r\n}\r\n\r\n\r\n@inject(\"User\", \"Settings\")\r\nclass AuthorizeStep {\r\n\r\n    constructor(userContext, settings) {\r\n        this.isAuthenticated = userContext.user.isAuthenticated;\r\n        this.homePage = settings.homePage;\r\n    }\r\n\r\n    run(navigationInstruction, next) {\r\n        if (navigationInstruction.getAllInstructions().some(i => i.config.auth)) {\r\n\r\n            if (this.isAuthenticated) {\r\n                return next();\r\n            } else {\r\n                return next.cancel(new RedirectToRoute('account'));\r\n            }\r\n        } else {\r\n            if (navigationInstruction.getAllInstructions()\r\n                .some(i => i.config.name === 'account-login' && this.isAuthenticated)) {\r\n                return next.cancel(new RedirectToRoute(this.homePage));\r\n            }\r\n            return next();\r\n        }\r\n    }\r\n\r\n}","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import $ from 'jquery';\nimport environment from './environment';\nimport {Settings} from './settings';\nimport {ErrorParser} from './common/error-parser';\nimport {UserContext} from './account/user-context';\n\r\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\n//Promise.config({\n//  warnings: {\n//    wForgottenReturn: false\n//  }\n//});\n\nexport function configure(aurelia) {\n    let errorparser = aurelia.container.get(ErrorParser);\n    let userContext = aurelia.container.get(UserContext);\n    let settings = aurelia.container.get(Settings);\n\n    userContext.initialize()\n        .then(response => {\n\n            settings.initialize()\n                .then(response => {\n                    aurelia.use\n                        .instance('ErrorParser',errorparser)\n                        .instance('Settings',settings)\n                        .instance('User',userContext)\n                        .standardConfiguration()\n                        .feature('resources')\n                        .feature('navigation')\r\n                        .plugin('aurelia-validation');\r\n\n                    if (environment.debug) {\n                        aurelia.use.developmentLogging();\n                    }\n\n                    if (environment.testing) {\n                        //aurelia.use.plugin('aurelia-testing');\n                    }\n\n                    aurelia.start().then(() => {\n                        aurelia.setRoot();\n                    });\n\n                });\n\n            \n        });\n\n}\n","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {IndicatorService} from './services/indicator-service';\r\n\r\n@inject(HttpClient, EventAggregator, IndicatorService)\r\nexport class Settings {\r\n\r\n    constructor (httpClient, eventAggregator, indicatorService) {\n        this.eventAggregator = eventAggregator;\r\n        this.indicatorService = indicatorService;\r\n\r\n        httpClient.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.sections = [];\r\n        this.http = httpClient;\r\n        this.initialized = false;\n        this.homePage = 'studies';\n        this.indicators = [];\n\n        this.periods = [\r\n            {id:0, name: 'Daily', url: 'daily'},\r\n            {id:1, name: 'Weekly', url: 'weekly'}\r\n        ];\n\n        this.defaultPeriod = this.periods[0];\n    }\r\n    \r\n    getStudiesSection() {\r\n        if (this.initialized === true) {\r\n            return this.sections.find(s => s.url === \"studies\");\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getSection(sectionId) {\r\n        if (this.initialized === true) {\r\n            return this.sections.find(s => s.sectionId === sectionId);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    initialize() {\r\n        return this.http.fetch(\"article/sections\")\r\n            .then(response => {\r\n                return response.json()\r\n                    .then(sections => {\r\n                        this.sections = sections;\r\n                        \r\n                        return this.indicatorService.getNames()\r\n                            .then(response => {\r\n                                this.indicators = response;\r\n\r\n                                this.initialized = true;\r\n                            })\r\n                            .catch(error => {\r\n                                return this.handleError(error, \"initialize\");\r\n                            });\r\n\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"initialize\");\r\n            });\r\n    }\r\n\r\n    getIndicators(period) {\r\n        return this.indicators.filter(indicator => indicator.period === period);\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"Settings->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {ValidationRules, ValidationController, validateTrigger} from \"aurelia-validation\"\r\nimport {BootstrapFormRenderer} from \"../common/bootstrap-form-renderer\"\r\n\r\n@inject(\"User\", EventAggregator, ValidationController)\r\nexport class Edit {\r\n    \r\n    constructor(userContext, eventAggregator, validation) {\r\n        this.userContext = userContext;\r\n        this.eventAggregator = eventAggregator;\r\n        this.user = this.userContext.user;\r\n        \r\n        this.validation = validation;\r\n        this.validation.validateTrigger = validateTrigger.change;\r\n        this.validation.addRenderer(new BootstrapFormRenderer());\r\n\r\n        ValidationRules\r\n            .ensure(u => u.firstName)\r\n            .required()\r\n            .minLength(3)\r\n            .on(this.user);\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n        this.router = navigationInstruction.router;\r\n    }\r\n\r\n    update() {\r\n        if (this.validation.errors && this.validation.errors.length > 0) {\r\n            return;\r\n        }\r\n\r\n        this.userContext.update(this.user)\r\n            .then(result => {\r\n                if (result === 0) {\r\n                    this.router.navigate(\"view\");\r\n                }\r\n            })\r\n        .catch(error => {\r\n            return this.handleError(error, \"update\");\r\n        });\r\n    \r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"Account.Edit->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {inject,bindable} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\n@inject(\"User\", EventAggregator)\r\nexport class Login {\r\n\r\n    constructor(userContext, eventAggregator ) {\r\n        this.userContext = userContext;\r\n        this.eventAggregator = eventAggregator;\r\n\r\n        this.username = '';\r\n        this.password = '';\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n        this.router = navigationInstruction.router;\r\n    }\r\n\r\n    login() {\r\n        this.userContext.login(this.username, this.password)\r\n            .then(result => {\r\n                if (result === 0) {\r\n                    let url = this.router.generate(\"strategies\");\r\n                    window.location.href = url;\r\n                }\r\n            })\r\n        .catch(error => {\r\n            return this.handleError(error, \"login\");\r\n        });\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"Account.Login->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","\r\nexport class Navigation {\r\n\r\n    configureRouter(config, router) {\r\n        config.title = 'Login';\r\n\r\n        config.map([\r\n            { route: ['', 'login'], moduleId: \"./login\", name: \"account-login\", title: \"Login\", nav: false },\r\n            { route: ['edit'], moduleId: \"./edit\", name: \"account-edit\", title: \"Edit Profile\", nav: true, auth: true },\r\n            { route: ['view'], moduleId: \"./view\", name: \"account-view\", title: \"View Profile\", nav: true, auth: true }\r\n        ]);\r\n\r\n        this.router = router;\r\n        this.section = config.title;\r\n    }\r\n}\r\n\r\n","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class UserContext {\r\n\r\n    constructor (httpClient, eventAggregator) {\r\n        httpClient.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.http = httpClient;\r\n        this.eventAggregator = eventAggregator;\r\n        this.user = {};\r\n    }\r\n\r\n\r\n    initialize() {\r\n        return this.http.fetch(\"account/user\")\r\n            .then(response => {\r\n                return response.json().then(user => {\r\n                    this.user = user;\r\n                });\r\n            })\r\n            .catch(error => {\r\n                this.handleError(error, \"initialize\");\r\n            });\r\n    }\r\n\r\n\r\n    login(username, password) {\r\n        let loginRequest = {\r\n            Email: username,\r\n            Password: password,\r\n            RememberMe: true\r\n        };\r\n\r\n        return this.http.fetch(\"account/login\",\r\n            {\r\n                method: 'post',\r\n                body: json(loginRequest)\r\n            })\r\n            .then(response => {\r\n                return response.json()\r\n                    .then(result => {\r\n                        if (result.status === 0) {\r\n                            this.user = result.user;\r\n                        }\r\n                        return result.status;\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"login\");\r\n            });\r\n    }\r\n\r\n    logout() {\r\n        return this.http.fetch(\"account/logout\",\r\n            {\r\n                method: 'post'\r\n            })\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"logout\");\r\n            });\r\n    }\r\n\r\n    update(user) {\r\n        let updateRequest = {\r\n            Username : user.username,\r\n            FirstName: user.firstName\r\n        };\r\n\r\n        return this.http.fetch(\"account/update\",\r\n            {\r\n                method: 'put',\r\n                body: json(updateRequest)\r\n            })\r\n            .then(response => {\r\n                return response.json()\r\n                    .then(result => {\r\n                        if (result.status === 0) {\r\n                            this.user = result.user;\r\n                        }\r\n                        return result.status;\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"update\");\r\n            });\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"UserContext->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","\r\nimport {inject} from \"aurelia-framework\";\r\n\r\n@inject(\"User\")\r\nexport class View {\r\n\r\n    constructor(userContext) {\r\n        this.user = userContext.user;\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n        this.router = navigationInstruction.router;\r\n    }\r\n\r\n\r\n    edit() {\r\n        this.router.navigate(\"edit\");\r\n    }\r\n}","import {ValidationRenderer, RenderInstruction, ValidationError} from \"aurelia-validation\"\r\n\r\nexport class BootstrapFormRenderer {\n    render(instruction) {\n        for (let { error, elements } of instruction.unrender) {\n            for (let element of elements) {\n                this.remove(element, error);\n            }\n        }\n\n        for (let { error, elements } of instruction.render) {\n            for (let element of elements) {\n                this.add(element, error);\n            }\n        }\n    }\n\n    add(element, error) {\n        if(!error) {\n            return;\r\n        }\n\n        const formGroup = element.closest('.form-group');\n        if (!formGroup) {\n            return;\n        }\n\n        // add the has-error class to the enclosing form-group div\n        if(formGroup.classList.contains('has-error')) {\n            return;\r\n        }\n\n        formGroup.classList.add('has-error');\n\n        // add help-block\n        const message = document.createElement('span');\n        message.className = 'help-block validation-message';\n        message.textContent = error.message;\n        message.id = `validation-message-${error.id}`;\n        formGroup.appendChild(message);\n    }\n\n    remove(element, error) {\n        if(!error) {\n            return;\r\n        }\n        const formGroup = element.closest('.form-group');\n        if (!formGroup) {\n            return;\n        }\n\n        // remove help-block\n        const message = formGroup.querySelector(`#validation-message-${error.id}`);\n        if (message) {\n            formGroup.removeChild(message);\n\n            // remove the has-error class from the enclosing form-group div\n            if (formGroup.querySelectorAll('.help-block.validation-message').length === 0) {\n                formGroup.classList.remove('has-error');\n            }\n        }\n    }\n\n}\n","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport toastr from 'toastr'\r\n\r\n@inject(EventAggregator, \"ErrorParser\")\r\nexport class ErrorHandler {\r\n\r\n    constructor(eventAggregator, errorParser) {\r\n        this.errorParser = errorParser;\r\n\r\n        eventAggregator.subscribe(\"GeneralExceptions\", error => this.handleError(error));    \r\n\r\n        this.lastError =\r\n        {\r\n            client : {\r\n                source: \"\",\r\n                message: \"\"\r\n            },\r\n            server : {\r\n                source:\"\",\r\n                message:\"\"\r\n            }\r\n           \r\n        }\r\n    }\r\n\r\n    handleError(error) {\r\n        let self = this;\r\n\r\n        this.errorParser.parseError(error)\r\n            .then(errorInfo => {\r\n                self.logError(errorInfo);\r\n            });\r\n    }\r\n\r\n    getLastError() {\r\n        return this.lastError;\r\n    }\r\n\r\n\r\n    logError (errorInfo) {\r\n        this.lastError = errorInfo;\r\n\r\n        let logger = `${errorInfo.client.source} (${errorInfo.server.source})`;\r\n        let message = `ERROR [${logger}] ${errorInfo.client.message} SERVER: ${errorInfo.server.message}`;\r\n        \r\n        console.error(message);\r\n        toastr.error(message);\r\n    }\r\n}","export class ErrorParser {\r\n\r\n    parseErrorFromStream(stream) {\r\n\r\n        var promise = new Promise(\r\n            function (resolve, reject) { // (A)\r\n\r\n                let result = {\r\n                    source:\"\",\r\n                    message: \"\"\r\n                }\r\n\r\n                try {\r\n\r\n                    let reader = stream.getReader();\r\n\r\n                    reader.read()\r\n                        .then(function(data) {\r\n\r\n                            let enc = new TextDecoder();\r\n                            let message = enc.decode(data.value);\r\n\r\n                            try {\r\n                                let json = JSON.parse(message);\r\n\r\n                                result.message = json.Message;\r\n                                result.source = json.Source;\r\n\r\n                            } catch (e) {\r\n                                result.message = message;\r\n                            }\r\n\r\n                            resolve(result);\r\n                        })\r\n                        .catch(err => {\r\n                            reject(err);\r\n                        });\r\n\r\n                } catch (e) {\r\n                    reject(e);\r\n                }\r\n\r\n            });\r\n\r\n        return promise;\r\n\r\n\r\n    }\r\n\r\n\r\n    parseError(error) {\r\n\r\n        var promise = new Promise(\r\n            function(resolve, reject) { // (A)\r\n\r\n\r\n                let errorInfo = {\r\n                    client: {\r\n                        source: \"\",\r\n                        message: \"\"\r\n                    },\r\n                    server: {\r\n                        source: \"\",\r\n                        message: \"\"\r\n                    }\r\n                }\r\n\r\n                if (error.source) {\r\n                    errorInfo.client.source = error.source;\r\n                }\r\n\r\n                if (error.message) {\r\n                    errorInfo.client.message = error.message;\r\n                }\r\n\r\n                if (error.exception) {\r\n\r\n                    this.parseErrorFromStream(error.exception.body)\r\n                        .then(serverError => {\r\n                            errorInfo.server.source = serverError.source;\r\n                            errorInfo.server.message = serverError.message;\r\n\r\n                            resolve(errorInfo);\r\n                        })\r\n                        .catch(error => {\r\n                            errorInfo.server.message = \"Failed to extract server message\";\r\n                            resolve(errorInfo);\r\n                        });\r\n\r\n                } else {\r\n                    if (errorInfo.client.source.length === 0 && errorInfo.client.message.length === 0) {\r\n                        errorInfo.client.message = error;\r\n                    }\r\n\r\n                    resolve(errorInfo);\r\n                }\r\n\r\n            });\r\n\r\n        return promise;\r\n    }\r\n\r\n}","export function configure(config) {\r\n    config.globalResources(\r\n        './sub-menu'\r\n    );\r\n}","import {bindable, inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(EventAggregator)\r\nexport class SubMenu {\r\n    @bindable router;\r\n    @bindable section;\r\n\r\n    constructor (eventAggregator) {\r\n        this.editMode = false;\r\n        this.eventAggregator = eventAggregator;\r\n        this.subscriptions = [];\r\n    }\r\n\r\n    startEdit() {\r\n        this.editMode = true;\r\n        this.eventAggregator.publish(this.section + '-edit-mode', this.editMode);\r\n    }\r\n\r\n    cancelEdit() {\r\n        this.editMode = false;\r\n        this.eventAggregator.publish(this.section + '-edit-mode', this.editMode);\r\n    }\r\n\r\n    applyChanges() {\r\n        this.eventAggregator.publish(this.section + '-save', true);\r\n    }\r\n\r\n    sectionChanged(newValue, oldValue) {\r\n        this.section = newValue;\r\n    }\r\n\r\n    attached() {\r\n        this.subscriptions.push(\r\n            this.eventAggregator.subscribe(this.section + '-cancel-edit', flag => this.cancelEdit()));\r\n    }\r\n\r\n    detached() {\r\n        this.subscriptions.forEach(function (subscription) {\r\n            subscription.dispose();\r\n        });\r\n    }\r\n\r\n}","export class SubNav {\r\n\r\n    constructor () {\r\n        this.categoriesUrl = '';\r\n    }\r\n\r\n    activate(menu) {\r\n        this.menu = menu;\r\n        this.categoriesUrl = this.menu.section.url + '/categories/' +  this.menu.section.sectionId;\r\n    }\r\n\r\n    getUrl(menuItem) {\r\n        return '' + this.menu.section.url + '/' + menuItem.url;\r\n    }\r\n\r\n}","export function configure(config) {\n    \n    config.globalResources(['./elements/navigation/nav-header']);\n    config.globalResources(['./elements/navigation/main-nav']);\n    config.globalResources(['./elements/navigation/sub-nav']);\n    config.globalResources(['./elements/chart/any-chart']);\n    config.globalResources(['./elements/rule/rule']);\n    config.globalResources(['./elements/indicator/indicator']);\n    config.globalResources(['./attributes/first-letter-span']);\n    config.globalResources(\r\n        './elements/article/article',\r\n        './elements/article/article-block',\r\n        './elements/article//heading-block',\r\n        './elements/article//paragraph-block',\r\n        './elements/article/image-block',\r\n        './elements/article/ordered-list-block',\r\n        './elements/article/block-actions',\r\n        './elements/article/new-block'\r\n    );\n}\n","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class ArticleService {\r\n\r\n    constructor (httpClient, eventAggregator) {\r\n        httpClient.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.http = httpClient;\r\n        this.eventAggregator = eventAggregator;\r\n    }\r\n\r\n\r\n    getArticle(id) {\r\n        return this.http.fetch(\"article/\"+id)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getArticle\");\r\n            });\r\n    }    \r\n    \r\n    deleteArticle(id) {\r\n        return this.http.fetch(\"article/\"+id, {method: 'delete'})\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"deleteArticle\");\r\n            });\r\n    }\r\n    \r\n    updateArticleOrder(articleId, orderId) {\r\n        let article = {\r\n            ArticleId: articleId,\r\n            OrderId: orderId\r\n        }\r\n\r\n        return this.http.fetch(\"article/\"+articleId+\"/order\", {method: 'put', body:json(article)})\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"updateArticleOrder\");\r\n            });\r\n    }\r\n\r\n    getArticleByUrl(categotyId, articleUrl) {\r\n        return this.http.fetch(\"article/url/\"+categotyId+\"/\"+articleUrl)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getArticleByUrl\");\r\n            });\r\n    }\r\n\r\n\r\n    getSection(url) {\r\n        return this.http.fetch(\"article/section/\"+url)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getSection\");\r\n            });\r\n    }\r\n    \r\n    getCategories(sectionId) {\r\n\r\n        return this.http.fetch(\"article/categories/\"+sectionId)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getCategories\");\r\n            });\r\n    }\r\n\r\n    getCategory (categoryUrl) {\r\n        return this.http.fetch(\"article/category/\"+categoryUrl)\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error);\r\n            });\r\n    }\r\n\r\n    getFeatured(categoryId) {\r\n        return this.http.fetch(\"article/\"+categoryId+\"/featured\")\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getFeatured\");\r\n            });\r\n    }    \r\n\r\n    getArticles(categoryId) {\r\n        return this.http.fetch(\"article/\"+categoryId+\"/all\")\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"getArticles\");\r\n            });\r\n    }\r\n\r\n    saveArticle(article) {\r\n        return this.http.fetch('article', {\r\n            method: 'post',\r\n            body:json(article)\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            this.handleError(error, \"saveArticle\");\r\n        });\r\n    }\r\n\r\n    saveCategory(category) {\r\n        return this.http.fetch('article/category', {\r\n            method: 'post',\r\n            body:json(category)\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            this.handleError(error, \"saveCategory\");\r\n        });\r\n    }\r\n\r\n    deleteCategory(categoryId) {\r\n        return this.http.fetch('article/category/'+categoryId, {\r\n            method: 'delete'\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            this.handleError(error, \"deleteCategory\");\r\n        });\r\n\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"ArticleService->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class BlobServices {\r\n    \r\n\r\n    constructor (http, eventAggregator) {\r\n        http.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.eventAggregator = eventAggregator;\r\n        this.http = http;\r\n    }\r\n\r\n    \r\n    post(fileName, fileBody) {\r\n        let payload = {\r\n            fileName: fileName,\r\n            fileBody: fileBody\r\n        };\r\n\r\n        return this.http.fetch('blob/upload', {\r\n            method: 'post',\r\n            body:json(payload)\r\n            })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            return this.handleError(error, \"post\");\r\n        });\r\n    }\r\n\r\n    \r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"BlobServices->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\nimport {HttpClient, json} from 'aurelia-fetch-client';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(HttpClient, EventAggregator)\nexport class IndicatorService {\n    \n    constructor (http, eventAggregator) {\n        http.configure(config => {\n            config\n                .useStandardConfiguration()\n                .withBaseUrl('api/');\n\n        });\n\n        this.eventAggregator = eventAggregator;\n        this.http = http;\n        this.indicatorsWeekly = [];\n        this.indicatorsDaily = [];\n    }\n\n    getNames() {\n\n        return this.http.fetch('indicator/all', { \n            method: 'get' \n        })\n        .then(response => { return response.json()})\n        .catch(error => {\n            return this.handleError(error, \"getNames\");\n        });\n    }\n\n    getIndicator(id) {\n\n        return this.http.fetch('indicator/'+id, {\n            method: 'get'\n        })\n        .then(response => response.json())\n        .catch(error => {\n            return this.handleError(error, \"getIndicator\");\n        });\n    }\n\n    getIndicatorsForPeriod(period) {\n\n        return this.http.fetch('indicator/'+period + '/all', {\n            method: 'get'\n        })\n        .then(response => response.json())\n        .catch(error => {\n            return this.handleError(error, \"getIndicatorsForPeriod\");\n        });\n    }\n\n    deleteIndicator(id) {\n        return this.http.fetch(\"indicator/\"+id, {method: 'delete'})\n            .then(response => {\n                return response.json();\n            })\n            .catch(error => {\n                return this.handleError(error, \"deleteIndicator\");\n            });\n    }\n    \n    saveIndicator(indicator) {\n        return this.http.fetch(\"indicator\", {\n            method: 'post',\n            body:json(indicator)\n        })\n        .then(response => response.json())\n        .catch(error => {\n            this.handleError(error, \"saveIndicator\");\n        });\n    }\n\n    handleError(error,  source) {\n        let exception = {\n            source: \"IndicatorService->\" + source,\n            exception: error\n        }\n        this.eventAggregator.publish('GeneralExceptions', exception);\n        return error;\n    }\n}","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class RuleService {\r\n    \r\n    constructor (http, eventAggregator) {\r\n        http.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.eventAggregator = eventAggregator;\r\n        this.http = http;\r\n    }\r\n\r\n    getRule(id) {\r\n\r\n        return this.http.fetch('rule/'+id, {\r\n            method: 'get'\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            return this.handleError(error, \"getRule\");\r\n        });\r\n    }\r\n\r\n    getRulesForPeriod(period) {\r\n\r\n        return this.http.fetch('rule/'+period + '/all', {\r\n            method: 'get'\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            return this.handleError(error, \"getRulesForPerios\");\r\n        });\r\n    }\r\n\r\n    deleteRule(id) {\r\n        return this.http.fetch(\"rule/\"+id, {method: 'delete'})\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"deleteRule\");\r\n            });\r\n    }\r\n    \r\n    saveRule(rule) {\r\n        return this.http.fetch(\"rule\", {\r\n            method: 'post',\r\n            body:json(rule)\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            this.handleError(error, \"saveRule\");\r\n        });\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"RuleService->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(HttpClient, EventAggregator)\r\nexport class StrategyService {\r\n    \r\n\r\n    constructor (http, eventAggregator) {\r\n        http.configure(config => {\r\n            config\r\n                .useStandardConfiguration()\r\n                .withBaseUrl('api/');\r\n\r\n        });\r\n\r\n        this.eventAggregator = eventAggregator;\r\n        this.http = http;\r\n    }\r\n\r\n    \r\n    getAll() {\r\n\r\n        return this.http.fetch('strategy/getAll', {\r\n            method: 'get'\r\n            })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            return this.handleError(error, \"getAll\");\r\n        });\r\n    }\r\n\r\n    getByUrl(url) {\r\n\r\n        return this.http.fetch('strategy/getByUrl/'+url, {\r\n            method: 'get'\r\n            })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            return this.handleError(error, \"getByUrl\");\r\n        });\r\n    }\r\n\r\n    getById(id) {\r\n\r\n        return this.http.fetch('strategy/get/'+id, {\r\n            method: 'get'\r\n            })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            return this.handleError(error, \"getById\");\r\n        });\r\n    }\r\n\r\n    update(strategy) {\r\n        return this.http.fetch('strategy', {\r\n            method: 'post',\r\n            body:json(strategy)\r\n        })\r\n        .then(response => response.json())\r\n        .catch(error => {\r\n            this.handleError(error, \"update\");\r\n        });\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"StrategyServices->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return exception;\r\n    }\r\n\r\n    enable(strategyId) {\r\n        let self = this;\r\n        return this.getById(strategyId)\r\n            .then(strategy => {\r\n                if (strategy && strategy.deleted) {\r\n                    strategy.deleted = false;\r\n                    return self.update(strategy);\r\n                }\r\n            });\r\n    }\r\n\r\n    disable(strategyId) {\r\n        let self = this;\r\n        return this.getById(strategyId)\r\n            .then(strategy => {\r\n                if (strategy && !strategy.deleted) {\r\n                    strategy.deleted = true;\r\n                    return self.update(strategy);\r\n                }\r\n            });\r\n    }\r\n\r\n}","export class Create {\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {StrategyService} from '../services/strategy-service';\r\nimport {ValidationRules, ValidationController, validateTrigger} from \"aurelia-validation\"\r\nimport {BootstrapFormRenderer} from \"../common/bootstrap-form-renderer\"\r\n\r\n@inject(EventAggregator, StrategyService, \"ErrorParser\", ValidationController)\r\nexport class Edit {\r\n\r\n    constructor (eventAggregator, strategyService, errorParser, validation) {\r\n\r\n        this.errorParser = errorParser;\r\n        this.eventAggregator = eventAggregator;\r\n        this.strategyService = strategyService;\r\n\r\n        this.subscriptions = [];\r\n        this.editMode = false;\r\n        this.errors = [];\r\n        this.strategy = {};\r\n\r\n        this.validation = validation;\r\n        this.validation.validateTrigger = validateTrigger.change;\r\n        this.validation.addRenderer(new BootstrapFormRenderer());\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n\r\n        let self = this;\r\n        this.router = navigationInstruction.router;\r\n\r\n        if (params.strategy) {\r\n\r\n            this.strategyService.getByUrl(params.strategy)\r\n                .then(data => {\r\n                    self.strategy = data;\r\n\r\n                    ValidationRules\r\n                        .ensure(u => u.name)\r\n                            .required()\r\n                            .minLength(3)\r\n                        .ensure(u => u.url)\r\n                            .required()\r\n                            .minLength(3)\r\n                        .on(self.strategy);\r\n\r\n                })\r\n                .catch(error => {\r\n                    this.handleError(error);\r\n                });\r\n\r\n        }\r\n    }\r\n\r\n    update() {\r\n        if (!this.strategy) {\r\n            return;\r\n        }\r\n\r\n        if (this.validation.errors && this.validation.errors.length > 0) {\r\n            return;\r\n        }\r\n\r\n        this.strategyService.update(this.strategy)\r\n            .then(result => {\r\n                if (result.strategyId > 0) {\r\n                    this.router.navigateToRoute(\"strategy-list\");\r\n                }\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"update\");\r\n            });        \r\n    }\r\n\r\n    attached() {\r\n        //subscribe here\r\n    }\r\n\r\n\r\n    detached() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleError(error) {\r\n        let self = this;\r\n\r\n        this.errorParser.parseError(error)\r\n            .then(errorInfo => {\r\n                self.errors.push(errorInfo);\r\n            });\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {StrategyService} from '../services/strategy-service';\r\n\r\n@inject(EventAggregator, StrategyService, \"ErrorParser\")\r\nexport class List {\r\n\r\n    constructor (eventAggregator, strategyService, errorParser) {\r\n\r\n        this.errorParser = errorParser;\r\n        this.eventAggregator = eventAggregator;\r\n        this.strategyService = strategyService;\r\n        this.subscriptions = [];\r\n        this.editMode = false;\r\n        this.errors = [];\r\n        this.strategies = [];\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n\r\n        let self = this;\r\n        this.router = navigationInstruction.router;\r\n        this.strategyService.getAll()\r\n            .then(data => {\r\n                self.strategies = data;\r\n            })\r\n            .catch(error => {\r\n                this.handleError(error);\r\n            });\r\n    }\r\n\r\n    attached() {\r\n        //subscribe here\r\n    }\r\n\r\n    enable(strategy) {\r\n        if (strategy && strategy.strategyId) {\r\n            this.strategyService.enable(strategy.strategyId)\r\n                .then(data => {\r\n                    if (data) {\r\n                        strategy.deleted = data.deleted;\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    this.handleError(error);\r\n                });\r\n        }\r\n    }\r\n\r\n    disable(strategy) {\r\n        if (strategy && strategy.strategyId) {\r\n            this.strategyService.disable(strategy.strategyId)\r\n                .then(data => {\r\n                    if (data) {\r\n                        strategy.deleted = data.deleted;\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    this.handleError(error);\r\n                });\r\n        }\r\n    }\r\n\r\n    generateUrl(strategy) {\r\n        let url = \"\";\r\n\r\n        if (strategy && strategy.strategyId) {\r\n            url = this.router.generate(\"strategy-edit\", {strategy: strategy.url});\r\n        }\r\n        return url;\r\n    }\r\n\r\n    detached() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleError(error) {\r\n        let self = this;\r\n\r\n        this.errorParser.parseError(error)\r\n            .then(errorInfo => {\r\n                self.errors.push(errorInfo);\r\n            });\r\n    }\r\n}","export class Navigation {\r\n\r\n    configureRouter(config, router) {\r\n        config.title = 'Strategies';\r\n\r\n\r\n        config.map([\r\n            { route: ['','list'], moduleId: \"./list\", name:\"strategy-list\", title: \"Strategies\", nav:true },\r\n            { route: ['create'], moduleId: \"./create\", name:\"strategy-create\", title: \"Create Strategy\", nav:false, auth: true },\r\n            { route: ['edit','edit/:strategy'], moduleId: \"./edit\", name:\"strategy-edit\", title: \"Modify Strategy\", nav:false, auth: true },\r\n            { route: ['rules','rules/:period'], moduleId: \"./rules/rules\", name:\"manage-rules\", title: \"Manage Rules\", nav:true, auth: true },\r\n            { route: ['rule-sets', 'rule-sets/:period'], moduleId: \"./rules/rule-sets\", name:\"manage-rule-sets\", title: \"Manage Rule Sets\", nav:true, auth: true },\r\n            { route: ['indicators', 'indicators/:period'], moduleId: \"./indicators/indicators\", name:\"manage-indicators\", title: \"Manage Indicators\", nav:true, auth: true }\r\n        ]);\r\n\r\n        this.router = router;\r\n        this.section = config.title;\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {ArticleService} from '../services/article-service';\r\nimport {Navigation} from './navigation'\r\n\r\n@inject(EventAggregator, ArticleService, Navigation, \"User\")\r\nexport class Category {\r\n\r\n    constructor (eventAggregator, articleService, navigation, userContext) {\r\n        this.powerUser = userContext.user.isAuthenticated;\r\n        this.eventAggregator = eventAggregator;\r\n        this.articleService = articleService;\r\n        this.subscriptions = [];\r\n        this.editMode = false;\r\n        this.navigation = navigation;\r\n        this.article = {};\r\n    }\r\n\r\n    activate(params, routeconfig) {\r\n        this.articleUrl = \"default\";\r\n\r\n        if (!params.category) {\r\n            params.category = \"default\";\r\n        }\r\n        \r\n        if (params.article) {\r\n            this.articleUrl = params.article;\r\n        }\r\n\r\n        this.loadCategory(params.category);\r\n    }\r\n\r\n    loadArticle(categoryId, articleUrl) {\r\n\r\n        this.articleService.getArticleByUrl(categoryId, articleUrl)\r\n        .then(result => {\r\n            this.article = result;\r\n            this.setEditMode(false);\r\n            this.subscribe();\r\n        });\r\n    }\r\n\r\n    loadArticles(categoryId) {\r\n        this.articleService.getArticles(categoryId)\r\n            .then(articles => {\r\n                this.articles = articles;\r\n                this.sortArticles();\r\n            });\r\n    }\r\n\r\n    loadCategory(categoryUrl) {\r\n        this.setEditMode(false);\r\n\r\n        this.articleService.getCategory(categoryUrl)\r\n            .then(category => {\r\n                this.category = category;\r\n\r\n                if (this.category && this.category.categoryId > 0) {\r\n                    this.navigation.selectMenuItem(category.url);\r\n\r\n                    this.loadArticle(this.category.categoryId, this.articleUrl);\r\n                    this.loadArticles(this.category.categoryId);\r\n                }\r\n            });\r\n    }\r\n\r\n    getArticleUrl(article) {\r\n        return '/' + this.navigation.section.url + '/' + this.category.url + '/' + article.url;\r\n    }\r\n\r\n    setEditMode (editMode) {\r\n        this.editMode = editMode;\r\n        this.navigation.menu.editMode = editMode;\r\n    }\r\n\r\n    getUrl(menuItem) {\r\n        return '' + this.menu.section.url + '/' + menuItem.url;\r\n    }\r\n\r\n    \r\n    startEdit(flag) {\r\n        if (this.article && this.article.articleId) {\r\n            this.eventAggregator.publish('start-edit-article-' + this.article.articleId, true);\r\n        }\r\n\r\n        this.setEditMode(true);\r\n    }\r\n\r\n    cancelEdit(flag) {\r\n        if (this.article && this.article.articleId) {\r\n            this.eventAggregator.publish('cancel-edit-article-' + this.article.articleId, true);\r\n        }\r\n \r\n        this.setEditMode(false);\r\n    }\r\n\r\n    saveArticle(flag) {\r\n\r\n        if (this.article && this.article.articleId) {\r\n            this.eventAggregator.publish('save-article-' + this.article.articleId, true);\r\n        }\r\n    }\r\n\r\n    onArticleSaved(flag) {\r\n        if (flag) {\r\n            this.setEditMode(false);\r\n\r\n            if (this.articles) {\r\n                this.articles.forEach(function(article) {\r\n                    if (article.changed === true) {\r\n                        if (article.IsDeleted) {\r\n                            self.removeArticle(article.articleId);\r\n                        } else {\r\n                            self.updateArticleOrder(article.articleId, article.orderId);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    addArticle() {\r\n        this.article = {\r\n            articleId: 0,\r\n            categoryId: this.category.categoryId,\r\n            isFeatured: false,\r\n            isDeleted: false,\r\n            title: \"New Article\",\r\n            url: \"new-article\",\r\n            orderId: this.maxOrderId(this.articles) + 1,\r\n            blocks: []\r\n        };\r\n    }\r\n\r\n\r\n    deleteArticle(article) {\r\n        article.isDeleting = true;\r\n    }\r\n\r\n    cancelDeleteArticle(article) {\r\n        article.isDeleting = false;\r\n    }\r\n\r\n    confirmDeleteArticle(article) {\r\n        article.IsDeleted = true;\r\n    }    \r\n    \r\n    removeArticle(articleId) {\r\n        this.articleService.deleteArticle(articleId)\r\n            .then(response => {\r\n            });\r\n    }\r\n\r\n    updateArticleOrder(articleId, orderId) {\r\n        this.articleService.updateArticleOrder(articleId, orderId)\r\n            .then(response => {\r\n            });\r\n    }\r\n\r\n    moveUpArticle(article) {\r\n        let order = article.orderId - 1;\r\n        let up = this.articles.find(x => x.orderId === order);\r\n        \r\n        if(up && up.orderId === order) {\r\n            up.orderId = article.orderId;\r\n            up.changed = true;\r\n            article.orderId = order;\r\n            article.changed = true;\r\n\r\n            this.sortArticles();\r\n        }\r\n    }\r\n\r\n    moveDownArticle(article) {\r\n        let order = article.orderId + 1;\r\n        let down = this.articles.find(x => x.orderId === order);\r\n        \r\n        if(down && down.orderId === order) {\r\n            down.orderId = article.orderId;\r\n            down.changed = true;\r\n            article.orderId = order;\r\n            article.changed = true;\r\n        \r\n            this.sortArticles();\r\n        }\r\n    }\r\n\r\n    sortArticles() {\r\n        if (this.articles) {\r\n            this.sortedArticles = this.articles\r\n                .filter(function(item) {\r\n                    return item.isDeleted !== true;\r\n                })\r\n                .slice(0)\r\n                .sort((a, b) => {\r\n                    return (a['orderId'] - b['orderId']);\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    subscribe() {\r\n\r\n        if (this.article && this.article.articleId) {\r\n            this.unsubscribe();\r\n\r\n            this.subscriptions.push(\r\n                    this.eventAggregator.subscribe('article-saved-' + this.article.articleId, flag => this.onArticleSaved(flag)));\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    unsubscribe() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    detached() {\r\n        this.unsubscribe();\r\n    }\r\n}\r\n","import {inject} from \"aurelia-framework\";\r\nimport {ArticleService} from '../services/article-service';\r\n\r\n@inject(ArticleService, \"Settings\")\r\nexport class Navigation {\r\n\r\n    constructor (articleService, settings) {\r\n        \r\n        this.articleService = articleService;\r\n        this.settings = settings;\r\n        this.section = this.settings.getStudiesSection();\r\n        this.menus = [];\r\n        \r\n        this.menu = {\r\n            editMode:false,\r\n            section: this.section,\r\n            editModeUrl: ''\r\n        };\r\n\r\n        this.loadCategories(this.section.sectionId);\r\n    }\r\n\r\n    loadCategories(sectionId) {\r\n        this.articleService.getCategories(sectionId)\r\n            .then(categories => {\r\n                this.menu.items = categories;\r\n                this.menus.push(this.menu);\r\n            });\r\n    }\r\n\r\n    configureRouter(config, router) {\r\n        config.title = this.section.Title;\r\n        \r\n\r\n        config.map([\r\n            { route: ['', ':category', ':category/:article'], moduleId: \"./category\", name:\"category\"}\r\n        ]);\r\n\r\n        this.router = router;\r\n    }\r\n \r\n    selectMenuItem(categoryUrl) {\r\n        if (this.menu && this.menu.items) {\r\n            this.menu.items.forEach(function(item) {\r\n                item.isActive = item.url === categoryUrl;\r\n            });\r\n        }\r\n    }\r\n}","import {inject, customAttribute, containerless} from \"aurelia-framework\";\r\n\r\n//@containerless()\r\n@inject(Element)\r\n@customAttribute('first-letter-span')\r\nexport class FirstLetterSpan {\r\n\r\n    constructor(element){\r\n        this.element = element;\r\n        if(this.element.childElementCount === 0) {\r\n            this.wrapFirstLetterInSpan();\r\n        }\r\n    }\r\n\r\n    wrapFirstLetterInSpan(){\r\n        let text = this.element.innerText;\r\n        let transformed = text.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n        transformed = transformed.replace(/\\b([a-z])/gi, '<span>$1</span>')\r\n        this.element.innerHTML = transformed;\r\n    }\r\n\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {IndicatorService} from '../../services/indicator-service';\r\n\r\n@inject(EventAggregator, IndicatorService, \"ErrorParser\")\r\nexport class Indicators {\r\n\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {RuleService} from '../../services/rule-service';\r\n\r\n@inject(EventAggregator, RuleService, \"ErrorParser\")\r\nexport class RuleSets {\r\n\r\n    constructor (eventAggregator, strategyService, errorParser) {\r\n\r\n        this.errorParser = errorParser;\r\n        this.eventAggregator = eventAggregator;\r\n        this.strategyService = strategyService;\r\n        this.subscriptions = [];\r\n        this.errors = [];\r\n        this.ruleSets = [];\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {RuleService} from '../../services/rule-service';\r\n\r\n@inject(EventAggregator, RuleService, \"ErrorParser\", \"Settings\")\r\nexport class Rules {\r\n\r\n    constructor (eventAggregator, ruleService, errorParser, globalSettings) {\r\n\r\n        this.errorParser = errorParser;\r\n        this.eventAggregator = eventAggregator;\r\n        this.ruleService = ruleService;\r\n        this.globalSettings = globalSettings;\r\n        this.subscriptions = [];\r\n        this.errors = [];\r\n        this.rules = [];\r\n\r\n        this.activePeriod = this.globalSettings.defaultPeriod;\r\n        this.periods = this.globalSettings.periods;\r\n    }\r\n\r\n    activate(params, routeConfig, navigationInstruction) {\r\n        this.router = navigationInstruction.router;\r\n\r\n        if (params.period) {\r\n            this.activePeriod = this.activatePeriod(params.period);\r\n            this.loadRules(this.activePeriod.id);\r\n\r\n        } else {\r\n            let defaultUrl = '/strategies/rules/' + this.activePeriod.url;\r\n            this.router.navigate(defaultUrl);\r\n        }\r\n        \r\n    }\r\n    \r\n    activatePeriod(periodUrl) {\r\n\r\n        this.periods.forEach(function(element) {\r\n            element.active = false;\r\n        });\r\n        \r\n        let result = {};\r\n\r\n        let index = this.periods.findIndex(i => i.url.toLowerCase() === periodUrl.toLowerCase());\r\n        if(index === -1) {\r\n            result = this.defaultPeriod;\r\n        }\r\n        result = this.periods[index];\r\n        result.active = true;\r\n\r\n        return result;\r\n    }\r\n\r\n    loadRulesForPeriod (period){\r\n        let url = `/strategies/rules/${period.url}`;\r\n        this.router.navigate(url);\r\n    }\r\n\r\n    isPeriodActive(period) {\r\n        return period.id === this.activePeriod.id;\r\n    }\r\n\r\n    loadRules(periodId) {\r\n\r\n        this.ruleService.getRulesForPeriod(periodId)\r\n            .then(result => {\r\n                this.rules = result;\r\n            })\r\n            .catch(error => {\r\n                return this.handleError(error, \"update\");\r\n            });     \r\n    }\r\n\r\n    handleError(error) {\r\n        let self = this;\r\n\r\n        this.errorParser.parseError(error)\r\n            .then(errorInfo => {\r\n                self.errors.push(errorInfo);\r\n            });\r\n    }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {StrategyService} from '../../services/strategy-service';\r\n\r\n@inject(EventAggregator, StrategyService, \"ErrorParser\")\r\nexport class StrategyRules {\r\n\r\n    constructor (eventAggregator, strategyService, errorParser) {\r\n\r\n        this.errorParser = errorParser;\r\n        this.eventAggregator = eventAggregator;\r\n        this.strategyService = strategyService;\r\n        this.subscriptions = [];\r\n        this.errors = [];\r\n        this.rules = [];\r\n    }\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class ArticleBlock {\r\n    @bindable block;\r\n\r\n}","import {inject, bindable} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {ArticleService} from '../../../services/article-service';\r\n\r\n@inject(EventAggregator, ArticleService, \"User\")\r\nexport class Article {\r\n    @bindable article;\r\n\r\n    constructor (eventAggregator, articleService, userContext) {\r\n        this.powerUser = userContext.user.isAuthenticated;\r\n        this.eventAggregator = eventAggregator;\r\n        this.articleService = articleService;\r\n        this.subscriptions = [];\r\n        this.editMode = false;\r\n        this.article = {};\r\n    }\r\n\r\n    articleChanged(article) {\r\n        if (article && article.articleId) {\r\n            this.article = article;\r\n            this.subscribe();\r\n            this.setEditMode(false);\r\n        }\r\n    }  \r\n\r\n    sort(article) {\r\n        if (article && article.blocks) {\r\n            let sortedBlocks = article.blocks\r\n                .filter(function(item) {\r\n                    return item.deleted !== true;\r\n                })\r\n                .slice(0)\r\n                .sort((a, b) => {\r\n                    return (a['orderId'] - b['orderId']);\r\n                });\r\n            article.blocks = sortedBlocks;\r\n        }\r\n    }\r\n\r\n\r\n    startEdit(flag) {\r\n        this.originalArticle = Object.assign({}, this.article);\r\n        this.setEditMode(true);\r\n    }\r\n\r\n    cancelEdit(flag) {\r\n        this.article = this.originalArticle;\r\n        this.setEditMode(false);\r\n    }\r\n\r\n    saveArticle(flag) {\r\n\r\n        let isEditing = false;\r\n        let self = this;\r\n\r\n\r\n        this.article.blocks.forEach(function(block) {\r\n            if (block.isEditing === true) {\r\n                isEditing = true;\r\n            }\r\n        });\r\n\r\n        if (isEditing !== true) {\r\n            this.articleService.saveArticle(this.article)\r\n                .then(response => {\r\n                    this.eventAggregator.publish('article-saved-' + response.articleId, true);\r\n                    this.setEditMode(false);\r\n                })\r\n                .catch(error => {\r\n                    this.eventAggregator.publish('article-saved-' + response.articleId, false);\r\n                });\r\n        } else {\r\n            alert(\"Some block are in edit mode. Apply changes to those blocks first.\");\r\n        }\r\n    }\r\n\r\n\r\n    setEditMode (editMode) {\r\n        if (this.article &&  this.article.articleId) {\r\n            this.editMode = editMode;\r\n\r\n            this.article.blocks.forEach(function(block) {\r\n                block.editMode = editMode;\r\n                if (editMode !== true) {\r\n                    block.isEditing = false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    addBlock() {\r\n        if (!this.article.blocks) {\r\n            this.article.blocks = [];\r\n        }\r\n        \r\n        let block = {\r\n            isNew: true,\r\n            BlockId: this.maxBlockId(this.article.blocks) + 1,\r\n            OrderId: this.maxOrderId(this.article.blocks) + 1,\r\n\r\n            Text: ''\r\n        };\r\n\r\n        this.article.blocks.push(block);\r\n    }\r\n\r\n    moveBlockUp(block) {\r\n        let order = block.orderId - 1;\r\n        let up = this.article.blocks.find(x => x.orderId === order);\r\n        if(up && up.orderId === order) {\r\n            up.orderId = block.orderId;\r\n            block.orderId = order;\r\n\r\n            this.sort(this.article);\r\n        }\r\n    }\r\n\r\n    moveBlockDown(block) {\r\n        let order = block.orderId + 1;\r\n        let down = this.article.blocks.find(x => x.orderId === order);\r\n        if(down && down.orderId === order) {\r\n            down.orderId = block.orderId;\r\n            block.orderId = order;\r\n\r\n            this.sort(this.article);\r\n        }\r\n    }\r\n\r\n    maxOrderId(list) {\r\n        let max = 0;\r\n        list.forEach(function(item) {\r\n            if (max < item.orderId) {\r\n                max = item.orderId;\r\n            }\r\n        });\r\n        return max;\r\n    }\r\n\r\n    maxBlockId(list) {\r\n        let max = 0;\r\n        list.forEach(function(item) {\r\n            if (max < item.blockId) {\r\n                max = item.blockId;\r\n            }\r\n        });\r\n        return max;\r\n    }\r\n\r\n    subscribe() {\r\n        this.unsubscribe();\r\n\r\n        if (this.article && this.article.articleId) {\r\n\r\n            this.subscriptions.push(\r\n                this.eventAggregator.subscribe('start-edit-article-' + this.article.articleId, flag => this.startEdit(flag)));\r\n\r\n            this.subscriptions.push(\r\n                this.eventAggregator.subscribe('cancel-edit-article-' + this.article.articleId, flag => this.cancelEdit(flag)));\r\n\r\n            this.subscriptions.push(\r\n                this.eventAggregator.subscribe('save-article-' + this.article.articleId, flag => this.saveArticle(flag)));\r\n\r\n            this.subscriptions.push(\r\n                this.eventAggregator.subscribe('move-block-up', block => this.moveBlockUp(block)));\r\n\r\n            this.subscriptions.push(\r\n                this.eventAggregator.subscribe('move-block-down', block => this.moveBlockDown(block)));\r\n\r\n            this.subscriptions.push(\r\n                this.eventAggregator.subscribe('delete-block', block => this.sort()));\r\n        }\r\n    }\r\n\r\n    detached() {\r\n        this.unsubscribe();\r\n    }\r\n    \r\n    unsubscribe() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n}","\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {bindable, inject} from 'aurelia-framework';\r\n\r\n@inject(EventAggregator)\r\nexport class BlockActions {\r\n    @bindable block;\r\n\r\n    constructor(eventAggregator) {\r\n        this.eventAggregator = eventAggregator;\r\n        this.subscriptions = [];\r\n        this.moveBlockUpChannel = 'move-block-up';\r\n        this.moveBlockDownChannel = 'move-block-down';\r\n    }\r\n\r\n    blockChanged(newValue, oldValue) {\r\n        if(this.requiresAction()) {\r\n            //this.subscriptions.push(\r\n            //    this.eventAggregator.subscribe(\"apply-changes-\"+newValue.BlockId, block => {\r\n            //        block.isEditing = false;\r\n            //    })\r\n            // );\r\n        }\r\n    }\r\n\r\n    startEditing () {\r\n        this.block.isEditing = true;\r\n    }\r\n    \r\n    startDeleting () {\r\n        this.block.isDeleting = true;\r\n    }\r\n    \r\n\r\n    cancelEditing() {\r\n        this.block.isEditing = false;\r\n        this.block.isDeleting = false;\r\n    }    \r\n    \r\n    addBlock() {\r\n        if (this.block.BlockType !== 'Select') {\r\n            this.block.isNew = false;\r\n            this.block.isEditing = true;\r\n        }\r\n    }\r\n\r\n    deleteBlock() {\r\n        this.block.deleted = true;\r\n        this.block.isDeleting = false;\r\n\r\n        let blockDeletedChannel = 'delete-block';\r\n        this.eventAggregator.publish(blockDeletedChannel, this.block);\r\n    }\r\n\r\n    applyChanges() {\r\n        if(this.requiresAction()) {\r\n            let channel = 'article-block-' + this.block.BlockId;\r\n            this.eventAggregator.publish(channel, true);\r\n        } else {\r\n            this.block.isEditing = false;\r\n        }\r\n    }\r\n\r\n    requiresAction() {\r\n        return this.block.Items\r\n            || this.block.BlockType === 'Image'\r\n            || this.block.BlockType === 'OrderedList';\r\n    }\r\n\r\n    moveUp() {\r\n        this.eventAggregator.publish(this.moveBlockUpChannel, this.block);\r\n    }\r\n\r\n    moveDown() {\r\n        this.eventAggregator.publish(this.moveBlockDownChannel, this.block);\r\n    }\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class HeadingBlock {\r\n    @bindable block;\r\n\r\n    constructor() {\r\n        this.headingTypes = ['H1','H2','H3','H4','H5'];\r\n    }\r\n}","import {bindable, inject} from 'aurelia-framework';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {BlobServices} from '../../../services/blob-services';\r\nimport $ from 'jquery';\r\n\r\n@inject(EventAggregator, BlobServices)\r\nexport class ImageBlock {\r\n    @bindable block;\r\n\r\n    constructor(eventAggregator, blobServices) {\r\n        this.eventAggregator = eventAggregator;\r\n        this.blobServices = blobServices;\r\n        this.selectedFiles = [];\r\n        this.subscriptions = [];\r\n        this.image = [];\r\n        this.subscribed = false;\r\n    }\r\n    blockChanged(newValue, oldValue) {\r\n        if (this.isValidBlock()) {\r\n            this.subscribe();\r\n        }\r\n    }\r\n\r\n    subscribe() {\r\n        if (this.subscribed !== true) {\r\n            this.channel = 'article-block-' + this.block.BlockId;\r\n            this.subscriptions.push(this.eventAggregator.subscribe(this.channel, update => this.updateBlock(update)));\r\n            this.subscribed = true;\r\n        }\r\n    }\r\n\r\n    updateBlock(update) {\r\n        if (this.isValidBlock()) {\r\n\r\n            if (this.selectedFiles.length > 0) {\r\n                let reader = new FileReader();\r\n                let file = this.selectedFiles.item(0);\r\n                let self = this;\r\n                reader.addEventListener(\"loadend\", function() {\r\n                    if (reader.readyState === 2) {\r\n                        self.blobServices.post(file.name, reader.result)\r\n                            .then(imageUrl => {\r\n                                self.block.ImageUrl = imageUrl;\r\n                                self.block.isEditing = false;\r\n                            })\r\n                            .catch(error => {\r\n                                return this.handleError(error, \"updateBlock\");\r\n                            });\r\n                    }\r\n                });\r\n                reader.readAsDataURL(file);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    isValidBlock() {\r\n        return this.block.BlockType === 'Image';\r\n    }\r\n\r\n    blobToUrl(blob) {\r\n        this.subscribe();\r\n        return URL.createObjectURL(blob);\r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"ImageBlock->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}\r\n\r\n\r\nexport class BlobToUrlValueConverter {  \r\n    toView(blob) {\r\n        this.imageUrl = URL.createObjectURL(blob);\r\n        return this.imageUrl;\r\n    }\r\n}\r\n\r\nexport class FileListToArrayValueConverter {  \r\n    toView(fileList) {\r\n        let files = [];\r\n        if (!fileList) {\r\n            return files;\r\n        }\r\n        for(let i = 0; i < fileList.length; i++) {\r\n            files.push(fileList.item(i));\r\n        }\r\n        return files;\r\n    }\r\n}","export function configure(config) {\r\n    config.globalResources(\r\n        './article',\r\n        './article-block',\r\n        './heading-block',\r\n        './paragraph-block',\r\n        './image-block',\r\n        './ordered-list-block',\r\n        './block-actions',\r\n        './new-block'\r\n    );\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class NewBlock {\r\n    @bindable block;\r\n\r\n    constructor () {\r\n        this.blockTypes = ['Heading','Image','OrderedList','Paragraph'];\r\n    }\r\n\r\n}","import {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {bindable, inject} from 'aurelia-framework';\r\nimport $ from 'jquery';\r\n\r\n@inject(EventAggregator)\r\nexport class OrderedListBlock {\r\n    @bindable block;\r\n\r\n    constructor(eventAggregator) {\r\n        this.eventAggregator = eventAggregator;\r\n        this.subscriptions = [];\r\n        this.subscribed = false;\r\n    }\r\n\r\n    blockChanged(newValue, oldValue) {\r\n        if(this.isValidBlock()) {\r\n            this.subscribe();\r\n        }\r\n    }\r\n\r\n    subscribe() {\r\n        this.channel = 'article-block-' + this.block.BlockId;\r\n        this.subscriptions.push(this.eventAggregator.subscribe(this.channel, update => this.updateBlock(update)));\r\n        this.subscribed = true;\r\n    }\r\n\r\n    updateBlock(update) {\r\n        if(this.isValidBlock()) {\r\n            let block = this.block;\r\n            let items = [];\r\n\r\n            let blockId = this.block.BlockId;\r\n            let index = 0;\r\n\r\n            this.block.Items.forEach(function(item) {\r\n                let id = blockId + '-' + index;\r\n                items.push($(`#${id}`).val());\r\n                index++;\r\n            });\r\n\r\n            block.Items = items;\r\n            //this.eventAggregator.publish(\"apply-changes-\"+blockId, block);\r\n            block.isEditing = false;\r\n        }\r\n    }\r\n\r\n    appendItem() {\r\n        if(this.isValidBlock()) {\r\n            if (!this.block.Items) {\r\n                this.block.Items = [];\r\n                if (this.subscribed !== true) {\r\n                    this.subscribe();\r\n                }\r\n            }\r\n            this.block.Items.push('');\r\n        }\r\n    }\r\n\r\n    deleteItem(pos) {\r\n        if(this.isValidBlock()) {\r\n            this.block.Items.splice(pos, 1);\r\n        }\r\n    }\r\n\r\n    detached() {\r\n        this.subscriptions.forEach(function (subscription) {\r\n            subscription.dispose();\r\n        });\r\n    }\r\n\r\n    isValidBlock() {\r\n        return this.block.BlockType === 'OrderedList';\r\n    }\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class ParagraphBlock {\r\n    @bindable block;\r\n}","import 'npm-anystock';\r\nimport {bindable} from 'aurelia-framework';\r\n\r\nexport class AnyChart {\r\n    @bindable container = 'container';\r\n\r\n    constructor() {\r\n    }\r\n\r\n    containerChanged(newValue, oldValue) {\r\n        this.draw(newValue);\r\n    }\r\n\r\n    generateSome(data) {\r\n\r\n    }\r\n\r\n    draw(container) {\r\n\r\n        anychart.onDocumentReady(function() {\r\n\r\n\r\n            // defining the chart type\r\n            var chart = anychart.stock();\r\n\r\n            var table = anychart.data.table();\r\n            table.addData([\r\n                ['2015-12-24T12:00:00', '511.53', '514.98', '505.79', '506.40'],\r\n                ['2015-12-25T12:00:00', '512.53', '514.88', '505.69', '507.34'],\r\n                ['2015-12-26T12:00:00', '511.83', '514.98', '505.59', '506.23'],\r\n                ['2015-12-27T12:00:00', '511.22', '515.30', '505.49', '506.47'],\r\n                ['2015-12-28T12:00:00', '510.35', '515.72', '505.23', '505.80'],\r\n                ['2015-12-29T12:00:00', '510.53', '515.86', '505.38', '508.25'],\r\n                ['2015-12-30T12:00:00', '511.43', '515.98', '505.66', '507.45'],\r\n                ['2015-12-31T12:00:00', '511.50', '515.33', '505.99', '507.98'],\r\n                ['2016-01-01T12:00:00', '511.32', '514.29', '505.99', '506.37'],\r\n                ['2016-01-02T12:00:00', '511.70', '514.87', '506.18', '506.75'],\r\n                ['2016-01-03T12:00:00', '512.30', '514.78', '505.87', '508.67'],\r\n                ['2016-01-04T12:00:00', '512.50', '514.77', '505.83', '508.35'],\r\n                ['2016-01-05T12:00:00', '511.53', '516.18', '505.91', '509.42'],\r\n                ['2016-01-06T12:00:00', '511.13', '516.01', '506.00', '509.26'],\r\n                ['2016-01-07T12:00:00', '510.93', '516.07', '506.00', '510.99'],\r\n                ['2016-01-08T12:00:00', '510.88', '515.93', '505.22', '509.95'],\r\n                ['2016-01-09T12:00:00', '509.12', '515.97', '505.15', '510.12'],\r\n                ['2016-01-10T12:00:00', '508.53', '516.13', '505.66', '510.42'],\r\n                ['2016-01-11T12:00:00', '508.90', '516.24', '505.73', '510.40']\r\n            ]);\r\n\r\n            // mapping the data\r\n            var mapping = table.mapAs();\r\n            mapping.addField('open', 1, 'first');\r\n            mapping.addField('high', 2, 'max');\r\n            mapping.addField('low', 3, 'min');\r\n            mapping.addField('close', 4, 'last');\r\n            mapping.addField('value', 4, 'last');\r\n\r\n            // set the series type\r\n            chart.plot(0).ohlc(mapping).name('ACME Corp.');\r\n\r\n            /*\r\n            table = anychart.data.table();\r\ntable.addData([\r\n['2016-01-01T12:00:00', 1.0860],\r\n['2016-01-04T12:00:00', 1.0832],\r\n['2016-01-05T12:00:00', 1.0780],\r\n['2016-01-06T12:00:00', 1.0781],\r\n['2016-01-07T12:00:00', 1.0936],\r\n['2016-01-08T12:00:00', 1.0932]\r\n]);\r\n\r\n// map the data\r\nmapping = table.mapAs();\r\nmapping.addField('value', 1);\r\n\r\nvar series = chart.plot(1).line(mapping);\r\nseries.name(\"Euro to Dollar Rate\");\r\n            */\r\n\r\n\r\n            // setting the chart title\r\n            chart.title('AnyStock Basic Sample');\r\n\r\n            chart.container(container);\r\n            chart.draw();\r\n\r\n        });\r\n    }\r\n\r\n\r\n}\r\n","import {inject, bindable} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {IndicatorService} from '../../../services/indicator-service';\r\nimport {ValidationRules, ValidationController, validateTrigger} from \"aurelia-validation\"\r\nimport {BootstrapFormRenderer} from \"../../../common/bootstrap-form-renderer\"\r\n\r\n@inject(EventAggregator, IndicatorService, \"User\", ValidationController)\r\nexport class Indicator {\r\n\r\n    @bindable indicator;\r\n\r\n    constructor (eventAggregator, indicatorService, userContext, validation) {\r\n        this.powerUser = userContext.user.isAuthenticated;\r\n        this.eventAggregator = eventAggregator;\r\n        this.validation = validation;\r\n        this.validation.validateTrigger = validateTrigger.change;\r\n        this.validation.addRenderer(new BootstrapFormRenderer());\r\n\r\n        this.indicatorService = indicatorService;\r\n        this.subscriptions = [];\r\n        this.errors = [];\r\n    }\r\n\r\n    indicatorChanged(indicator) {\r\n        if (indicator) {\r\n            let newIndicator = Object.assign({}, indicator);\r\n            this.newIndicator.editMode = false;\r\n            this.indicator = newIndicator;\r\n\r\n\r\n            ValidationRules\r\n                .ensure(u => u.name).required({message: \"^Indicator name must be set\"})\r\n                .ensure(u => u.description).required({message: \"^Description must be set\"})\r\n                .on(this.newIndicator);\r\n\r\n        }\r\n    }  \r\n\r\n    startEdit() {\r\n        this.originalIndicator = Object.assign({}, this.indicator);\r\n        this.indicator.editMode = true;\r\n    }\r\n\r\n    cancelEdit() {\r\n        this.indicator = this.originalIndicator;\r\n        this.indicator.editMode = false;\r\n    }\r\n\r\n    trySaveIndicator() {\r\n        this.validation.validate()\r\n            .then(response => {\r\n                let r = response;\r\n            })\r\n            .catch(error => {\r\n                this.handleError(error);\r\n            });    \r\n    }\r\n\r\n    saveIndicator(){\r\n        alert('saved')\r\n    }\r\n\r\n    attached() {\r\n        //subscribe here\r\n    }\r\n\r\n\r\n    detached() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleError(error) {\r\n        let self = this;\r\n\r\n        this.errorParser.parseError(error)\r\n            .then(errorInfo => {\r\n                self.errors.push(errorInfo);\r\n            });\r\n    }\r\n\r\n}","import {bindable} from \"aurelia-framework\";\r\n\r\nexport class MainNav {\r\n    @bindable router = null;\r\n\r\n    constructor() {\r\n    }\r\n}","import {inject, bindable} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(\"User\", \"Settings\", EventAggregator)\r\nexport class NavHeader {\r\n    @bindable router = null;\r\n\r\n    constructor(userContext, settings, eventAggregator) {\r\n        this.userContext = userContext;\r\n        this.eventAggregator = eventAggregator;\r\n        this.settings = settings;\r\n    }\r\n\r\n    routerChanged(newValue, oldVlalue){\r\n        this.router = newValue;\r\n    }\r\n\r\n    attached() {\r\n        this.isAuthenticated = this.userContext.user.isAuthenticated;\r\n        this.loginUrl = this.router.generate(\"account\")+'/view';\r\n    }\r\n\r\n    logout() {\r\n        this.userContext.logout()\r\n            .then(result => {\r\n                window.location.href = '/';\r\n            })\r\n        .catch(error => {\r\n            return this.handleError(error, \"logout\");\r\n        });    \r\n    }\r\n\r\n    handleError(error,  source) {\r\n        let exception = {\r\n            source: \"NavHeader->\" + source,\r\n            exception: error\r\n        }\r\n        this.eventAggregator.publish('GeneralExceptions', exception);\r\n        return error;\r\n    }\r\n}","import {bindable, inject} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(\"User\", EventAggregator)\r\nexport class SubNav {\r\n    @bindable router;\r\n\r\n    constructor (userContext, eventAggregator) {\r\n        this.powerUser = userContext.user.isAuthenticated;\r\n        this.eventAggregator = eventAggregator;\r\n        this.subscriptions = [];\r\n    }\r\n\r\n    actionsChanged(newValue) {\r\n        \r\n    }\r\n\r\n    publishEvent(channel, params) {\r\n        this.eventAggregator.publish(channel, params);\r\n    }\r\n\r\n\r\n    attached() {\r\n    }\r\n\r\n    detached() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n\r\n}","import * as toastr from \"toastr\";\r\nimport {inject, bindable} from \"aurelia-framework\";\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {RuleService} from '../../../services/rule-service';\r\nimport {ValidationRules, validationMessages, ValidationController, ValidationControllerFactory, validateTrigger} from \"aurelia-validation\"\r\nimport {BootstrapFormRenderer} from \"../../../common/bootstrap-form-renderer\"\r\n\r\n@inject(EventAggregator, RuleService, \"User\", ValidationController, \"Settings\", \"ErrorParser\", ValidationControllerFactory)\r\nexport class Rule {\r\n    @bindable rule;\r\n\r\n    constructor (eventAggregator, ruleService, userContext, validation, globalSettings, errorParser, controllerFactory) {\r\n        this.powerUser = userContext.user.isAuthenticated;\r\n        this.eventAggregator = eventAggregator;\r\n        this.globalSettings = globalSettings;\r\n        this.errorParser = errorParser;\r\n\r\n        this.validation = controllerFactory.createForCurrentScope();\r\n        this.validation.validateTrigger = validateTrigger.manual;\r\n        //this.validation.addRenderer(new BootstrapFormRenderer());\r\n        \r\n        this.errors =[];\r\n        this.ruleService = ruleService;\r\n        this.subscriptions = [];\r\n        this.indicatorDataSeries = [];\r\n        this.periods = this.globalSettings.periods;\r\n\r\n        this.compareTypes = [\r\n            {id: 0, name: 'Greater'},\r\n            {id: 1, name: 'Greater or Equal'},\r\n            {id: 2, name: 'Equal'},\r\n            {id: 3, name: 'Less'},\r\n            {id: 4, name: 'Less or Equal'},\r\n            {id: 4, name: 'Not Equal'}\r\n        ];\r\n\r\n        this.dataSources = [\r\n            {id: 0, name: 'Indicator'},\r\n            {id: 1, name: 'Historical Data'},\r\n            {id: 2, name: 'Constant'}\r\n        ];\r\n\r\n        this.priceDataSeries = [\r\n            {id: 0, name: 'Close'},\r\n            {id: 1, name: 'Open'},\r\n            {id: 2, name: 'High'},\r\n            {id: 3, name: 'Low'}\r\n        ];\r\n\r\n        this.transformFunctions = [\r\n            {id: 0, name: 'First'},\r\n            {id: 1, name: 'Max'},\r\n            {id: 2, name: 'Average'},\r\n            {id: 3, name: 'Summarize'}\r\n        ];\r\n    }\r\n\r\n    ruleChanged(ruleItem) {\r\n        if (ruleItem) {\r\n            let newRule = Object.assign({}, ruleItem);\r\n            this.indicatorDataSeries = this.globalSettings.getIndicators(newRule.period);\r\n\r\n            this.setDataSeries(newRule);\r\n            this.ruleInfo = newRule;\r\n\r\n            this.ruleInfo.editMode = false;\r\n            this.validation.reset();\r\n\r\n            ValidationRules\r\n                .ensure('name').required({message: \"^Rule name must be set\"})\r\n                .ensure('description').required({message: \"^Description must be set\"})\r\n                .ensure('skipItemsV1').required().satisfies(value => value >= 0)\r\n                .ensure('skipItemsV2').required().satisfies(value => value >= 0)\r\n                .ensure('takeItemsV1').required().satisfies(value => value >= 0)\r\n                .ensure('takeItemsV2').required().satisfies(value => value >= 0)\r\n                .on(this.ruleInfo);\r\n\r\n        }\r\n    }  \r\n\r\n    onPeriodChange() {\r\n        this.indicatorDataSeries = this.globalSettings.getIndicators(this.ruleInfo.period);\r\n        this.setDataSeries(this.ruleInfo);\r\n    }\r\n\r\n    onDataSourceV1Change(){\r\n        this.setDataSeries(this.ruleInfo);\r\n    }\r\n\r\n    onDataSourceV2Change(){\r\n        this.setDataSeries(this.ruleInfo);\r\n    }\r\n\r\n    setDataSeries(rule){\r\n        if(rule) {\r\n\r\n            if(rule.dataSourceV1 === 0) { //indicator\r\n                rule.dataSeriesOptionsV1 = this.indicatorDataSeries;\r\n            }\r\n            if(rule.dataSourceV1 === 1) { //histrical\r\n                rule.dataSeriesOptionsV1 = this.priceDataSeries;\r\n            }\r\n            if(rule.dataSourceV1 === 2) { //const\r\n                rule.dataSeriesOptionsV1 = [];\r\n            }\r\n\r\n            if(rule.dataSourceV2 === 0) { //indicator\r\n                rule.dataSeriesOptionsV2 = this.indicatorDataSeries;\r\n            }\r\n            if(rule.dataSourceV2 === 1) { //histrical\r\n                rule.dataSeriesOptionsV2 = this.priceDataSeries;\r\n            }\r\n            if(rule.dataSourceV2 === 2) { //const\r\n                rule.dataSeriesOptionsV2 = [];\r\n            }\r\n        }\r\n    }\r\n\r\n    startEdit() {\r\n        this.originalRule = Object.assign({}, this.ruleInfo);\r\n        this.ruleInfo.editMode = true;\r\n    }\r\n\r\n    cancelEdit() {\r\n        this.ruleInfo = this.originalRule;\r\n        this.ruleInfo.editMode = false;\r\n    }\r\n\r\n    trySaveRule() {\r\n        this.validation.validate()\r\n            .then(response => {\r\n                if(response.valid === true) {\r\n                    this.saveRule();\r\n                }\r\n            })\r\n            .catch(error => {\r\n                this.handleError(error);\r\n            });    \r\n    }\r\n\r\n    saveRule(){\r\n        this.ruleService.saveRule(this.ruleInfo) \r\n            .then(response => {\r\n                this.ruleInfo.editMode = false;\r\n                toastr.success(`Rule ${response.name} saved successfully!`, 'Rule Saved');\r\n            })\r\n            .catch(error => {\r\n                this.handleError(error);\r\n                toastr.error(\"Failed to save rule\", \"Error\");\r\n            });    \r\n    }\r\n\r\n    handleError(error) {\r\n        let self = this;\r\n\r\n        this.errorParser.parseError(error)\r\n            .then(errorInfo => {\r\n                self.errors.push(errorInfo);\r\n            });\r\n    }\r\n}",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"..\\src"}