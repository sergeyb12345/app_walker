/*
 * VobcoCharts v1.1.3
 * http://www.vobcocharts.com
 *
 *
 * Copyright 2014 - 2015 Vobco d.o.o. and other contributors
 * Released under the VobcoCharts software licence agreement
 *
 * Date: Wed Jun 03 2015 10:10 GMT+0200 (Central European Time)
 */
function izracunajEMA(n,t){var u=2/(t+1),i,r,f;for(EMA=[],i=0,i=0;n[i]===undefined;i++)EMA.push(undefined);for(r=i;r<t+i;r++)EMA.push(undefined);for(EMA.push($.vobcoCharts.sumaPolja(n,i,i+t-1)/t),r=t+i+1,f=n.length;r<f;r++)EMA.push(EMA[r-1]*(1-u)+n[r]*u);return EMA}function izracunajWEMA(n,t){var u=1/t,i,r,f;for(WEMA=[],i=0,i=0;n[i]===undefined;i++)WEMA.push(undefined);for(r=i;r<t+i;r++)WEMA.push(undefined);for(WEMA.push($.vobcoCharts.sumaPolja(n,i,i+t-1)/t),r=t+i+1,f=n.length;r<f;r++)WEMA.push(WEMA[r-1]*(1-u)+n[r]*u);return WEMA}function izracunajSMA(n,t){var i;for(SMA=[],i=0;i<t;i++)SMA.push(undefined);for(i=t;i<n.length;i++)SMA.push($.vobcoCharts.sumaPolja(n,i-t+1,i)/t);return SMA}function linija(n,t,i,r,u,f){ctx.beginPath();u!==undefined&&(ctx.strokeStyle=u);f!==undefined&&(ctx.lineWidth=f);ctx.moveTo(n,t);ctx.lineTo(i,r);ctx.stroke();ctx.closePath()}function roundRect(n,t,i,r,u){typeof u=="undefined"&&(u=5);ctx.beginPath();ctx.moveTo(n+u,t);ctx.lineTo(n+i-u,t);ctx.quadraticCurveTo(n+i,t,n+i,t+u);ctx.lineTo(n+i,t+r-u);ctx.quadraticCurveTo(n+i,t+r,n+i-u,t+r);ctx.lineTo(n+u,t+r);ctx.quadraticCurveTo(n,t+r,n,t+r-u);ctx.lineTo(n,t+u);ctx.quadraticCurveTo(n,t,n+u,t);ctx.closePath();ctx.stroke();ctx.fill()}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}function tekst(n,t,i,r,u,f,e,o,s){e===undefined&&(e="10");e=e*$.vobcoCharts.settings.textSize;s===undefined&&(s="normal");o===undefined&&(o=$.vobcoCharts.settings.font);ctx.font=s+" "+e+"px "+o;isNumber(u)&&(e=u,u=undefined);ctx.textAlign=u===undefined?"left":u;ctx.textBaseline=f===undefined?"top":f;ctx.fillStyle=r===undefined?$.vobcoCharts.settings.styles.textColor:r;ctx.fillText(i,n-.5,t-.5)}function OHLC(n,t,i,r,u,f,e){n=Math.round(n);t=Math.round(t);i=Math.round(i);r=Math.round(r);u=Math.round(u);var o=1;ctx.beginPath();ctx.strokeStyle=e!==undefined?e:$.vobcoCharts.settings.styles.chartsDefaults.lineColor;f===undefined&&(f=1);switch(f){case 1:case 2:case 3:break;case 4:case 5:n=n-.5;o=2;break;case 6:case 7:o=3;break;default:o=5}ctx.lineWidth=o;ctx.moveTo(n,i);ctx.lineTo(n,r);ctx.moveTo(n+o/2,t);ctx.lineTo(n-f,t);ctx.moveTo(n-o/2,u);ctx.lineTo(n+f,u);ctx.stroke();ctx.closePath()}function CandleStick(n,t,i,r,u,f,e){n=Math.round(n);t=Math.round(t);i=Math.round(i);r=Math.round(r);u=Math.round(u);t===u&&(u=t+1);ctx.beginPath();ctx.strokeStyle=e!==undefined?e:$.vobcoCharts.settings.styles.chartsDefaults.lineColor;f===undefined&&(f=3);f===1&&(f=3);ctx.lineWidth=1;i==r?(ctx.moveTo(n-f/2,i),ctx.lineTo(n+f/2,i)):(ctx.moveTo(n,i),ctx.lineTo(n,r),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.lineWidth=f,ctx.moveTo(n,t),ctx.lineTo(n,u));ctx.stroke();ctx.closePath()}(function(n,t){function f(){this._state=[];this._defaults={classHolder:"sbHolder",classHolderDisabled:"sbHolderDisabled",classSelector:"sbSelector",classOptions:"sbOptions",classGroup:"sbGroup",classSub:"sbSub",classDisabled:"sbDisabled",classToggleOpen:"sbToggleOpen",classToggle:"sbToggle",classFocus:"sbFocus",speed:200,effect:"slide",onChange:null,onOpen:null,onClose:null}}var r="selectbox",i=!1,u=!0;n.extend(f.prototype,{_isOpenSelectbox:function(n){if(!n)return i;var t=this._getInst(n);return t.isOpen},_isDisabledSelectbox:function(n){if(!n)return i;var t=this._getInst(n);return t.isDisabled},_attachSelectbox:function(t,f){function p(){var t,i,r=this.attr("id").split("_")[1];for(t in o._state)t!==r&&o._state.hasOwnProperty(t)&&(i=n("select[sb='"+t+"']")[0],i&&o._closeSelectbox(i))}function w(){var i=arguments[1]&&arguments[1].sub?!0:!1,r=arguments[1]&&arguments[1].disabled?!0:!1;arguments[0].each(function(f){var s=n(this),y=n("<li>"),h;s.is(":selected")&&(c.text(s.text()),v=u);f===b-1&&y.addClass("last");s.is(":disabled")||r?(h=n("<span>",{text:s.text()}).addClass(e.settings.classDisabled),i&&h.addClass(e.settings.classSub),h.appendTo(y)):(h=n("<a>",{href:"#"+s.val(),rel:s.val()}).text(s.text()).bind("click.sb",function(i){i&&i.preventDefault&&i.preventDefault();var u=a,r=n(this),f=u.attr("id").split("_")[1];o._changeSelectbox(t,r.attr("rel"),r.text());o._closeSelectbox(t)}).bind("mouseover.sb",function(){var t=n(this);t.parent().siblings().find("a").removeClass(e.settings.classFocus);t.addClass(e.settings.classFocus)}).bind("mouseout.sb",function(){n(this).removeClass(e.settings.classFocus)}),i&&h.addClass(e.settings.classSub),s.is(":selected")&&h.addClass(e.settings.classFocus),h.appendTo(y));y.appendTo(l)})}if(this._getInst(t))return i;var s=n(t),o=this,e=o._newInst(s),h,c,a,l,v=i,k=s.find("optgroup"),y=s.find("option"),b=y.length;s.attr("sb",e.uid);n.extend(e.settings,o._defaults,f);o._state[e.uid]=i;s.hide();h=n("<div>",{id:"sbHolder_"+e.uid,"class":e.settings.classHolder,tabindex:s.attr("tabindex")});c=n("<a>",{id:"sbSelector_"+e.uid,href:"#","class":e.settings.classSelector,click:function(i){i.preventDefault();p.apply(n(this),[]);var r=n(this).attr("id").split("_")[1];o._state[r]?o._closeSelectbox(t):o._openSelectbox(t)}});a=n("<a>",{id:"sbToggle_"+e.uid,href:"#","class":e.settings.classToggle,click:function(i){i.preventDefault();p.apply(n(this),[]);var r=n(this).attr("id").split("_")[1];o._state[r]?o._closeSelectbox(t):o._openSelectbox(t)}});a.appendTo(h);l=n("<ul>",{id:"sbOptions_"+e.uid,"class":e.settings.classOptions,css:{display:"none"}});s.children().each(function(){var t=n(this),i,r={};t.is("option")?w(t):t.is("optgroup")&&(i=n("<li>"),n("<span>",{text:t.attr("label")}).addClass(e.settings.classGroup).appendTo(i),i.appendTo(l),t.is(":disabled")&&(r.disabled=!0),r.sub=!0,w(t.find("option"),r))});v||c.text(y.first().text());n.data(t,r,e);h.data("uid",e.uid).bind("keydown.sb",function(t){var l=t.charCode?t.charCode:t.keyCode?t.keyCode:0,u=n(this),h=u.data("uid"),f=u.siblings("select[sb='"+h+"']").data(r),s=u.siblings(["select[sb='",h,"']"].join("")).get(0),i=u.find("ul").find("a."+f.settings.classFocus),e,c;switch(l){case 37:case 38:i.length>0&&(n("a",u).removeClass(f.settings.classFocus),e=i.parent().prevAll("li:has(a)").eq(0).find("a"),e.length>0&&(e.addClass(f.settings.classFocus).focus(),n("#sbSelector_"+h).text(e.text())));break;case 39:case 40:n("a",u).removeClass(f.settings.classFocus);e=i.length>0?i.parent().nextAll("li:has(a)").eq(0).find("a"):u.find("ul").find("a").eq(0);e.length>0&&(e.addClass(f.settings.classFocus).focus(),n("#sbSelector_"+h).text(e.text()));break;case 13:i.length>0&&o._changeSelectbox(s,i.attr("rel"),i.text());o._closeSelectbox(s);break;case 9:s&&(f=o._getInst(s),f&&(i.length>0&&o._changeSelectbox(s,i.attr("rel"),i.text()),o._closeSelectbox(s)));c=parseInt(u.attr("tabindex"),10);t.shiftKey?c--:c++;n("*[tabindex='"+c+"']").focus();break;case 27:o._closeSelectbox(s)}return t.stopPropagation(),!1}).delegate("a","mouseover",function(){n(this).addClass(e.settings.classFocus)}).delegate("a","mouseout",function(){n(this).removeClass(e.settings.classFocus)});c.appendTo(h);l.appendTo(h);h.insertAfter(s);n("html").on("mousedown",function(t){t.stopPropagation();n("select").selectbox("close")});n([".",e.settings.classHolder,", .",e.settings.classSelector].join("")).mousedown(function(n){n.stopPropagation()})},_detachSelectbox:function(t){var u=this._getInst(t);if(!u)return i;n("#sbHolder_"+u.uid).remove();n.data(t,r,null);n(t).show()},_changeSelectbox:function(t,i,r){var f,u=this._getInst(t);u&&(f=this._get(u,"onChange"),n("#sbSelector_"+u.uid).text(r));i=i.replace(/\'/g,"\\'");n(t).val(i);u&&f?f.apply(u.input?u.input[0]:null,[i,u]):u&&u.input&&u.input.trigger("change")},_enableSelectbox:function(t){var u=this._getInst(t);if(!u||!u.isDisabled)return i;n("#sbHolder_"+u.uid).removeClass(u.settings.classHolderDisabled);u.isDisabled=i;n.data(t,r,u)},_disableSelectbox:function(t){var f=this._getInst(t);if(!f||f.isDisabled)return i;n("#sbHolder_"+f.uid).addClass(f.settings.classHolderDisabled);f.isDisabled=u;n.data(t,r,f)},_optionSelectbox:function(t,u,f){var e=this._getInst(t);if(!e)return i;e[u]=f;n.data(t,r,e)},_openSelectbox:function(t){var i=this._getInst(t);if(i&&!i.isOpen&&!i.isDisabled){var f=n("#sbOptions_"+i.uid),s=parseInt(n(window).height(),10),h=n("#sbHolder_"+i.uid).offset(),c=n(window).scrollTop(),e=f.prev().height(),l=s-(h.top-c)-e/2,o=this._get(i,"onOpen");f.css({top:e+"px",maxHeight:l-e+"px"});i.settings.effect==="fade"?f.fadeIn(i.settings.speed):f.slideDown(i.settings.speed);n("#sbToggle_"+i.uid).addClass(i.settings.classToggleOpen);this._state[i.uid]=u;i.isOpen=u;o&&o.apply(i.input?i.input[0]:null,[i]);n.data(t,r,i)}},_closeSelectbox:function(t){var u=this._getInst(t),f;u&&u.isOpen&&(f=this._get(u,"onClose"),u.settings.effect==="fade"?n("#sbOptions_"+u.uid).fadeOut(u.settings.speed):n("#sbOptions_"+u.uid).slideUp(u.settings.speed),n("#sbToggle_"+u.uid).removeClass(u.settings.classToggleOpen),this._state[u.uid]=i,u.isOpen=i,f&&f.apply(u.input?u.input[0]:null,[u]),n.data(t,r,u))},_newInst:function(n){var t=n[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:t,input:n,uid:Math.floor(Math.random()*99999999),isOpen:i,isDisabled:i,settings:{}}},_getInst:function(t){try{return n.data(t,r)}catch(i){throw"Missing instance data for this selectbox";}},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]}});n.fn.selectbox=function(t){var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&t=="isDisabled"?n.selectbox["_"+t+"Selectbox"].apply(n.selectbox,[this[0]].concat(i)):t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?n.selectbox["_"+t+"Selectbox"].apply(n.selectbox,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.selectbox["_"+t+"Selectbox"].apply(n.selectbox,[this].concat(i)):n.selectbox._attachSelectbox(this,t)})};n.selectbox=new f;n.selectbox.version="0.2"})(jQuery),function(n){n.format=function(){var n={date:{format:"MMM dd, yyyy h:mm:ss a",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortDateFormat:"M/d/yyyy h:mm a",longDateFormat:"EEEE, MMMM dd, yyyy h:mm:ss a"},number:{format:"#,##0.0#",groupingSeparator:",",decimalSeparator:"."}};return{locale:function(t){var i,r;if(a={a:6},t)for(i in t)for(r in t[i])n[i][r]=t[i][r];return n},date:function(t,i){var s=0,o=0,r=0,p,a,c,w,l;if(r=o="",typeof t=="string"){c=function(n,t,i,r){for(r=r;r>=i;r--){var u=n.substring(t,t+r);if(u.length>=i&&new RegExp(/^\d+$/).test(u))return u}return null};typeof i=="undefined"&&(i=n.date.format);var u=0,v=new Date,h=v.getYear(),f=v.getMonth()+1,y=1,e=v.getHours(),b=v.getMinutes(),k=v.getSeconds();for(v=v.getMilliseconds(),w="";s<i.length;){for(r="",o=i.charAt(s);i.charAt(s)==o&&s<i.length;)r+=i.charAt(s++);if(r.indexOf("MMMM")>-1&&r.length>4&&(r="MMMM"),r.indexOf("EEEE")>-1&&r.length>4&&(r="EEEE"),r=="yyyy"||r=="yy"||r=="y"){if(r=="yyyy"&&(a=p=4),r=="yy"&&(a=p=2),r=="y"&&(p=2,a=4),h=c(t,u,p,a),h===null)return 0;u+=h.length;h.length==2&&(h=parseInt(h,10),h=h>70?1900+h:2e3+h)}else if(r=="MMMM"){for(o=f=0,r=n.date.monthsFull.length;o<r;o++)if(l=n.date.monthsFull[o],t.substring(u,u+l.length).toLowerCase()==l.toLowerCase()){f=o+1;u+=l.length;break}if(f<1||f>12)return 0}else if(r=="MMM"){for(o=f=0,r=n.date.monthsShort.length;o<r;o++)if(l=n.date.monthsShort[o],t.substring(u,u+l.length).toLowerCase()==l.toLowerCase()){f=o+1;u+=l.length;break}if(f<1||f>12)return 0}else if(r=="EEEE"){for(o=0,r=n.date.daysFull.length;o<r;o++)if(l=n.date.daysFull[o],t.substring(u,u+l.length).toLowerCase()==l.toLowerCase()){u+=l.length;break}}else if(r=="EEE"){for(o=0,r=n.date.daysShort.length;o<r;o++)if(l=n.date.daysShort[o],t.substring(u,u+l.length).toLowerCase()==l.toLowerCase()){u+=l.length;break}}else if(r=="MM"||r=="M"){if(f=c(t,u,1,2),f===null||f<1||f>12)return 0;u+=f.length}else if(r=="dd"||r=="d"){if(y=c(t,u,1,2),y===null||y<1||y>31)return 0;u+=y.length}else if(r=="hh"||r=="h"){if(e=c(t,u,1,2),e===null||e<1||e>12)return 0;u+=e.length}else if(r=="HH"||r=="H"){if(e=c(t,u,1,2),e===null||e<0||e>23)return 0;u+=e.length}else if(r=="KK"||r=="K"){if(e=c(t,u,1,2),e===null||e<0||e>11)return 0;u+=e.length}else if(r=="kk"||r=="k"){if(e=c(t,u,1,2),e===null||e<1||e>24)return 0;u+=e.length;e--}else if(r=="mm"||r=="m"){if(b=c(t,u,1,2),b===null||b<0||b>59)return 0;u+=b.length}else if(r=="ss"||r=="s"){if(k=c(t,u,1,2),k===null||k<0||k>59)return 0;u+=k.length}else if(r=="SSS"||r=="SS"||r=="S"){if(v=c(t,u,1,3),v===null||v<0||v>999)return 0;u+=v.length}else if(r=="a"){if(w=t.substring(u,u+2).toLowerCase(),w=="am")w="AM";else if(w=="pm")w="PM";else return 0;u+=2}else{if(r!=t.substring(u,u+r.length))return 0;u+=r.length}}if(u!=t.length)return 0;if(f==2)if(h%4==0&&h%100!=0||h%400==0){if(y>29)return 0}else if(y>28)return 0;return(f==4||f==6||f==9||f==11)&&y>30?0:(e<12&&w=="PM"?e=+e+12:e>11&&w=="AM"&&(e-=12),new Date(h,f-1,y,e,b,k,v))}for(s=function(n,t){return typeof t=="undefined"||t==2?(n>=0&&n<10?"0":"")+n:n>=0&&n<10?"00"+n:n>=10&&n<100?"0"+n:n},typeof i=="undefined"&&(i=n.date.format),a=t.getYear(),a<1e3&&(a=String(a+1900)),c=t.getMonth()+1,u=t.getDate(),h=t.getDay(),f=t.getHours(),y=t.getMinutes(),p=t.getSeconds(),e=t.getMilliseconds(),t={y:a,yyyy:a,yy:String(a).substring(2,4),M:c,MM:s(c),MMM:n.date.monthsShort[c-1],MMMM:n.date.monthsFull[c-1],d:u,dd:s(u),EEE:n.date.daysShort[h],EEEE:n.date.daysFull[h],H:f,HH:s(f)},t.h=f===0?12:f>12?f-12:f,t.hh=s(t.h),t.k=f!==0?f:24,t.kk=s(t.k),t.K=f>11?f-12:f,t.KK=s(t.K),t.a=f>11?"PM":"AM",t.m=y,t.mm=s(y),t.s=p,t.ss=s(p),t.S=e,t.SS=s(e),t.SSS=s(e,3),a="",s=0,r=o="",p=!1;s<i.length;)if(r="",o=i.charAt(s),o=="'")s++,i.charAt(s)==o?(a+=o,s++):p=!p;else{for(;i.charAt(s)==o;)r+=i.charAt(s++);r.indexOf("MMMM")!=-1&&r.length>4&&(r="MMMM");r.indexOf("EEEE")!=-1&&r.length>4&&(r="EEEE");a+=typeof t[r]!="undefined"&&!p?t[r]:r}return a},number:function(t,i){var f,h,l,e,r,c,o,v;if(typeof t=="string")return f=n.number.groupingSeparator,l=n.number.decimalSeparator,e=t.indexOf(l),r=1,e!=-1&&(r=Math.pow(10,t.length-e-1)),t=t.replace(new RegExp("["+f+"]","g"),""),t=t.replace(new RegExp("["+l+"]"),"."),Math.round(t*r)/r;(typeof i=="undefined"||i.length<1)&&(i=n.number.format);f=",";h=i.lastIndexOf(f);l=".";e=i.indexOf(l);c=f="";l=t<0;var a=i.substr(e+1).replace(/#/g,"").length,s=i.substr(e+1).length,u=10;if(t=Math.abs(t),e!=-1){if(c=n.number.decimalSeparator,s>0){if(r=1e3,u=Math.pow(u,s),o=Math.round(parseInt(t*u*r-Math.round(t)*u*r,10)/r),o=String(o<0?Math.round(parseInt(t*u*r-parseInt(t,10)*u*r,10)/r):o),v=t.toString().split("."),typeof v[1]!="undefined")for(r=0;r<s;r++)if(v[1].substr(r,1)=="0"&&r<s-1&&(o.length!=s||o.substr(0,1)=="0"))o="0"+o;else break;for(r=0;r<s-c.length;r++)o+="0";for(v="",r=0;r<o.length;r++){if(s=o.substr(r,1),r>=a&&s=="0"&&/^0*$/.test(o.substr(r+1)))break;v+=s}c+=v}c==n.number.decimalSeparator&&(c="")}if(e!==0){if(f=c!=""?String(parseInt(Math.round(t*u)/u,10)):String(Math.round(t)),t=n.number.groupingSeparator,a=0,h!=-1&&(a=e!=-1?e-h:i.length-h,a--),a>0){for(h=0,u="",r=f.length;r--;)h!==0&&h%a==0&&(u=t+u),u=f.substr(r,1)+u,h++;f=u}for(i=e!=-1?i.substr(0,e).replace(new RegExp("#|"+t,"g"),"").length:i.replace(new RegExp("#|"+t,"g"),"").length,r=f.length;r<i;r++)f="0"+f}return i=f+c,(l?"-":"")+i}}}()}(jQuery),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){"use strict";function i(t,r){var f=function(){},u=this,e={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:i.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:f,onSearchComplete:f,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,lookupFilter:function(n,t,i){return n.value.toLowerCase().indexOf(i)!==-1},paramName:"query",transformResult:function(t){return typeof t=="string"?n.parseJSON(t):t}};u.element=t;u.el=n(t);u.suggestions=[];u.badQueries=[];u.selectedIndex=-1;u.currentValue=u.element.value;u.intervalId=0;u.cachedResponse=[];u.onChangeInterval=null;u.onChange=null;u.isLocal=!1;u.suggestionsContainer=null;u.options=n.extend({},e,r);u.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"};u.hint=null;u.hintValue="";u.selection=null;u.initialize();u.setOptions(r)}var r=function(){return{escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(n){var t=document.createElement("div");return t.innerHTML=n,t.firstChild}}}(),t={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};i.utils=r;n.Autocomplete=i;i.formatResult=function(n,t){var i="("+r.escapeRegExChars(t)+")";return n.value.replace(new RegExp(i,"gi"),"<strong>$1<\/strong>")};i.prototype={killerFn:null,initialize:function(){var t=this,f="."+t.classes.suggestion,e=t.classes.selected,u=t.options,r;t.element.setAttribute("autocomplete","off");t.killerFn=function(i){n(i.target).closest("."+t.options.containerClass).length===0&&(t.killSuggestions(),t.disableKillerFn())};t.suggestionsContainer=i.utils.createNode('<div class="'+u.containerClass+'" style="position: absolute; display: none;"><\/div>');r=n(t.suggestionsContainer);r.appendTo(u.appendTo);u.width!=="auto"&&r.width(u.width);r.on("mouseover.autocomplete",f,function(){t.activate(n(this).data("index"))});r.on("mouseout.autocomplete",function(){t.selectedIndex=-1;r.children("."+e).removeClass(e)});r.on("click.autocomplete",f,function(){t.select(n(this).data("index"))});t.fixPosition();t.fixPositionCapture=function(){t.visible&&t.fixPosition()};n(window).on("resize",t.fixPositionCapture);t.el.on("keydown.autocomplete",function(n){t.onKeyPress(n)});t.el.on("keyup.autocomplete",function(n){t.onKeyUp(n)});t.el.on("blur.autocomplete",function(){t.onBlur()});t.el.on("focus.autocomplete",function(){t.fixPosition()});t.el.on("change.autocomplete",function(n){t.onKeyUp(n)})},onBlur:function(){this.enableKillerFn()},setOptions:function(t){var r=this,i=r.options;n.extend(i,t);r.isLocal=n.isArray(i.lookup);r.isLocal&&(i.lookup=r.verifySuggestionsFormat(i.lookup));n(r.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse=[];this.badQueries=[]},clear:function(){this.clearCache();this.currentValue="";this.suggestions=[]},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},fixPosition:function(){var t=this,i;t.options.appendTo==="body"&&(i=t.el.offset(),n(t.suggestionsContainer).css({top:i.top+t.el.outerHeight()+"px",left:i.left+"px"}))},enableKillerFn:function(){var t=this;n(document).on("click.autocomplete",t.killerFn)},disableKillerFn:function(){var t=this;n(document).off("click.autocomplete",t.killerFn)},killSuggestions:function(){var n=this;n.stopKillSuggestions();n.intervalId=window.setInterval(function(){n.hide();n.stopKillSuggestions()},300)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var i=this,n=i.el.val().length,r=i.element.selectionStart,t;return typeof r=="number"?r===n:document.selection?(t=document.selection.createRange(),t.moveStart("character",-n),n===t.text.length):!0},onKeyPress:function(n){var i=this;if(!i.disabled&&!i.visible&&n.which===t.DOWN&&i.currentValue){i.suggest();return}if(!i.disabled&&i.visible){switch(n.which){case t.ESC:i.el.val(i.currentValue);i.hide();break;case t.RIGHT:if(i.hint&&i.options.onHint&&i.isCursorAtEnd()){i.selectHint();break}return;case t.TAB:if(i.hint&&i.options.onHint){i.selectHint();return}case t.RETURN:if(i.selectedIndex===-1){i.hide();return}if(i.select(i.selectedIndex),n.which===t.TAB&&i.options.tabDisabled===!1)return;break;case t.UP:i.moveUp();break;case t.DOWN:i.moveDown();break;default:return}n.stopImmediatePropagation();n.preventDefault()}},onKeyUp:function(n){var i=this;if(!i.disabled){switch(n.which){case t.UP:case t.DOWN:return}clearInterval(i.onChangeInterval);i.currentValue!==i.el.val()&&(i.findBestHint(),i.options.deferRequestBy>0?i.onChangeInterval=setInterval(function(){i.onValueChange()},i.options.deferRequestBy):i.onValueChange())}},onValueChange:function(){var t=this,i;t.selection&&(t.selection=null,(t.options.onInvalidateSelection||n.noop)());clearInterval(t.onChangeInterval);t.currentValue=t.el.val();i=t.getQuery(t.currentValue);t.selectedIndex=-1;i.length<t.options.minChars?t.hide():t.getSuggestions(i)},getQuery:function(t){var r=this.options.delimiter,i;return r?(i=t.split(r),n.trim(i[i.length-1])):n.trim(t)},getSuggestionsLocal:function(t){var i=this,r=t.toLowerCase(),u=i.options.lookupFilter;return{suggestions:n.grep(i.options.lookup,function(n){return u(n,t,r)})}},getSuggestions:function(t){var u,r=this,i=r.options,f=i.serviceUrl;if(u=r.isLocal?r.getSuggestionsLocal(t):r.cachedResponse[t],u&&n.isArray(u.suggestions))r.suggestions=u.suggestions,r.suggest();else if(!r.isBadQuery(t)){if(i.params[i.paramName]=t,i.onSearchStart.call(r.element,i.params)===!1)return;n.isFunction(i.serviceUrl)&&(f=i.serviceUrl.call(r.element,t));this.currentRequest!=null&&this.currentRequest.abort();this.currentRequest=n.ajax({url:f,data:i.ignoreParams?null:i.params,type:i.type,dataType:i.dataType}).done(function(n){r.processResponse(n,t);i.onSearchComplete.call(r.element,t)})}},isBadQuery:function(n){for(var t=this.badQueries,i=t.length;i--;)if(n.indexOf(t[i])===0)return!0;return!1},hide:function(){var t=this;t.visible=!1;t.selectedIndex=-1;n(t.suggestionsContainer).hide();t.signalHint(null)},suggest:function(){if(this.suggestions.length===0){this.hide();return}var t=this,f=t.options.formatResult,e=t.getQuery(t.currentValue),o=t.classes.suggestion,s=t.classes.selected,i=n(t.suggestionsContainer),u="",r;n.each(t.suggestions,function(n,t){u+='<div class="'+o+'" data-index="'+n+'">'+f(t,e)+"<\/div>"});t.options.width==="auto"&&(r=t.el.outerWidth()-2,i.width(r>0?r:300));i.html(u).show();t.visible=!0;t.options.autoSelectFirst&&(t.selectedIndex=0,i.children().first().addClass(s));t.findBestHint()},findBestHint:function(){var t=this,i=t.el.val().toLowerCase(),r=null;i&&(n.each(t.suggestions,function(n,t){var u=t.value.toLowerCase().indexOf(i)===0;return u&&(r=t),!u}),t.signalHint(r))},signalHint:function(t){var r="",i=this;t&&(r=i.currentValue+t.value.substr(i.currentValue.length));i.hintValue!==r&&(i.hintValue=r,i.hint=t,(this.options.onHint||n.noop)(r))},verifySuggestionsFormat:function(t){return t.length&&typeof t[0]=="string"?n.map(t,function(n){return{value:n,data:null}}):t},processResponse:function(n,t){var i=this,u=i.options,r=u.transformResult(n,t);r.suggestions=i.verifySuggestionsFormat(r.suggestions);u.noCache||(i.cachedResponse[r[u.paramName]]=r,r.suggestions.length===0&&i.badQueries.push(r[u.paramName]));t===i.getQuery(i.currentValue)&&(i.suggestions=r.suggestions,i.suggest())},activate:function(t){var i=this,r,u=i.classes.selected,f=n(i.suggestionsContainer),e=f.children();return(f.children("."+u).removeClass(u),i.selectedIndex=t,i.selectedIndex!==-1&&e.length>i.selectedIndex)?(r=e.get(i.selectedIndex),n(r).addClass(u),r):null},selectHint:function(){var t=this,i=n.inArray(t.hint,t.suggestions);t.select(i)},select:function(n){var t=this;t.hide();t.onSelect(n)},moveUp:function(){var t=this;if(t.selectedIndex!==-1){if(t.selectedIndex===0){n(t.suggestionsContainer).children().first().removeClass(t.classes.selected);t.selectedIndex=-1;t.el.val(t.currentValue);t.findBestHint();return}t.adjustScroll(t.selectedIndex-1)}},moveDown:function(){var n=this;n.selectedIndex!==n.suggestions.length-1&&n.adjustScroll(n.selectedIndex+1)},adjustScroll:function(t){var i=this,f=i.activate(t),r,u,e,o=25;f&&(r=f.offsetTop,u=n(i.suggestionsContainer).scrollTop(),e=u+i.options.maxHeight-o,r<u?n(i.suggestionsContainer).scrollTop(r):r>e&&n(i.suggestionsContainer).scrollTop(r-i.options.maxHeight+o),i.el.val(i.getValue(i.suggestions[t].value)),i.signalHint(null))},onSelect:function(t){var i=this,u=i.options.onSelect,r=i.suggestions[t];i.currentValue=i.getValue(r.value);i.el.val(i.currentValue);i.signalHint(null);i.suggestions=[];i.selection=r;n.isFunction(u)&&u.call(i.element,r)},getValue:function(n){var r=this,u=r.options.delimiter,t,i;return u?(t=r.currentValue,i=t.split(u),i.length===1)?n:t.substr(0,t.length-i[i.length-1].length)+n:n},dispose:function(){var t=this;t.el.off(".autocomplete").removeData("autocomplete");t.disableKillerFn();n(window).off("resize",t.fixPositionCapture);n(t.suggestionsContainer).remove()}};n.fn.autocomplete=function(t,r){var u="autocomplete";return arguments.length===0?this.first().data(u):this.each(function(){var e=n(this),f=e.data(u);typeof t=="string"?f&&typeof f[t]=="function"&&f[t](r):(f&&f.dispose&&f.dispose(),f=new i(this,t),e.data(u,f))})}});$.vobcoCharts={symbol:"",data:{open:[],high:[],low:[],close:[],date:[],volume:[],change:[],changePercent:[],transactionCount:[],turnover:[],o:[],h:[],l:[],c:[],d:[],v:[],cd:[],selectedInterval:"",loadedInterval:"",firstTimeLoaded:!1,liveRefreshInterval:!1,lastLoadTime:undefined},language:[],drawTrendLine:!1,trendLine2Point:!1,trendLines:[],isTouch:"ontouchstart"in document.documentElement,isMouseOnSel:!1,isResizingStart:!1,isResizingEnd:!1,resizingIndex:-1,isMouseDown:!1};$.vobcoCharts.bezTooltipa=!1;$.vobcoCharts.trendLine2Point=!1;$.vobcoCharts.addIkona=new Image(12,12);$.vobcoCharts.indikatori=[];$.vobcoCharts.crtajSamoPuniRaspon=!1;$.vobcoCharts.utility={};$.vobcoCharts.utility.indexTrenutneCijene=-1;$.vobcoCharts.utility.prikaziTooltip=!1;$.vobcoCharts.utility.trenutnaMreza=-1;$.vobcoCharts.utility.izracunajRaspon=!0;$.vobcoCharts.utility.ucitanoIzCookiea=!1;$.vobcoCharts.dodatniIndikatori=[];$.vobcoCharts.incPuniRaspon=1,function(n){n.fn.vobcoChart=function(t,i){n.vobcoCharts.symbol=t.toUpperCase();var r=n.extend(!0,{htmlPrefix:"chart_",saveInCookie:!1,cookiePrefix:"vobcocharts_",width:900,minWidth:410,autoWidth:!1,fixedHeight:!1,height:410,autoHeight:!1,heightOffset:0,intervals:[],autocomplete:{minChars:0,delimiter:/(,|;)\s*/,maxHeight:500,width:500,formatResult:function(n,t){var u,r,i;return n.value===undefined?u=n:(u=n.value,n.data!=undefined&&(r=n.data)),r===undefined&&(r=""),i=t.toUpperCase(),"<span>"+u.replace(i,"<strong>"+i+"<\/strong>")+"<\/span>"+r.replace(i,"<strong>"+i+"<\/strong>")}},staticChart:"http://www.rast.hr/_jezik_/graf/cijene/"+n.vobcoCharts.symbol.replace(":","_")+",ZSE,_period_.png",canvasNotSupportedUrl:undefined,loadingIcon:'<img style="vertical-align:middle;" src="http://www.rast.hr/Content/slike/loading.gif" alt="" />',fullScreenUrl:"",exportChartUrl:"",OHLCHeight:300,volumeHeight:150,navigatorPanelHeight:50,showNavigatorButtons:!0,showCopyright:!0,loadDataIfBrowserDoesNotSupportCanvas:!1,events:{firstTimeDataLoaded:!1,afterBaseIndicatorsAdd:!1,toolbarLoaded:!1,intervalChanged:!1},loadAdditionalData:!1,allowIntervalChange:!1,allowTechnicalIndicators:!1,allowTrendLine:!1,font:"Tahoma,sans-serif,verdana",symbolFontSize:72,currencyFontSize:15,dataType:"OHLC",chartType:"OHLC",displayVolume:!0,currency:"",defaultNumberFormat:"###,###,###,###,###,##0.00",language:"default",margins:{right:40,down:20,up:0,left:0,beforeNavigatorPanel:50,leftOffset:10,rightOffset:5},theme:"default",styles:{},showCurrentPrice:!1,textSize:1,minuteDataURL:"/hr/Trziste/MinutniPodaci/"+n.vobcoCharts.symbol.replace(":","_"),hourDataURL:"/hr/Trziste/SatniPodaci/"+n.vobcoCharts.symbol.replace(":","_")},i);return r.styles=n.extend(!0,n.vobcoCharts.themes[r.theme],r.styles),n.vobcoCharts.jezik=n.vobcoCharts.language[r.language]!=undefined?n.vobcoCharts.language[r.language]:n.vobcoCharts.language["default"],n.vobcoCharts.settings=r,r.allowTechnicalIndicators&&(n.vobcoCharts.addIkona.onError=function(){n.vobcoCharts.addIkona=!1},n.vobcoCharts.addIkona.src=r.styles.icons.addIndicator),n.format.locale({number:{groupingSeparator:n.vobcoCharts.jezik.formati.tockaTisucica,decimalSeparator:n.vobcoCharts.jezik.formati.decimalniZarez}}),r.intervals.length===0&&(r.intervals=[{interval:1,type:"D",url:r.dataURL,closeUrl:r.lastURL},{interval:2,type:"D"},{interval:3,type:"D"},{interval:4,type:"D"},{interval:1,type:"W"}]),r.autoHeight&&(r.fixedHeight=!0),r.staticChart=r.staticChart.replace("_jezik_",r.language),(r.dataType=="portfolio"||r.dataType=="currency")&&(r.displayVolume=!1),this.each(function(){var t=this;(n.vobcoCharts.isCanvasSupported()||r.loadDataIfBrowserDoesNotSupportCanvas)&&(n.vobcoCharts.initChart=function(){if(n.vobcoCharts.data.c.length>0){if(!n.vobcoCharts.isCanvasSupported())return;n.vobcoCharts.inicijalizirajOsnovneIndikatore();n.vobcoCharts.inicijalizirajIndikatore instanceof Function&&n.vobcoCharts.inicijalizirajIndikatore();var i=n(t);n.vobcoCharts.data.date.length>0?(n.vobcoCharts.toolbar(i),n.vobcoCharts.canvas=document.createElement("canvas"),n.vobcoCharts.canvas.setAttribute("id",n.vobcoCharts.settings.htmlPrefix+"graf"),i.append(n.vobcoCharts.canvas),n.vobcoCharts.settings.autoWidth&&(n.vobcoCharts.settings.width=i.width()-n.vobcoCharts.settings.margins.left-n.vobcoCharts.settings.margins.right-20),n.vobcoCharts.settings.autoHeight&&(n.vobcoCharts.settings.height=i.height()-n.vobcoCharts.settings.heightOffset),(n.vobcoCharts.settings.autoWidth||n.vobcoCharts.settings.autoHeight)&&n(window).resize(function(){n.vobcoCharts.settings.autoWidth&&(n.vobcoCharts.settings.width=i.width()-n.vobcoCharts.settings.margins.left-n.vobcoCharts.settings.margins.right-20);n.vobcoCharts.settings.autoHeight&&(n.vobcoCharts.settings.height=i.height()-n.vobcoCharts.settings.heightOffset);n.vobcoCharts.izracunajRaspon=!0;n.vobcoCharts.drawChart(undefined,undefined,!0)}),n.vobcoCharts.canvas.width=n.vobcoCharts.settings.width,n.vobcoCharts.canvas.height=400,ctx=n.vobcoCharts.canvas.getContext("2d"),n.vobcoCharts.inicijalizirajMisa(),n.vobcoCharts.nacrtajPrviPut()):n(this).html(n.vobcoCharts.jezik.dataNePostoje)}else n(this).html(n.vobcoCharts.jezik.dataNePostoje)},n.vobcoCharts.prikaziGraf=n.vobcoCharts.initChart,n.vobcoCharts.ucitajPodatke());n.vobcoCharts.isCanvasSupported()||(r.canvasNotSupportedUrl!=undefined&&r.canvasNotSupportedUrl!=""?window.location.assign(r.canvasNotSupportedUrl):r.staticChart!=undefined&&r.staticChart!=""?(n(this).append('<p class="'+r.htmlPrefix+'browserOutOfDate">'+n.vobcoCharts.jezik.verzijaVasegPreglednikaNePodrzava+"<\/p>"),n(this).append('<table cellpadding="0" cellspacing="0" border="0" class="'+r.htmlPrefix+'periodStaticnogGrafa"><tr><td><a onclick="$(\'#'+r.htmlPrefix+"staticniGraf').attr('src',$.vobcoCharts.settings.staticChart.replace('_period_','1'))\" href=\"javascript:void(0);\">"+n.vobcoCharts.jezik.mjeseci6+"<\/a><\/td><td><a onclick=\"$('#"+r.htmlPrefix+"staticniGraf').attr('src',$.vobcoCharts.settings.staticChart.replace('_period_','2'))\" href=\"javascript:void(0);\">"+n.vobcoCharts.jezik.godina1+"<\/a><\/td><td><a onclick=\"$('#"+r.htmlPrefix+"staticniGraf').attr('src',$.vobcoCharts.settings.staticChart.replace('_period_','3'))\" href=\"javascript:void(0);\">"+n.vobcoCharts.jezik.godina5+"<\/a><\/td><\/tr><\/table>"),n(this).append('<img id="'+r.htmlPrefix+'staticniGraf" src="'+r.staticChart.replace("_period_","1")+'" alt="" />')):n(this).append('<p class="'+r.htmlPrefix+'browserOutOfDate">'+n.vobcoCharts.jezik.verzijaVasegPreglednikaNePodrzava+"<\/p>"))})}}(jQuery);$.vobcoCharts.language["default"]={copyRight:"Copyright "+(new Date).getFullYear()+" Vobco d.o.o. All rights reserved.",izmijeni:"Edit",izbrisi:"Delete",odustani:"Cancel",nacrtaj:"Draw",obrisiSve:"Remove all",verzijaVasegPreglednikaNePodrzava:'Your browser is out of date and does not support interactive charts or you have enabled compatibility view. Please, <a href="http://www.browserchoice.eu" target="_blank">update your browser<\/a> or disable compatibility view!',uTijekuJeUcitavanjePodataka:"Loading data, please wait...",pricekajte:"Please wait...",srednji:"Mean",kupovni:"Buy",prodajni:"Sell",mjeseci6:"6 months",godina1:"1 year",godina5:"5 years",podaciNePostoje:"Data does not exist!",urlPodaciNijeNaveden:"Data url is undefined! Chart can not be displayed without data!",spremi:"",spremiKaoSliku:"Export as image",fullScreen:"",prikaziUFullScreen:"Show chart in full screen mode",valuta:"Currency: ",intervali:{M1:"1 minute",M2:"2 minutes",M5:"5 minutes",M10:"10 minutes",M15:"15 minutes",M30:"30 minutes",H1:"1 hour",H2:"2 hours",H4:"4 hours",D1:"1 day",D2:"2 days",D3:"3 days",D4:"4 days",W1:"1 week"},indikatori:{tecaj:"Rate",novi:"New indicator",TrendLine:"Trend line",TrendLineCant:"Trend line has to be inside OHLC chart!",KlikniteNacrtajZatim:'Click to "Draw" then click on chart to mark trend line start and end points. To remove all lines click on "Remove all"',funkcijaCrtanja:"Draw",Linija:"Line",Dots:"Dots",Area:"Area",Usporedba:"Compare",Vrijednosnica:"Ticker",OHLC:"OHLC",CandleStick:"CandleStick",primijeniNa:"Apply to",Histogram:"Histogram",Bar:"Bar",pocetna:"Open",najvisa:"High",najniza:"Low",zadnja:"Close",datum:"Date",indikator:"Indicator",izmijeniteIndikator:"Edit indicator",odaberiteIndikator:"Choose indicator:",period:"Interval",boja:"Color",bojaRasta:"Color +",bojaPada:"Color -",bojaStagniranja:"Color _",brzi:"Fast",spori:"Slow",devijacije:"Std dev",Kolicina:"Quantity",BollingerBands:"Bollinger bands",BollingerUP:"Bollinger up",BollingerDown:"Bollinger down",SMA:"SMA",EMA:"EMA",MACD:"MACD",MACDHistogram:"MACD histogram",RSI:"Cutler's RSI",WRSI:"Wilder's RSI",TSI:"True strength index",WilliamsR:"Williams %R",TRIX:"TRIX",Momentum:"Momentum",ADX:"ADX",ParabolicSAR:"Parabolic SAR",DC:"Donchian channels",AO:"Awesome oscillator",Aroon:"Aroon",Upper:"Upper",Lower:"Lower",Middle:"Middle",AFIncrease:"AF Increase",AFMax:"AF Max",ATR:"Av. true range",DMIPlus:"DMI+",DMIMinus:"DMI-",SlowStochastic:"Slow stochastic",FastStochastic:"Fast stochastic",MAE:"Moving Average Envelopes",Envelopes:"Envelopes",EnvelopesUP:"Envelope up",EnvelopesDOWN:"Envelope down",kapitalnaDobit:"Capital Gain",stanjePortfelja:"Portfolio value",ulog:"Investments"},formati:{decimalniBroj:"###,###,###,###,###,##0.00####",datum:"MM/dd/yyyy.",datumBezGodine:"MM/dd",vrijeme:"HH:mm",decimalniBroj2Decimale:"###,###,###,###,###,##0.00",cijeliBroj:"###,###,###,###,###,##0",cijeliBrojSDecimalama:"###,###,###,###,###,##0.######",decimalniZarez:".",tockaTisucica:","}};$.vobcoCharts===undefined&&($.vobcoCharts={});$.vobcoCharts.themes===undefined&&($.vobcoCharts.themes=[]);$.vobcoCharts.themes["default"]={backgroundColor:"#ffffff",gridColor:"rgba(170, 170, 170, 0.5)",resizeTriangleColor:"#666666",textColor:"#000000",backgroundTextColor:"rgba(30, 30, 30, 0.2)",copyrightTextColor:"#333366",indicators:{OHLC:{seriesColors:["#990000","#666666","#006600"],textColors:["#000000","#000000","#000000","#000000"]},Area:{seriesColors:["#dddddd","#ffcc00"],textColors:["#000000"]},volume:{seriesColors:["#990000","#666666","#006600"],textColors:["#000000"]},SMA:{seriesColors:["#ff0000"]},EMA:{seriesColors:["#226600"]},williamsR:{seriesColors:["#000000"]},RSI:{seriesColors:["#000000"]},bollingerBands:{seriesColors:["#0000ff"]},ADX:{seriesColors:["#00cc00","#ff0000","#0000ff"]},ATR:{seriesColors:["#0000CC"]},momentum:{seriesColors:["#226600"]},TRIX:{seriesColors:["#000000"]},fastStochastic:{seriesColors:["#0000cc","#cc0000"]},slowStochastic:{seriesColors:["#0000cc","#cc0000"]},MACD:{seriesColors:["#22ffff","#2222ff"]},MACDHistogram:{seriesColors:["#990000","#006600"]},MAE:{seriesColors:["#ff0000","#0000ff","#0000ff"]},ParabolicSAR:{seriesColors:["#000000"]},TSI:{seriesColors:["#000000"]},DC:{seriesColors:["#2222cc","#2222cc","#666666"]},Aroon:{seriesColors:["#22ffff","#ffaa00"]},compare:{seriesColors:["#000000","#ff0000","#0000cc"]},portfolioValue:{seriesColors:["#000000"],textColors:["#000000"]},investments:{textColors:["#cc0000"],seriesColors:["#cc0000"]},capitalGain:{textColors:["#000000"],seriesColors:["#0000cc"]}},tooltip:{textColor:"#666666",borderColor:"#333333",backgroundColor:"rgba(255, 255, 255, 0.7)",width:160,crossColor:"rgba(0, 0, 0, 0.4)",showTooltip:!0,tooltipType:1,showCross:!0},YValue:{showYValue:!0,backgroundColor:"#ffffff",borderColor:"#666666",textColor:"#000",width:37,height:20},chartsDefaults:{lineColor:"#000000",Close:"#000000",Area1:"#dddddd"},navigatorPanel:{chartBackgroundColor:"#dddddd",chartBorderColor:"#666666",gridColor:"#cccccc",textColor:"#000000",selectedArea:{backgroundColor:"rgba(51, 102, 153, 0.5)",borderColor:"rgba(51, 51, 51, 0.5)",scroolbarBackgroundColor:"#CCCCCC",scroolbarBorderColor:"#666666"}},rangeButtons:{textColor:"#000",borderColor:"#666",backgroundColor:"#ccc"},icons:{addIndicator:"data:image/gif;base64,R0lGODlhDAAMAEQAACH5BAEAAAsALAAAAAAMAAwApACSP4LL8vz+/wJ9xHXF8NTt++Lz/Krc9pzW9e74/pDR8wAAAA2EyCyX1BeLzCGR0Fez5Uys4Wy/7WG56Tee2Lji+EKl3cbn+QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVJ4EKMZLlIQqqu0pS8CQDAyQQZuCHnBhQVwIIsWIhYLrJk8mKhVJTKCqVxqB5k1kPjgegiZF7Ew6EoK2RmhYMRaLvfjMVgTq8vQgA7"}};$.fn.colorPicker=function(n){var t=$.extend({colorsPerLine:8,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4C1130"],onChangeColor:!1},n);return this.each(function(){var n=$(this),f=n.val(),e,r,o,u,i,s;for(f!==undefined&&f!==""&&(n.css("color",f),n.css("background-color",f)),e="",r=0;r<t.colors.length;r++)o=t.colors[r],u="",r%t.colorsPerLine==0&&(u="clear: both; "),r>0&&u&&$.browser&&$.browser.msie&&$.browser.version<=7&&(u="",e+='<li style="float: none; clear: both; overflow: hidden; background-color: #fff; display: block; height: 1px; line-height: 1px; font-size: 1px; margin-bottom: -2px;"><\/li>'),e+='<li class="color-box" style="'+u+"background-color: "+o+'" title="'+o+'"><\/li>';i=$('<div id="color-picker" class="color-picker" style="position: absolute; left: 0px; top: 0px;"><ul>'+e+'<\/ul><div style="clear: both;"><\/div><\/div>');$("body").append(i);i.hide();i.find("li.color-box").click(function(){if(n.is("input")){var t=$(this).attr("title");n.val(t);n.css("color",t);n.css("background-color",t);n.blur()}i.hide()});$("body").on("click",function(){i.hide()});i.click(function(n){n.stopPropagation()});s=function(t){var i=n.offset(),r=i.left+n.outerWidth()-t.outerWidth();r<i.left&&(r=i.left);t.css({left:r,top:i.top+n.outerHeight()});t.show()};n.click(function(t){t.stopPropagation();n.is("input")||s(i)});n.focus(function(){s(i)})})};$.vobcoCharts.cookie=function(n,t,i){var s,u,f,e,r,o;if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(t))||t===null||t===undefined))return i=$.extend({},i),(t===null||t===undefined)&&(i.expires=-1),typeof i.expires=="number"&&(s=i.expires,u=i.expires=new Date,u.setDate(u.getDate()+s)),t=String(t),document.cookie=[encodeURIComponent(n),"=",i.raw?t:encodeURIComponent(t),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("");for(i=t||{},f=i.raw?function(n){return n}:decodeURIComponent,e=document.cookie.split("; "),r=0;o=e[r]&&e[r].split("=");r++)if(f(o[0])===n)return f(o[1]||"");return null};$.vobcoCharts.spremiUCookie=function(){var i,n,t;if($.vobcoCharts.settings.saveInCookie){for(i=$("#"+$.vobcoCharts.settings.htmlPrefix+"Interval").val()+"|",n=0;n<$.vobcoCharts.mreze.length;n++)for(t=0;t<$.vobcoCharts.mreze[n].indikatori.length;t++)$.vobcoCharts.mreze[n].indikatori[t].indikator!=="Usporedba"&&(i+=n+";",i+=$.vobcoCharts.mreze[n].visina+";",i+=$.vobcoCharts.mreze[n].indikatori[t].indikator+";",i+=$.vobcoCharts.mreze[n].indikatori[t].indexRoditelja===undefined?"undefined;":$.vobcoCharts.mreze[n].indikatori[t].indexRoditelja.mreza+","+$.vobcoCharts.mreze[n].indikatori[t].indexRoditelja.indikator+";",i+=$.vobcoCharts.mreze[n].indikatori[t].parametri+";",i+=$.vobcoCharts.mreze[n].indikatori[t].boje+";",i+=$.vobcoCharts.mreze[n].indikatori[t].funkcijaCrtanja+";",i+="|");$.vobcoCharts.selectBoxIzmjena();$.vobcoCharts.cookie($.vobcoCharts.settings.cookiePrefix+"chart_"+$.vobcoCharts.settings.dataType,i,{expires:365,path:"/"})}};$.vobcoCharts.ucitajIzCookiea=function(){var u,s,f,n,i,c,t,h,e,o,l,r,a;if($.vobcoCharts.settings.saveInCookie){try{if((sadrzaj=$.vobcoCharts.cookie($.vobcoCharts.settings.cookiePrefix+"chart_"+$.vobcoCharts.settings.dataType),sadrzaj===undefined||sadrzaj===""||sadrzaj===null)||(u=sadrzaj.split("|"),u.length<=1))return!1;for(s=-1,$.vobcoCharts.mreze=[],f=1;f<u.length;f++)(n=u[f].split(";"),n.length<6)||(s!==n[0]&&(i={},i.indikatori=[],i.visina=parseInt(n[1],10),i.min=undefined,i.max=undefined,i.omjer=undefined,$.vobcoCharts.mreze.push(i),s=n[0]),i=$.vobcoCharts.mreze[n[0]],c=$.vobcoCharts.pronadiIndikator(n[2]),t=n[3]==="undefined"?undefined:n[3].split(","),h=n[4]===""?[]:n[4].split(","),o=n[5].split(","),n[2]==="MACDHistogram"&&o.length===1&&(o=$.vobcoCharts.styles.indicators.MACDHistogram.seriesColors),l=n[6],r=$.vobcoCharts.indikatori[c],r.ulazniPodaci===1?e=t===undefined||t[0]<=0&&t[1]<=0?[$.vobcoCharts.data.c]:$.vobcoCharts.mreze[t[0]].indikatori[t[1]].data:r.ulazniPodaci===3?e=t===undefined||t[0]<=0&&t[1]<=0?[$.vobcoCharts.data.h,$.vobcoCharts.data.l,$.vobcoCharts.data.c]:$.vobcoCharts.mreze[t[0]].indikatori[t[1]].data:r.ulazniPodaci===4&&(e=t===undefined||t[0]<=0&&t[1]<=0?[$.vobcoCharts.data.o,$.vobcoCharts.data.h,$.vobcoCharts.data.l,$.vobcoCharts.data.c]:$.vobcoCharts.mreze[t[0]].indikatori[t[1]].data),a={},n.indikator=r.indikator,n.nazivIndikatora=r.nazivIndikatora,n.funkcijaCrtanja=l,n.izlazniPodaci=r.izlazniPodaci,n.dozvoliNoviIndikator=r.dozvoliNoviIndikator,t!==undefined&&(n.indexRoditelja={mreza:parseInt(t[0],10),indikator:parseInt(t[1],10)}),n.data=r.izracunaj(h,e),n.parametri=h,n.boje=o,n.tipka={},i.indikatori.push(n));$("#"+$.vobcoCharts.settings.htmlPrefix+"Interval").val(u[0]);$("#"+$.vobcoCharts.settings.htmlPrefix+"Interval").selectbox("detach");$("#"+$.vobcoCharts.settings.htmlPrefix+"Interval").selectbox("attach");$.vobcoCharts.changeInterval();$.vobcoCharts.drawChart()}catch(v){return $.vobcoCharts.cookie($.vobcoCharts.settings.cookiePrefix+"chart_"+$.vobcoCharts.settings.dataType,"",{expires:0,path:"/"}),!1}finally{$.vobcoCharts.selectBoxIzmjena()}return!0}};$.vobcoCharts.funkcijeCrtanja={};$.vobcoCharts.funkcijeCrtanja.OHLC=function(n,t){var r=$.vobcoCharts.settings,u=$.vobcoCharts.mreze[n].visina,f=$.vobcoCharts.mreze[n].min,e=$.vobcoCharts.mreze[n].omjer,s=r.width-r.margins.leftOffset,o,h;for($("html").liv,krak=$.vobcoCharts.getKrakovi(),i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)o=i>0&&$.vobcoCharts.data.c[i]<$.vobcoCharts.data.c[i-1]?$.vobcoCharts.mreze[n].indikatori[t].boje[0]:$.vobcoCharts.mreze[n].indikatori[t].boje[2],i>0&&$.vobcoCharts.data.c[i]===$.vobcoCharts.data.c[i-1]&&(o=$.vobcoCharts.mreze[n].indikatori[t].boje[1]),OHLC((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u-($.vobcoCharts.data.o[i]-f)*e,u-($.vobcoCharts.data.h[i]-f)*e,u-($.vobcoCharts.data.l[i]-f)*e,u-($.vobcoCharts.data.c[i]-f)*e,krak,o);r.showCurrentPrice&&(ctx.fillStyle=o,ctx.strokeStyle=r.styles.YValue.borderColor,ctx.lineWidth=1,roundRect(s,u-($.vobcoCharts.data.c[i-1]-f)*e-r.styles.YValue.height/2,r.styles.YValue.width,r.styles.YValue.height,3),h=$.vobcoCharts.formatirajBrojZaOS($.vobcoCharts.data.c[i-1],undefined),tekst(s+5,u-($.vobcoCharts.data.c[i-1]-f)*e,h,r.styles.backgroundColor,undefined,"middle"))};$.vobcoCharts.funkcijeCrtanja.CandleStick=function(n,t){var r=$.vobcoCharts.settings,u=$.vobcoCharts.mreze[n].visina,f=$.vobcoCharts.mreze[n].min,e=$.vobcoCharts.mreze[n].omjer,s=r.width-r.margins.leftOffset,o,h;for(krak=$.vobcoCharts.getKrakovi(),i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)o=i>0&&$.vobcoCharts.data.c[i]<$.vobcoCharts.data.o[i]?$.vobcoCharts.mreze[n].indikatori[t].boje[0]:$.vobcoCharts.mreze[n].indikatori[t].boje[2],$.vobcoCharts.data.c[i]===$.vobcoCharts.data.o[i]&&(o=$.vobcoCharts.mreze[n].indikatori[t].boje[1]),CandleStick((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u-($.vobcoCharts.data.o[i]-f)*e,u-($.vobcoCharts.data.h[i]-f)*e,u-($.vobcoCharts.data.l[i]-f)*e,u-($.vobcoCharts.data.c[i]-f)*e,krak,o);r.showCurrentPrice&&(ctx.fillStyle=o,ctx.strokeStyle=r.styles.YValue.borderColor,ctx.lineWidth=1,roundRect(s,u-($.vobcoCharts.data.c[i-1]-f)*e-r.styles.YValue.height/2,r.styles.YValue.width,r.styles.YValue.height,3),h=$.vobcoCharts.formatirajBrojZaOS($.vobcoCharts.data.c[i-1],undefined),tekst(s+5,u-($.vobcoCharts.data.c[i-1]-f)*e,h,r.styles.backgroundColor,undefined,"middle"))};$.vobcoCharts.funkcijeCrtanja.Line=function(n,t){var u=$.vobcoCharts.mreze[n].visina,f=$.vobcoCharts.mreze[n].min,e=$.vobcoCharts.mreze[n].omjer,i,r,o;for(ctx.lineWidth=1,r=0,o=$.vobcoCharts.mreze[n].indikatori[t].data.length;r<o;r++){if(ctx.beginPath(),ctx.strokeStyle=$.vobcoCharts.mreze[n].indikatori[t].boje[r]===undefined?$.vobcoCharts.settings.styles.chartsDefaults.lineColor:$.vobcoCharts.mreze[n].indikatori[t].boje[r],$.vobcoCharts.mreze[n].indikatori[t].indikator==="OHLC"){for(ctx.strokeStyle=$.vobcoCharts.mreze[n].indikatori[t].boje[r]===undefined?$.vobcoCharts.settings.styles.chartsDefaults.lineColor:$.vobcoCharts.mreze[n].indikatori[t].boje[0],i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)ctx.lineTo((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u-e*($.vobcoCharts.data.c[i]-f));ctx.stroke();ctx.closePath();return}for(i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)ctx.lineTo((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u-e*($.vobcoCharts.mreze[n].indikatori[t].data[r][i]-f));ctx.stroke();ctx.closePath()}};$.vobcoCharts.funkcijeCrtanja.Dots=function(n,t){for(var f=$.vobcoCharts.mreze[n].visina,e=$.vobcoCharts.mreze[n].min,o=$.vobcoCharts.mreze[n].omjer,r,i=0,u=$.vobcoCharts.mreze[n].indikatori[t].data.length;i<u;i++)for(ctx.fillStyle=$.vobcoCharts.mreze[n].indikatori[t].boje[i]===undefined?$.vobcoCharts.settings.styles.chartsDefaults.lineColor:$.vobcoCharts.mreze[n].indikatori[t].boje[i],r=$.vobcoCharts.si;r<=$.vobcoCharts.ei;r++)ctx.fillRect((r-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,f-o*($.vobcoCharts.mreze[n].indikatori[t].data[i][r]-e),2,2)};$.vobcoCharts.funkcijeCrtanja.Area=function(n,t){var r=$.vobcoCharts.mreze[n].visina,e=$.vobcoCharts.mreze[n].min,o=$.vobcoCharts.mreze[n].omjer,u,f,i;for(ctx.lineWidth=1,u=ctx.createLinearGradient(0,0,0,r),$.vobcoCharts.mreze[n].indikatori[t].boje.length>1&&($.vobcoCharts.mreze[n].indikatori[t].boje[0]=$.vobcoCharts.mreze[n].indikatori[t].boje[1]),u.addColorStop(1,$.vobcoCharts.settings.styles.indicators.Area.seriesColors[0]),u.addColorStop(0,$.vobcoCharts.mreze[n].indikatori[t].boje[0]),ctx.beginPath(),ctx.fillStyle=u,ctx.moveTo(0,r),f=$.vobcoCharts.mreze[n].indikatori[t].data.length-1,i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)ctx.lineTo((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,r-o*($.vobcoCharts.mreze[n].indikatori[t].data[f][i]-e));ctx.lineTo($.vobcoCharts.settings.width-$.vobcoCharts.settings.margins.leftOffset-$.vobcoCharts.settings.margins.rightOffset,r);ctx.fill();ctx.closePath()};$.vobcoCharts.funkcijeCrtanja.Usporedba=function(n,t){var o=$.vobcoCharts.mreze[n].visina,s=$.vobcoCharts.mreze[n].min,h=$.vobcoCharts.mreze[n].omjer,e,i,r,f,u;for(ctx.lineWidth=1,ctx.beginPath(),ctx.strokeStyle=$.vobcoCharts.mreze[n].indikatori[t].boje[0]===undefined?$.vobcoCharts.settings.styles.chartsDefaults.lineColor:$.vobcoCharts.mreze[n].indikatori[t].boje[0],e=100/$.vobcoCharts.data.c[$.vobcoCharts.si],i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)ctx.lineTo((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,o-h*($.vobcoCharts.data.c[i]*e-s));if(ctx.stroke(),ctx.closePath(),$.vobcoCharts.mreze[n].indikatori[t].data!==undefined)for(r=0;r<$.vobcoCharts.mreze[n].indikatori[t].data.length;r++)if(ctx.beginPath(),ctx.strokeStyle=$.vobcoCharts.mreze[n].indikatori[t].boje[r+1]===undefined?$.vobcoCharts.settings.styles.chartsDefaults.lineColor:$.vobcoCharts.mreze[n].indikatori[t].boje[r+1],$.vobcoCharts.mreze[n].indikatori[t].data[r].length!==0){if(f=100/$.vobcoCharts.mreze[n].indikatori[t].data[r][$.vobcoCharts.si],isNaN(f))for(u=$.vobcoCharts.si;u<$.vobcoCharts.ei;u++)if($.vobcoCharts.mreze[n].indikatori[t].data[r][u]!==undefined){f=$.vobcoCharts.data.c[u]*e/$.vobcoCharts.mreze[n].indikatori[t].data[r][u];break}for(i=$.vobcoCharts.si,len=$.vobcoCharts.mreze[n].indikatori[t].data[r].length;i<=$.vobcoCharts.ei&&i<len;i++)if($.vobcoCharts.mreze[n].indikatori[t].data[r][i]===undefined)continue;else ctx.lineTo((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,o-h*($.vobcoCharts.mreze[n].indikatori[t].data[r][i]*f-s));ctx.stroke();ctx.closePath()}};$.vobcoCharts.funkcijeCrtanja.FromZero=function(n,t){var f=$.vobcoCharts.mreze[n].visina,e=$.vobcoCharts.mreze[n].min,o=$.vobcoCharts.mreze[n].omjer,r,u,i;for(ctx.lineWidth=1,r=$.vobcoCharts.mreze[n].indikatori[t].data[0],ctx.beginPath(),ctx.strokeStyle=$.vobcoCharts.mreze[n].indikatori[t].boje[0]===undefined?$.vobcoCharts.settings.styles.chartsDefaults.lineColor:$.vobcoCharts.mreze[n].indikatori[t].boje[0],u=r[$.vobcoCharts.si],i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)ctx.lineTo((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,f-o*(r[i]-u-e));ctx.stroke();ctx.closePath()};$.vobcoCharts.funkcijeCrtanja.Bar=function(n,t){var u=$.vobcoCharts.mreze[n].visina,e=$.vobcoCharts.mreze[n].min,f=$.vobcoCharts.mreze[n].omjer,r;for(ctx.lineWidth=1,sirKrakova=krak=$.vobcoCharts.getKrakovi(),i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)r=i>0&&$.vobcoCharts.data.c[i]<$.vobcoCharts.data.c[i-1]?$.vobcoCharts.mreze[n].indikatori[t].boje[0]:$.vobcoCharts.mreze[n].indikatori[t].boje[2],i>0&&$.vobcoCharts.data.c[i]===$.vobcoCharts.data.c[i-1]&&(r=$.vobcoCharts.mreze[n].indikatori[t].boje[1]),linija((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u,(i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u-$.vobcoCharts.data.v[i]*f,r,sirKrakova)};$.vobcoCharts.funkcijeCrtanja.BollingerBands=function(n,t){var r=$.vobcoCharts.mreze[n].visina,u=$.vobcoCharts.mreze[n].min,f=$.vobcoCharts.mreze[n].omjer,i;for(ctx.lineWidth=1,ctx.beginPath(),ctx.strokeStyle=$.vobcoCharts.mreze[n].indikatori[t].boje[0],ctx.fillStyle="rgba(0, 0, 0, 0.2)",i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)ctx.lineTo((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,r-f*($.vobcoCharts.mreze[n].indikatori[t].data[1][i]-u));for(i=$.vobcoCharts.ei;i>=$.vobcoCharts.si;i--)ctx.lineTo((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,r-f*($.vobcoCharts.mreze[n].indikatori[t].data[2][i]-u));ctx.fill();ctx.stroke();ctx.closePath();linija(($.vobcoCharts.ei-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,r-f*($.vobcoCharts.mreze[n].indikatori[t].data[1][$.vobcoCharts.ei]-u),($.vobcoCharts.ei-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,r-f*($.vobcoCharts.mreze[n].indikatori[t].data[2][$.vobcoCharts.ei]-u),"#f6f6f6",1)};$.vobcoCharts.funkcijeCrtanja.Histogram=function(n,t){var u=$.vobcoCharts.mreze[n].visina,f=$.vobcoCharts.mreze[n].min,r=$.vobcoCharts.mreze[n].omjer;if(sirKrakova=krak=$.vobcoCharts.getKrakovi(),$.vobcoCharts.mreze[n].indikatori[t].boje.length===2)for(i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)$.vobcoCharts.mreze[n].indikatori[t].data[0][i]<0?linija((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u+f*r,(i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u+f*r-$.vobcoCharts.mreze[n].indikatori[t].data[0][i]*r,$.vobcoCharts.mreze[n].indikatori[t].boje[0],sirKrakova):linija((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u+f*r,(i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u+f*r-$.vobcoCharts.mreze[n].indikatori[t].data[0][i]*r,$.vobcoCharts.mreze[n].indikatori[t].boje[1],sirKrakova);else for(i=$.vobcoCharts.si;i<=$.vobcoCharts.ei;i++)linija((i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u+f*r,(i-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,u+f*r-$.vobcoCharts.mreze[n].indikatori[t].data[0][i]*r,$.vobcoCharts.mreze[n].indikatori[t].boje[0],sirKrakova)};$.vobcoCharts.getKrakovi=function(){return(razina=$.vobcoCharts.getRazina(),razina===1)?7:razina===2?5:razina===3?3:razina===4?1:0};$.vobcoCharts.nacrtajPrviPut=function(){var f,n,o,t,e,r,u;if(ctx.translate($.vobcoCharts.settings.margins.left,$.vobcoCharts.settings.margins.up),$.vobcoCharts.mreze=[],$.vobcoCharts.settings.saveInCookie&&$.vobcoCharts.ucitajIzCookiea instanceof Function&&$.vobcoCharts.ucitajIzCookiea())$.vobcoCharts.utility.ucitanoIzCookiea=!0;else{f={};f.indikatori=[];f.visina=$.vobcoCharts.settings.OHLCHeight;f.min=undefined;f.max=undefined;f.omjer=undefined;n={};n.parametri=[];n.tipka={};n.indikator=$.vobcoCharts.indikatori[0].indikator;n.nazivIndikatora=$.vobcoCharts.indikatori[0].nazivIndikatora;n.izlazniPodaci=$.vobcoCharts.indikatori[0].izlazniPodaci;switch($.vobcoCharts.settings.chartType){case"OHLC":n.funkcijaCrtanja=$.vobcoCharts.indikatori[0].funkcijeCrtanja[0];break;case"CandleStick":n.funkcijaCrtanja=$.vobcoCharts.indikatori[0].funkcijeCrtanja[1];break;case"Line":n.funkcijaCrtanja=$.vobcoCharts.indikatori[0].funkcijeCrtanja[2];break;case"Area":n.funkcijaCrtanja=$.vobcoCharts.indikatori[0].funkcijeCrtanja[3];break;default:n.funkcijaCrtanja=$.vobcoCharts.indikatori[0].funkcijeCrtanja[0]}n.boje=$.vobcoCharts.indikatori[0].boje;n.dozvoliNoviIndikator=$.vobcoCharts.indikatori[0].dozvoliNoviIndikator;n.data=$.vobcoCharts.indikatori[0].izracunaj();f.indikatori.push(n);$.vobcoCharts.mreze.push(f);$.vobcoCharts.settings.displayVolume&&(o={},o.indikatori=[],o.visina=$.vobcoCharts.settings.volumeHeight,t={},t.tipka={},t.indikator=$.vobcoCharts.indikatori[1].indikator,t.nazivIndikatora=$.vobcoCharts.indikatori[1].nazivIndikatora,t.data=$.vobcoCharts.indikatori[1].izracunaj(),t.boje=$.vobcoCharts.indikatori[1].boje,t.funkcijaCrtanja=$.vobcoCharts.indikatori[1].funkcijeCrtanja[0],t.izlazniPodaci=$.vobcoCharts.indikatori[1].izlazniPodaci,t.parametri=[],t.dozvoliNoviIndikator=$.vobcoCharts.indikatori[1].dozvoliNoviIndikator,o.indikatori.push(t),$.vobcoCharts.mreze.push(o));$.vobcoCharts.settings.dataType==="portfolio"&&(e={},e.indikatori=[],e.visina=$.vobcoCharts.settings.OHLCHeight,r={},r.tipka={},r.indikator=$.vobcoCharts.indikatori[1].indikator,r.nazivIndikatora=$.vobcoCharts.indikatori[1].nazivIndikatora,r.data=$.vobcoCharts.indikatori[1].izracunaj(),r.boje=$.vobcoCharts.indikatori[1].boje,r.funkcijaCrtanja=$.vobcoCharts.indikatori[1].funkcijeCrtanja[0],r.izlazniPodaci=$.vobcoCharts.indikatori[1].izlazniPodaci,r.parametri=[],r.dozvoliNoviIndikator=$.vobcoCharts.indikatori[1].dozvoliNoviIndikator,e.indikatori.push(r),u={},u.tipka={},u.indikator=$.vobcoCharts.indikatori[2].indikator,u.nazivIndikatora=$.vobcoCharts.indikatori[2].nazivIndikatora,u.data=$.vobcoCharts.indikatori[2].izracunaj(),u.boje=$.vobcoCharts.indikatori[2].boje,u.funkcijaCrtanja=$.vobcoCharts.indikatori[2].funkcijeCrtanja[0],u.izlazniPodaci=$.vobcoCharts.indikatori[2].izlazniPodaci,u.parametri=[],u.dozvoliNoviIndikator=$.vobcoCharts.indikatori[2].dozvoliNoviIndikator,e.indikatori.push(u),$.vobcoCharts.mreze.push(e))}$.vobcoCharts.settings.events.afterBaseIndicatorsAdd!==undefined&&$.vobcoCharts.settings.events.afterBaseIndicatorsAdd!==""&&$.vobcoCharts.settings.events.afterBaseIndicatorsAdd instanceof Function&&$.vobcoCharts.settings.events.afterBaseIndicatorsAdd();$.vobcoCharts.indikatori!==undefined&&$.vobcoCharts.selectBoxIzmjena instanceof Function&&$.vobcoCharts.selectBoxIzmjena();$.vobcoCharts.utility.razmakPuniRasponX=$.vobcoCharts.settings.width/($.vobcoCharts.data.d.length-1);i=$.vobcoCharts.data.d.length>120?$.vobcoCharts.data.d.length-120:0;$.vobcoCharts.drawChart(i,$.vobcoCharts.data.d.length-1,!0)};$.vobcoCharts.drawChart=function(n,t,i){var r=$.vobcoCharts,f=r.settings,a,u,e,o,y,d,p,w,c,h,b,g,nt,s;for(t===undefined&&(t=r.ei),n===undefined&&(n=r.si),a=r.data.d.length,t>=a&&(t=a-1),n<0&&(n=0),i!==undefined&&i&&(r.selStart=undefined,r.selEnd=undefined,r.selTempStart=undefined,r.selTempEnd=undefined,r.utility.izracunajRaspon=!0),(r.si!=n||r.ei!=t)&&(r.utility.izracunajRaspon=!0),r.si=n,r.ei=t,f.width<f.minWidth&&(f.width=f.minWidth),r.utility.razmakPuniRasponX=f.width/(a-1),r.utility.ukupnaSirina=f.width+f.margins.left+f.margins.right,r.visineGrafova=0,u=0;u<r.mreze.length;u++)r.visineGrafova+=r.mreze[u].visina;if(y=f.margins.up+f.margins.beforeNavigatorPanel+f.navigatorPanelHeight+f.margins.down,f.fixedHeight)for(d=(f.height-y)/r.visineGrafova,u=0;u<r.mreze.length;u++)r.mreze[u].visina*=d;for(r.ukupnaVisina=y+r.visineGrafova,r.canvas.style.width=r.utility.ukupnaSirina+"px",r.canvas.style.height=r.ukupnaVisina+"px",r.canvas.width=r.utility.ukupnaSirina,r.canvas.height=r.ukupnaVisina,ctx.translate(.5,.5),ctx.save(),ctx.fillStyle=f.styles.backgroundColor,ctx.fillRect(0,0,r.utility.ukupnaSirina,r.ukupnaVisina),ctx.translate(f.margins.left,f.margins.up),r.isMouseDown&&(r.utility.izracunajRaspon=!0),u=0;u<r.mreze.length;u++){if(r.crtajSamoPuniRaspon){ctx.translate(0,r.mreze[u].visina);continue}if(typeof r.pronadiIndikator!="undefined"){if(r.mreze[u].indikatori.length<=0){r.mreze.splice(u,1);r.drawChart(n,t);r.utility.izracunajRaspon=!0;return}indexObIndikatora=r.pronadiIndikator(r.mreze[u].indikatori[0].indikator)}if(r.utility.izracunajRaspon){for(r.mreze[u].min=undefined,r.mreze[u].max=undefined,tempMin=undefined,tempMax=undefined,e=0;e<r.mreze[u].indikatori.length;e++){switch(r.mreze[u].indikatori[e].indikator){case"OHLC":f.dataType==="OHLC"&&(tempMin=r.najniza(r.data.l,r.si,r.ei),tempMax=r.najvisa(r.data.h,r.si,r.ei));p=r.najniza(r.data.c,r.si,r.ei);w=r.najvisa(r.data.c,r.si,r.ei);(tempMin==undefined||p<tempMin)&&(tempMin=p);(tempMax==undefined||w>tempMax)&&(tempMax=w);break;case"volume":tempMin=0;tempMax=r.najvisa(r.data.v,r.si,r.ei);break;case"Usporedba":for(kSto=100/r.data.c[r.si],tempMin=r.najniza(r.data.c,r.si,r.ei)*kSto,tempMax=r.najvisa(r.data.c,r.si,r.ei)*kSto,o=0;o<r.mreze[u].indikatori[e].data.length;o++){if(c=100/r.mreze[u].indikatori[e].data[o][r.si],isNaN(c))for(h=r.si;h<r.ei;h++)if(r.mreze[u].indikatori[e].data[o][h]!==undefined){c=r.data.c[h]*kSto/r.mreze[u].indikatori[e].data[o][h];break}tMin=r.najniza(r.mreze[u].indikatori[e].data[o],r.si,r.ei)*c;tMax=r.najvisa(r.mreze[u].indikatori[e].data[o],r.si,r.ei)*c;tMin<tempMin&&(tempMin=tMin);tMax>tempMax&&(tempMax=tMax)}break;case"MACDHistogram":tempMin=r.najniza(r.mreze[u].indikatori[e].data[0],r.si,r.ei);tempMax=r.najvisa(r.mreze[u].indikatori[e].data[0],r.si,r.ei);tempMin>0&&(tempMin=0);tempMax<0&&(tempMax=0);break;default:if(r.mreze[u].indikatori[e].funkcijaCrtanja=="FromZero")b=r.mreze[u].indikatori[e].data[0][r.si],tempMin=r.najniza(r.mreze[u].indikatori[e].data[0],r.si,r.ei)-b,tempMax=r.najvisa(r.mreze[u].indikatori[e].data[0],r.si,r.ei)-b;else if(tempMin=r.indikatori[indexObIndikatora].minimum===undefined?r.najniza(r.mreze[u].indikatori[e].data[0],r.si,r.ei):r.indikatori[indexObIndikatora].minimum,tempMax=r.indikatori[indexObIndikatora].maximum===undefined?r.najvisa(r.mreze[u].indikatori[e].data[0],r.si,r.ei):r.indikatori[indexObIndikatora].maximum,r.indikatori[indexObIndikatora].maximum===undefined||r.indikatori[indexObIndikatora].minimum===undefined)for(o=1;o<r.mreze[u].indikatori[e].data.length;o++)tMin=r.najniza(r.mreze[u].indikatori[e].data[o],r.si,r.ei),tMax=r.najvisa(r.mreze[u].indikatori[e].data[o],r.si,r.ei),tMin<tempMin&&(tempMin=tMin),tMax>tempMax&&(tempMax=tMax)}(r.mreze[u].min===undefined||tempMin<r.mreze[u].min)&&(r.mreze[u].min=tempMin);(r.mreze[u].max===undefined||tempMax>r.mreze[u].max)&&(r.mreze[u].max=tempMax)}r.utility.razmakX=0;r.utility.razmakX=(f.width-f.margins.leftOffset-f.margins.rightOffset)/(r.ei-r.si);osY=r.izracunajYRazmak(r.mreze[u].min,r.mreze[u].max,r.mreze[u].visina-20,Math.ceil((r.mreze[u].visina-20)/30),r.indikatori[indexObIndikatora].minimum!==undefined,r.indikatori[indexObIndikatora].maximum!==undefined);r.mreze[u].min=osY.min;r.mreze[u].max=osY.max;r.mreze[u].omjer=osY.omjer;r.mreze[u].razmak=osY.razmak}for(r.nacrtajMrezu(u),ctx.translate(f.margins.leftOffset,0),e=0;e<r.mreze[u].indikatori.length;e++)switch(r.mreze[u].indikatori[e].funkcijaCrtanja){case"OHLC":r.funkcijeCrtanja.OHLC(u,e);break;case"CandleStick":r.funkcijeCrtanja.CandleStick(u,e);break;case"Bar":r.funkcijeCrtanja.Bar(u,e);break;case"BollingerBands":r.funkcijeCrtanja.BollingerBands(u,e,r.mreze[u].indikatori[e].parametri);break;case"Histogram":r.funkcijeCrtanja.Histogram(u,e);break;case"Area":r.funkcijeCrtanja.Area(u,e);break;case"Dots":r.funkcijeCrtanja.Dots(u,e);break;case"Usporedba":r.funkcijeCrtanja.Usporedba(u,e);break;case"FromZero":r.funkcijeCrtanja.FromZero(u,e);break;default:r.funkcijeCrtanja.Line(u,e)}ctx.translate(0-f.margins.leftOffset,r.mreze[u].visina)}for(r.utility.izracunajRaspon=!1,r.crtajSamoPuniRaspon||r.nacrtajXOs(),ctx.translate(0,f.margins.beforeNavigatorPanel),siTemp=r.si,eiTemp=r.ei,r.si=0,r.ei=r.data.d.length-1,r.nacrtajPuniRaspon(f.width,f.navigatorPanelHeight),r.odabranoVrijeme(n,t),ctx.restore(),ctx.save(),tekst(r.utility.ukupnaSirina/2,f.margins.up+r.mreze[0].visina/2,$.vobcoCharts.symbol,f.styles.backgroundTextColor,"center","middle",f.symbolFontSize),g=r.utility.ukupnaSirina>700?r.utility.ukupnaSirina/2:r.utility.ukupnaSirina-280-f.margins.right,nt=f.fixedHeight?f.height-f.margins.down-f.navigatorPanelHeight:r.visineGrafova+f.margins.beforeNavigatorPanel,f.showCopyright&&tekst(g,nt,r.jezik.copyRight,f.styles.copyrightTextColor,"center","bottom",12),f.currency!==""&&tekst(r.utility.ukupnaSirina/2,f.margins.up+r.mreze[0].visina/2+50,r.jezik.valuta+f.currency,f.styles.backgroundTextColor,"center","middle",f.currencyFontSize,undefined,"bold"),$.vobcoCharts.trImg==undefined&&($.vobcoCharts.trImg=new Image(105,37),$.vobcoCharts.trImg.src="data:Image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAAAlCAYAAABBGMctAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNC8zMC8xNLNETPsAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAAI20lEQVRoge1aTYwcRxX+ZtjFYtaKmwzsyqxt9fhgEZHgQUgmiWHdViRIhESaSJyQlUkQdV7EDZAyMRySXDJcC4Q74sAB4YyDEA5Ccq8cRBYU0Rs7SnzxNLtLsDe06THatlh7pzn0q+3qnv6b3R4bS/tJre6qevXq1Xv1Xr2qmYrv+1iZmmkBUFEu7IPr141KpVIyWwChrPY4mKehV6srANSG51h3c9yJlakZE8CJcTBfmZpRAbQTmrpUH59sk+r1HNYteifx3jF6tXoTQAehXs41PEdHKJ82jnHTUMWYDETQUupdhIqWoVPbPQMZyETgpScBfHNc4/Rq9bzFCCAw0o5RVZT+7PL7Swf/88+b0+dfX5g4rK7mdDGRbECd2u4lugA6Dc9pNTzHbHhOl7yobAjPzMVEGaN96le/WKrWH5wDgD1fefzE/kuLuLO8urj+89fexo9/lNSlC+AMAAWh5ygAjlKbgEaPDcBI4KMi8MikdtHmUpsYJ5WnWNkNz2knCS3RKYJ3w3OMWL1OYxsNz7GpXpVk0mhcldq0hueY9N1EGE2Mhue4QIYnTRxWVz/x9a9ZeV6x9/lTi3vmjs9RcStUTRw68KV9p3/4aEo3F8ASonuPRnWCRwvABarvYHj/UhF6ZIceAR1Aj97z9BThqSG6SNJgEu8zvVq9LdUbCPdUi4wmxm1Tu07lZ+m5AGwtkL+RDPOQvWy5Nu0v16b9Dx8+tuKefunixqX3Lg42NlZ9gc3NvqCJP6ufOeL6m5t9onM/fPjY6jXtqSsbS5cu+pubru/7ZsZEO4iuZDFBIPAqXxJUQbDyhVHbCIwp2ptUVhF6Z0vi3SzAE71a3YwpPYJera71anW/V6trVG71anVLao/zatF3u1eru5LRRF1bKndj/bdoJ/a/99fzH5vd/0hlcvIAgANDklWrD6QJvf/dP9uoVo8CQP8nr1y+c9U+jqs2rj32xJHqvn0398w9/kFaXwQr1pDKGkKF6QBeQ7jSXQRG1RCu9K7UblFZI1ozxttCYLQ8nkWwJMJTw3OMXq1+RjQ0PKcLbCnYRvRYsxW+UqDQI3ht0VYn1ENPViYnZ2XqgXPD8te9t7Mkrf/yZwvV+oNHAeDO31cWb7786vEIj37/gVu//f1nM1iYJFQT4UoXClQxfAayEN1o4+029WtiOIwV5VkEqYomz7JpHK1oP0IHQfg0ZC8CaE8aODcs7zfnzH9969TSytQM/nHooeatN//43zRuHz/2xSu1Z75xAgD827dXrz/2xEM5AqTBRLiRj7KaxwUL2zzU06Y/D0BreI6C5EQnFeSFX6Dx7Ui4W5maAUZYTVVF6U//4dxeUXa+/R1n0O8Ph8li6CIMcbKRbAyvxLiHKAntHYQZVBxFeHYBdHu1upITmpKgA+iKjA7RzLUQ6CZD69XqXQThuQNs45w0ff7sZREevbNvLNz63ZtHR+UhwUSguKcRNZKJIPORN/n5GE0LoaGaxMdK6Cvac3nSXmMDMGObfNFFrBK9guTDehxpY9gy0UjnpL3Pn1qcfORzxwHAX/euOKe+u9PbChvBahNvuf5FBCnpAgLFdhE96FpEZyG4NXmOeLj0LfqqCDPHPJ5AeKC2KXNTEJzf8i4hDQA9UraK/PBtArhA56QmgA4ZV2StqiAsbKSJw+rqJ3/6SrD3DAb9a4+e3JvTpSh0JIeFNkJPMzCcrhsIQ5ugldtthIdWobAsngCAhufY0qFSJdlEfwvhmUvgpNTvJML9VZ5T0jhmr1Z/DqE3tRAevltyuK0s16b9OAMgyN5EcrAyNYPZ5feXRDbXP/3Sn+LZXAoWDnlrWgG6XWSg0J50cP36i8JAt9+9/FZBA+2iJBQNdy8AQbq99uQzny9jYMZYi3NuMMY6ADqccztWb0rkBr1bUtlCeBXU4Zx3qb9CZUELxlgTQahTEF7biI3a4pzPM8ZaCMJbh3PuUj+RWIjxwTnXYvPQEYRAl94a59yQ2luiTPwszrlJ5Q7JYVNfXZrj1lgjZXdrX33aG/T7qTcQI0Klt1BcpJ4ENDnnYtIqfYuyrPCW1F8H0GSMqQBA7w7R6ABczvk89W3TtxjXRjRN12jxCDnkNmEgneplPknzBPGWZXWpbxdAi3NuyPMWRIWN5J19Y2HjL+8cKUo/AmxgS5kjg1a9LVXpCK97ANqQOecuPUm3EQIm9RcemXfO0YXHcs5tEQ2SQN5sY/h8J8ZNqgdQMNwNnBtWCel2FtoIb4pTwRgT7Qa9mynKFCHKAKBkKU8G59wmfgAdTulbo7FtOZQljBuXU4ZG/HTGWJMWi8IY0xAurESketJg7aPgXDAY9K9rT306ja4MkBKbkoLSYNIjlCP2GrEfiXS+CUAtwC8JNnm1hjCtt+k7ywuT5DSlupbES3wroFQ/ayGletK/v/+Duc21j97yfv16485VezaNrkR0MHwGiUBsuADAGAPCBMJAMFkN0fORRrSKSAYKwCRech9bHltC4iKIyalJ3q5RtUhabM55mzHWZoxpKWOgiox/3Nx8+dUv79BARRUjJlb0+kXu5wJwafU3OedtznkbYbZkAOgwxhR6MsegLHEexX7GtyhjA2NMzdhXdQCGJJsdozWQcY00geCPFi8gY+PaJmwA38tpl99AeEEapwGCiZn0bSAaetqIKZb2F3DOLcaYnEaL2B9fQPJY8esiTYwtZ12c8w5jbJ7abJJD5iP4qojeOnQRpt5CVlvy+AiPiu8nXjiMjDH9v24XKOnfQrsYL3aNdB8gMbvbDV3/X9j1pPsAu0a6D1DGP1iT0sNKQr0cQ30M/9IZr0uiyWtLS1Xz5JH7Zskg88ijK23PKMNIQpgkwUZVelmTS+ORJk/ad5KMRcsjIesodL+GuyTPGLeB7xlK+cN+BtLCQ5ymItGUoey00JYmj2z07Y5dZiSIYNxGSlJOErZz7SErJa6cvHCXto+Ktp0aqlTcrXCXJ3xFeu4G4vKUrtgyMW5PykNasuFL7XJ9HGkhJi+TS+OTRRs3bFG6HeN/qTrX7v4K8gAAAAAASUVORK5CYII="),ctx.drawImage($.vobcoCharts.trImg,f.margins.left+10.5,f.margins.up+30.5),r.si=siTemp,r.ei=eiTemp,r.tooltip(),u=0;u<r.trendLines.length;u++)if(s=r.trendLines[u],s.end!==undefined){var v=(s.start.x-r.si)*r.utility.razmakX,k=r.mreze[0].visina-(s.start.y-r.mreze[0].min)*r.mreze[0].omjer,tt=(s.end.x-r.si)*r.utility.razmakX,it=r.mreze[0].visina-(s.end.y-r.mreze[0].min)*r.mreze[0].omjer,l=tt,rt=it;l>f.margins.left+f.width&&(l=f.margins.left+f.width,rt=k+(it-k)*((l-v)/(tt-v)));l<=f.margins.left+f.width&&v<=f.margins.left+f.width&&linija(v,k,l,rt,s.boja,1)}};$.vobcoCharts.nacrtajSve=$.vobcoCharts.drawChart;$.vobcoCharts.initChart=function(){if($.vobcoCharts.data.c.length>0){$.vobcoCharts.inicijalizirajOsnovneIndikatore();$.vobcoCharts.inicijalizirajIndikatore instanceof Function&&$.vobcoCharts.inicijalizirajIndikatore();var n=$(roditelj);$.vobcoCharts.data.date.length>0&&($.vobcoCharts.toolbar(n),$.vobcoCharts.canvas=document.createElement("canvas"),$.vobcoCharts.canvas.setAttribute("id",$.vobcoCharts.settings.htmlPrefix+"graf"),n.append($.vobcoCharts.canvas),$.vobcoCharts.settings.autoWidth&&($.vobcoCharts.settings.width=n.width()-$.vobcoCharts.settings.margins.left-$.vobcoCharts.settings.margins.right-20),$.vobcoCharts.settings.autoHeight&&($.vobcoCharts.settings.height=n.height()-$.vobcoCharts.settings.heightOffset),($.vobcoCharts.settings.autoWidth||$.vobcoCharts.settings.autoHeight)&&$(window).resize(function(){$.vobcoCharts.settings.autoWidth&&($.vobcoCharts.settings.width=n.width()-$.vobcoCharts.settings.margins.left-$.vobcoCharts.settings.margins.right-20);$.vobcoCharts.settings.autoHeight&&($.vobcoCharts.settings.height=n.height()-$.vobcoCharts.settings.heightOffset);$.vobcoCharts.drawChart(undefined,undefined,!0)}),$.vobcoCharts.canvas.width=$.vobcoCharts.settings.width,$.vobcoCharts.canvas.height=400,ctx=$.vobcoCharts.canvas.getContext("2d"),$.vobcoCharts.inicijalizirajMisa());$.vobcoCharts.nacrtajPrviPut()}else $(this).html($.vobcoCharts.jezik.dataNePostoje)};$.vobcoCharts.changeLanguage=function(n){$.vobcoCharts.settings.language=n;$.vobcoCharts.jezik=$.vobcoCharts.language[n];$.vobcoCharts.indikatori=[];$.vobcoCharts.inicijalizirajOsnovneIndikatore();$.vobcoCharts.nacrtajPrviPut();$.vobcoCharts.nacrtajSve()};$.vobcoCharts.postaviMisa=function(){var i,t,n;if($.vobcoCharts.drawTrendLine||$.vobcoCharts.trendLine2Point){$.vobcoCharts.canvas.style.cursor="crosshair";return}if($.vobcoCharts.mousePos.y>=$.vobcoCharts.settings.margins.up+30.5&&$.vobcoCharts.mousePos.y<=$.vobcoCharts.settings.margins.up+67.5&&$.vobcoCharts.mousePos.x>=$.vobcoCharts.settings.margins.left+10.5&&$.vobcoCharts.mousePos.x<=$.vobcoCharts.settings.margins.left+115.5){$.vobcoCharts.canvas.style.cursor="pointer";return}for($.vobcoCharts.canvas.style.cursor="default",$.vobcoCharts.mousePos.y>=$.vobcoCharts.visineGrafova+$.vobcoCharts.settings.margins.beforeNavigatorPanel+$.vobcoCharts.settings.margins.up-18&&$.vobcoCharts.mousePos.y<=$.vobcoCharts.visineGrafova+$.vobcoCharts.settings.margins.beforeNavigatorPanel+$.vobcoCharts.settings.margins.up-4&&$.vobcoCharts.mousePos.x>=$.vobcoCharts.settings.width-142&&($.vobcoCharts.mousePos.x>=$.vobcoCharts.settings.width-142&&$.vobcoCharts.mousePos.x<=$.vobcoCharts.settings.width-125&&($.vobcoCharts.canvas.style.cursor="pointer"),$.vobcoCharts.mousePos.x>=$.vobcoCharts.settings.width-117&&$.vobcoCharts.mousePos.x<=$.vobcoCharts.settings.width-100&&($.vobcoCharts.canvas.style.cursor="pointer"),$.vobcoCharts.mousePos.x>=$.vobcoCharts.settings.width-92&&$.vobcoCharts.mousePos.x<=$.vobcoCharts.settings.width-75&&($.vobcoCharts.canvas.style.cursor="pointer"),$.vobcoCharts.mousePos.x>=$.vobcoCharts.settings.width-67&&$.vobcoCharts.mousePos.x<=$.vobcoCharts.settings.width-50&&($.vobcoCharts.canvas.style.cursor="pointer"),$.vobcoCharts.mousePos.x>=$.vobcoCharts.settings.width-42&&$.vobcoCharts.mousePos.x<=$.vobcoCharts.settings.width-25&&($.vobcoCharts.canvas.style.cursor="pointer"),$.vobcoCharts.mousePos.x>=$.vobcoCharts.settings.width-17&&$.vobcoCharts.mousePos.x<=$.vobcoCharts.settings.width&&($.vobcoCharts.canvas.style.cursor="pointer")),i=$.vobcoCharts.settings.margins.up+4,n=0;n<$.vobcoCharts.mreze.length;n++){if($.vobcoCharts.mousePos.y>=i&&$.vobcoCharts.mousePos.y<=i+15){for(t=0;t<$.vobcoCharts.mreze[n].indikatori.length;t++)if($.vobcoCharts.mreze[n].indikatori[t].tipka!==undefined&&$.vobcoCharts.mousePos.x>=$.vobcoCharts.mreze[n].indikatori[t].tipka.start&&$.vobcoCharts.mousePos.x<=$.vobcoCharts.mreze[n].indikatori[t].tipka.end&&($.vobcoCharts.mreze[n].indikatori[t].dozvoliNoviIndikator?$.vobcoCharts.canvas.style.cursor="pointer":$.vobcoCharts.mousePos.x<=$.vobcoCharts.mreze[n].indikatori[t].tipka.end-15&&($.vobcoCharts.canvas.style.cursor="pointer"),$.vobcoCharts.mousePos.x<=$.vobcoCharts.mreze[n].indikatori[t].tipka.end-15)){bojaLinije=$.vobcoCharts.mreze[n].indikatori[t].boje.length>0?$.vobcoCharts.mreze[n].indikatori[t].indikator==="OHLC"||$.vobcoCharts.mreze[n].indikatori[t].indikator==="volume"?$.vobcoCharts.settings.styles.chartsDefaults.lineColor:$.vobcoCharts.mreze[n].indikatori[t].boje[0]:$.vobcoCharts.$.vobcoCharts.settings.styles.textColor;linija($.vobcoCharts.mreze[n].indikatori[t].tipka.start,i+15,$.vobcoCharts.mreze[n].indikatori[t].tipka.end-15,i+15,bojaLinije,1);return}return}i+=$.vobcoCharts.mreze[n].visina}if($.vobcoCharts.mousePos.y>$.vobcoCharts.ukupnaVisina-$.vobcoCharts.settings.margins.down-$.vobcoCharts.settings.navigatorPanelHeight&&$.vobcoCharts.mousePos.y<$.vobcoCharts.ukupnaVisina-$.vobcoCharts.settings.margins.down&&($.vobcoCharts.mousePos.x>$.vobcoCharts.selStart&&$.vobcoCharts.mousePos.x<$.vobcoCharts.selEnd&&($.vobcoCharts.canvas.style.cursor="move"),$.vobcoCharts.mousePos.x>=Math.ceil($.vobcoCharts.selStart-1)&&$.vobcoCharts.mousePos.x<=Math.ceil($.vobcoCharts.selStart+1)&&($.vobcoCharts.canvas.style.cursor="e-resize"),$.vobcoCharts.mousePos.x>=Math.ceil($.vobcoCharts.selEnd-1)&&$.vobcoCharts.mousePos.x<=Math.ceil($.vobcoCharts.selEnd+1)&&($.vobcoCharts.canvas.style.cursor="e-resize")),$.vobcoCharts.mousePos.y>$.vobcoCharts.settings.margins.up&&$.vobcoCharts.mousePos.y<$.vobcoCharts.settings.margins.up+$.vobcoCharts.visineGrafova&&$.vobcoCharts.mousePos.x>$.vobcoCharts.settings.margins.left&&$.vobcoCharts.mousePos.x<$.vobcoCharts.utility.ukupnaSirina-$.vobcoCharts.settings.margins.right)for($.vobcoCharts.canvas.style.cursor="move",i=$.vobcoCharts.settings.margins.up,n=0;n<$.vobcoCharts.mreze.length;n++)i+=$.vobcoCharts.mreze[n].visina,$.vobcoCharts.mousePos.y>=i-3&&$.vobcoCharts.mousePos.y<=i+3&&($.vobcoCharts.canvas.style.cursor="s-resize")};$.vobcoCharts.getMousePos=function(n){for(var t=$.vobcoCharts.canvas,i=0,r=0,u,f;t.tagName!=="BODY";)i+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return u=n.clientX-r+window.pageXOffset,f=n.clientY-i+window.pageYOffset,{x:u,y:f}};$.vobcoCharts.getTouchPos=function(n){for(var t=$.vobcoCharts.canvas,i=0,r=0;t.tagName!=="BODY";)i+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return{x:n.pageX-r,y:n.pageY-i}};$.vobcoCharts.mouseMove=function(n){if(n.preventDefault(),$.vobcoCharts.mousePos=$.vobcoCharts.getMousePos(n),sk={s:0,k:0},sk=$.vobcoCharts.isMouseDown&&$.vobcoCharts.mousePos.y>$.vobcoCharts.settings.margins.up&&$.vobcoCharts.mousePos.y<$.vobcoCharts.settings.margins.up+$.vobcoCharts.visineGrafova&&$.vobcoCharts.mousePos.x>$.vobcoCharts.settings.margins.left&&$.vobcoCharts.mousePos.x<$.vobcoCharts.utility.ukupnaSirina-$.vobcoCharts.settings.margins.right?$.vobcoCharts.pomakniGraf():$.vobcoCharts.resizeIZoomKodPunogRaspona($.vobcoCharts.selStart-$.vobcoCharts.settings.margins.left,$.vobcoCharts.selEnd-$.vobcoCharts.settings.margins.left),$.vobcoCharts.isMouseDown&&$.vobcoCharts.resizingIndex!==-1&&$.vobcoCharts.prethodnaVisina+($.vobcoCharts.mousePos.y-$.vobcoCharts.mouseStart.y)>30&&($.vobcoCharts.mreze[$.vobcoCharts.resizingIndex].visina=$.vobcoCharts.prethodnaVisina+($.vobcoCharts.mousePos.y-$.vobcoCharts.mouseStart.y)),$.vobcoCharts.drawChart(Math.ceil(sk.s/$.vobcoCharts.utility.razmakPuniRasponX),Math.ceil(sk.k/$.vobcoCharts.utility.razmakPuniRasponX)),$.vobcoCharts.trendLine2Point){var t=$.vobcoCharts.trendLines[$.vobcoCharts.trendLines.length-1];linija((t.start.x-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,$.vobcoCharts.mreze[0].visina-(t.start.y-$.vobcoCharts.mreze[0].min)*$.vobcoCharts.mreze[0].omjer,$.vobcoCharts.mousePos.x,$.vobcoCharts.mousePos.y,t.boja,1)}$.vobcoCharts.postaviMisa()};$.vobcoCharts.mouseDown=function(n){if(n.preventDefault(),$.vobcoCharts.isMouseDown=!0,$.vobcoCharts.mouseStart=$.vobcoCharts.getMousePos(n),$.vobcoCharts.resizingIndex=-1,$.vobcoCharts.mouseStart.y>$.vobcoCharts.settings.margins.up&&$.vobcoCharts.mouseStart.y<$.vobcoCharts.settings.margins.up+$.vobcoCharts.visineGrafova&&$.vobcoCharts.mouseStart.x>$.vobcoCharts.settings.margins.left&&$.vobcoCharts.mouseStart.x<$.vobcoCharts.utility.ukupnaSirina-$.vobcoCharts.settings.margins.right){tY=$.vobcoCharts.settings.margins.up;for(var t=0;t<$.vobcoCharts.mreze.length;t++)tY+=$.vobcoCharts.mreze[t].visina,$.vobcoCharts.mouseStart.y>=tY-3&&$.vobcoCharts.mouseStart.y<=tY+3&&($.vobcoCharts.resizingIndex=t,$.vobcoCharts.prethodnaVisina=$.vobcoCharts.mreze[t].visina)}$.vobcoCharts.mousePos===undefined||$.vobcoCharts.mousePos.y<$.vobcoCharts.ukupnaVisina-$.vobcoCharts.settings.margins.down-$.vobcoCharts.settings.navigatorPanelHeight||$.vobcoCharts.mousePos.y>$.vobcoCharts.ukupnaVisina-$.vobcoCharts.settings.margins.down||($.vobcoCharts.mouseStart.x>=$.vobcoCharts.selStart&&$.vobcoCharts.mouseStart.x<=$.vobcoCharts.selEnd&&($.vobcoCharts.isMouseOnSel=!0),$.vobcoCharts.mousePos.x>=Math.ceil($.vobcoCharts.selStart-1)&&$.vobcoCharts.mousePos.x<=Math.ceil($.vobcoCharts.selStart+1)&&($.vobcoCharts.isResizingStart=!0),$.vobcoCharts.mousePos.x>=Math.ceil($.vobcoCharts.selEnd-1)&&$.vobcoCharts.mousePos.x<=Math.ceil($.vobcoCharts.selEnd+1)&&($.vobcoCharts.isResizingEnd=!0))};$.vobcoCharts.mouseUp=function(){$.vobcoCharts.isMouseDown=!1;$.vobcoCharts.resizingIndex!==-1&&$.vobcoCharts.spremiUCookie();$.vobcoCharts.isResizingEnd||$.vobcoCharts.isResizingStart?($.vobcoCharts.isResizingStart=!1,$.vobcoCharts.isResizingEnd=!1):$.vobcoCharts.isMouseOnSel&&$.vobcoCharts.selTempEnd!==undefined&&($.vobcoCharts.selEnd=$.vobcoCharts.selTempEnd,$.vobcoCharts.selStart=$.vobcoCharts.selTempStart);$.vobcoCharts.isMouseOnSel=!1;$.vobcoCharts.resizingIndex=-1};$.vobcoCharts.mouseClick=function(n){var t=$.vobcoCharts.getMousePos(n),f,i,e,r,u;if($.vobcoCharts.mousePos.y>=$.vobcoCharts.settings.margins.up+30.5&&$.vobcoCharts.mousePos.y<=$.vobcoCharts.settings.margins.up+67.5&&$.vobcoCharts.mousePos.x>=$.vobcoCharts.settings.margins.left+10.5&&$.vobcoCharts.mousePos.x<=$.vobcoCharts.settings.margins.left+115.5){document.location.href="http://www.vobcocharts.com/";return}if($.vobcoCharts.trendLine2Point){if(t.y>=$.vobcoCharts.mreze[0].visina+$.vobcoCharts.settings.margins.up){alert($.vobcoCharts.jezik.indikatori.TrendLineCant);$.vobcoCharts.drawTrendLine=!1;$.vobcoCharts.trendLine2Point=!1;return}$.vobcoCharts.trendLine2Point=!1;$.vobcoCharts.trendLines[$.vobcoCharts.trendLines.length-1].end={x:t.x/$.vobcoCharts.utility.razmakX+$.vobcoCharts.si,y:($.vobcoCharts.mreze[0].visina-t.y)/$.vobcoCharts.mreze[0].omjer+$.vobcoCharts.mreze[0].min};f=$.vobcoCharts.trendLines[$.vobcoCharts.trendLines.length-1];linija((f.start.x-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,$.vobcoCharts.mreze[0].visina-(f.start.y-$.vobcoCharts.mreze[0].min)*$.vobcoCharts.mreze[0].omjer,(f.end.x-$.vobcoCharts.si)*$.vobcoCharts.utility.razmakX,$.vobcoCharts.mreze[0].visina-(f.end.y-$.vobcoCharts.mreze[0].min)*$.vobcoCharts.mreze[0].omjer,f.boja,1);$.vobcoCharts.bezTooltipa=!1;return}if($.vobcoCharts.drawTrendLine){if(t.y>=$.vobcoCharts.mreze[0].visina+$.vobcoCharts.settings.margins.up){alert($.vobcoCharts.jezik.indikatori.TrendLineCant);$.vobcoCharts.drawTrendLine=!1;$.vobcoCharts.trendLine2Point=!1;return}$.vobcoCharts.drawTrendLine=!1;$.vobcoCharts.trendLine2Point=!0;$.vobcoCharts.trendLines[$.vobcoCharts.trendLines.length-1].start={x:t.x/$.vobcoCharts.utility.razmakX+$.vobcoCharts.si,y:($.vobcoCharts.mreze[0].visina-t.y)/$.vobcoCharts.mreze[0].omjer+$.vobcoCharts.mreze[0].min};return}if(t.y>=$.vobcoCharts.visineGrafova+$.vobcoCharts.settings.margins.beforeNavigatorPanel+$.vobcoCharts.settings.margins.up-18&&t.y<=$.vobcoCharts.visineGrafova+$.vobcoCharts.settings.margins.beforeNavigatorPanel+$.vobcoCharts.settings.margins.up-4&&t.x>=$.vobcoCharts.settings.width-142){i=new Date($.vobcoCharts.data.date[$.vobcoCharts.data.date.length-1].toString());switch($.vobcoCharts.data.period){case"M":t.x>=$.vobcoCharts.settings.width-142&&t.x<=$.vobcoCharts.settings.width-125&&i.setMinutes(i.getMinutes()-30);t.x>=$.vobcoCharts.settings.width-117&&t.x<=$.vobcoCharts.settings.width-100&&i.setHours(i.getHours()-1);t.x>=$.vobcoCharts.settings.width-92&&t.x<=$.vobcoCharts.settings.width-75&&i.setHours(i.getHours()-2);t.x>=$.vobcoCharts.settings.width-67&&t.x<=$.vobcoCharts.settings.width-50&&i.setHours(i.getHours()-4);t.x>=$.vobcoCharts.settings.width-42&&t.x<=$.vobcoCharts.settings.width-25&&i.setDate(i.getDate()-1);t.x>=$.vobcoCharts.settings.width-17&&t.x<=$.vobcoCharts.settings.width&&i.setDate(i.getDate()-2);break;case"H":t.x>=$.vobcoCharts.settings.width-142&&t.x<=$.vobcoCharts.settings.width-125&&i.setDate(i.getDate()-1);t.x>=$.vobcoCharts.settings.width-117&&t.x<=$.vobcoCharts.settings.width-100&&i.setDate(i.getDate()-2);t.x>=$.vobcoCharts.settings.width-92&&t.x<=$.vobcoCharts.settings.width-75&&i.setDate(i.getDate()-4);t.x>=$.vobcoCharts.settings.width-67&&t.x<=$.vobcoCharts.settings.width-50&&i.setDate(i.getDate()-5);t.x>=$.vobcoCharts.settings.width-42&&t.x<=$.vobcoCharts.settings.width-25&&i.setDate(i.getDate()-10);t.x>=$.vobcoCharts.settings.width-17&&t.x<=$.vobcoCharts.settings.width&&i.setDate(i.getDate()-15);break;default:t.x>=$.vobcoCharts.settings.width-142&&t.x<=$.vobcoCharts.settings.width-125&&i.setMonth(i.getMonth()-1);t.x>=$.vobcoCharts.settings.width-117&&t.x<=$.vobcoCharts.settings.width-100&&i.setMonth(i.getMonth()-3);t.x>=$.vobcoCharts.settings.width-92&&t.x<=$.vobcoCharts.settings.width-75&&i.setMonth(i.getMonth()-6);t.x>=$.vobcoCharts.settings.width-67&&t.x<=$.vobcoCharts.settings.width-50&&i.setFullYear(i.getFullYear()-1);t.x>=$.vobcoCharts.settings.width-42&&t.x<=$.vobcoCharts.settings.width-25&&i.setFullYear(i.getFullYear()-3);t.x>=$.vobcoCharts.settings.width-17&&t.x<=$.vobcoCharts.settings.width&&i.setFullYear(i.getFullYear()-5)}if(i<=(new Date).getTime()-1e3)for(r=$.vobcoCharts.data.d.length-1;r>0;r--)if($.vobcoCharts.data.d[r]<=i){$.vobcoCharts.selStart=undefined;$.vobcoCharts.selEnd=undefined;$.vobcoCharts.drawChart(r,$.vobcoCharts.data.d.length-1);break}}for(e=$.vobcoCharts.settings.margins.up+4,r=0;r<$.vobcoCharts.mreze.length;r++){if(t.y>=e&&t.y<=e+15){if($.vobcoCharts.mreze[r].indikatori[$.vobcoCharts.mreze[r].indikatori.length-1].tipka==undefined)continue;if(t.x<$.vobcoCharts.mreze[r].indikatori[$.vobcoCharts.mreze[r].indikatori.length-1].tipka.end)for(u=0;u<$.vobcoCharts.mreze[r].indikatori.length;u++)$.vobcoCharts.mreze[r].indikatori[u].tipka.end>t.x&&$.vobcoCharts.mreze[r].indikatori[u].tipka.start<t.x&&($.vobcoCharts.mreze[r].indikatori[u].tipka.end-t.x<15?$.vobcoCharts.mreze[r].indikatori[u].dozvoliNoviIndikator&&$.vobcoCharts.indikatorForma(!1,r,u):$.vobcoCharts.indikatorForma(!0,r,u));return}e+=$.vobcoCharts.mreze[r].visina}};$.vobcoCharts.touchMove=function(n){var a,t,i,r,u,f,e,o,s,v,h,c,l;if(n.touches.length==1)n.preventDefault(),a=n.touches[0],$.vobcoCharts.isMouseDown=!0,$.vobcoCharts.mousePos=$.vobcoCharts.getTouchPos(a),sk={s:0,k:0},$.vobcoCharts.isMouseDown&&$.vobcoCharts.mousePos.y>$.vobcoCharts.settings.margins.up&&$.vobcoCharts.mousePos.y<$.vobcoCharts.settings.margins.up+$.vobcoCharts.visineGrafova&&$.vobcoCharts.mousePos.x>$.vobcoCharts.settings.margins.left&&$.vobcoCharts.mousePos.x<$.vobcoCharts.utility.ukupnaSirina-$.vobcoCharts.settings.margins.right?sk=$.vobcoCharts.pomakniGraf():($.vobcoCharts.crtajSamoPuniRaspon=!0,sk=$.vobcoCharts.resizeIZoomKodPunogRaspona($.vobcoCharts.selStart-$.vobcoCharts.settings.margins.left,$.vobcoCharts.selEnd-$.vobcoCharts.settings.margins.left)),$.vobcoCharts.isMouseDown&&$.vobcoCharts.resizingIndex!==-1&&$.vobcoCharts.prethodnaVisina+($.vobcoCharts.mousePos.y-$.vobcoCharts.mouseStart.y)>30&&($.vobcoCharts.mreze[$.vobcoCharts.resizingIndex].visina=$.vobcoCharts.prethodnaVisina+($.vobcoCharts.mousePos.y-$.vobcoCharts.mouseStart.y)),$.vobcoCharts.drawChart(Math.ceil(sk.s/$.vobcoCharts.utility.razmakPuniRasponX),Math.ceil(sk.k/$.vobcoCharts.utility.razmakPuniRasponX));else if(n.touches.length==2){if($.vobcoCharts.pTouch1==undefined){$.vobcoCharts.setTouches(n);return}if($.vobcoCharts.pTouch1.x<$.vobcoCharts.pTouch2.x?(r=$.vobcoCharts.pTouch1,u=$.vobcoCharts.pTouch2):(r=$.vobcoCharts.pTouch2,u=$.vobcoCharts.pTouch1),t=$.vobcoCharts.getTouchPos(n.touches[0]),i=$.vobcoCharts.getTouchPos(n.touches[1]),t.x>i.x&&(t=$.vobcoCharts.getTouchPos(n.touches[1]),i=$.vobcoCharts.getTouchPos(n.touches[0])),v=Math.abs(t.x-r.x+(u.x-i.x)),$.vobcoCharts.pTouch1.y<$.vobcoCharts.pTouch2.y?(o=$.vobcoCharts.pTouch1,s=$.vobcoCharts.pTouch2):(o=$.vobcoCharts.pTouch2,s=$.vobcoCharts.pTouch1),f=$.vobcoCharts.getTouchPos(n.touches[0]),e=$.vobcoCharts.getTouchPos(n.touches[1]),f.y>e.y&&(f=$.vobcoCharts.getTouchPos(n.touches[1]),e=$.vobcoCharts.getTouchPos(n.touches[0])),h=f.y-o.y+(s.y-e.y),v>Math.abs(h)){if(n.preventDefault(),c=$.vobcoCharts.si-(t.x-r.x),l=$.vobcoCharts.ei+(u.x-i.x),c>=l-2)return;$.vobcoCharts.drawChart(c,l,!0)}else $.vobcoCharts.mreze[$.vobcoCharts.resizingIndex].visina-=h,n.preventDefault(),$.vobcoCharts.drawChart(undefined,undefined,!0);$.vobcoCharts.pTouch1=t;$.vobcoCharts.pTouch2=i}};$.vobcoCharts.touchStart=function(n){var f,i,r,e,u,t;if(n.touches.length==1){if(f=n.touches[0],$.vobcoCharts.mouseStart=$.vobcoCharts.getTouchPos(f),$.vobcoCharts.mouseStart===undefined||$.vobcoCharts.mouseStart.y<$.vobcoCharts.ukupnaVisina-$.vobcoCharts.settings.margins.down-$.vobcoCharts.settings.navigatorPanelHeight||$.vobcoCharts.mouseStart.y>$.vobcoCharts.ukupnaVisina-$.vobcoCharts.settings.margins.down)return;$.vobcoCharts.isMouseDown=!0;$.vobcoCharts.mouseStart.x>=$.vobcoCharts.selStart&&$.vobcoCharts.mouseStart.x<=$.vobcoCharts.selEnd&&($.vobcoCharts.isMouseOnSel=!0);$.vobcoCharts.mouseStart.x>=Math.ceil($.vobcoCharts.selStart-1)&&$.vobcoCharts.mouseStart.x<=Math.ceil($.vobcoCharts.selStart+1)&&($.vobcoCharts.isResizingStart=!0);$.vobcoCharts.mouseStart.x>=Math.ceil($.vobcoCharts.selEnd-1)&&$.vobcoCharts.mouseStart.x<=Math.ceil($.vobcoCharts.selEnd+1)&&($.vobcoCharts.isResizingEnd=!0)}else if(n.touches.length==2)for($.vobcoCharts.setTouches(n),$.vobcoCharts.pTouch1.y<=$.vobcoCharts.pTouch2.y?(i=$.vobcoCharts.pTouch1.y,r=$.vobcoCharts.pTouch2.y):(i=$.vobcoCharts.pTouch2.y,r=$.vobcoCharts.pTouch1.y),e=i+(r-i),u=$.vobcoCharts.settings.margins.up,t=0;t<$.vobcoCharts.mreze.length;t++)if(u+=$.vobcoCharts.mreze[t].visina,e<=u){$.vobcoCharts.resizingIndex=t;break}n.preventDefault()};$.vobcoCharts.setTouches=function(n){$.vobcoCharts.pTouch1=$.vobcoCharts.getTouchPos(n.touches[0]);$.vobcoCharts.pTouch2=$.vobcoCharts.getTouchPos(n.touches[1])};$.vobcoCharts.touchEnd=function(n){if($.vobcoCharts.crtajSamoPuniRaspon&&($.vobcoCharts.crtajSamoPuniRaspon=!1,$.vobcoCharts.drawChart()),$.vobcoCharts.isMouseDown){n.preventDefault();var t=n.changedTouches[0];$.vobcoCharts.isMouseDown=!1;$.vobcoCharts.resizingIndex!==-1&&$.vobcoCharts.spremiUCookie();$.vobcoCharts.isResizingEnd||$.vobcoCharts.isResizingStart?($.vobcoCharts.isResizingStart=!1,$.vobcoCharts.isResizingEnd=!1):$.vobcoCharts.isMouseOnSel&&$.vobcoCharts.selTempEnd!==undefined&&($.vobcoCharts.selEnd=$.vobcoCharts.selTempEnd,$.vobcoCharts.selStart=$.vobcoCharts.selTempStart);$.vobcoCharts.isMouseOnSel=!1;$.vobcoCharts.resizingIndex=-1}};$.vobcoCharts.wheel=function(n){var t,i;(n.preventDefault(),t=0,t="wheelDelta"in n?n.wheelDelta/120:n.detail/-3,i=($.vobcoCharts.ei-$.vobcoCharts.si)/20,i<1&&(i=1),t=Math.round(t*i),t!=0)&&($.vobcoCharts.si+t>=$.vobcoCharts.ei-4&&(t=$.vobcoCharts.ei-4-$.vobcoCharts.si),$.vobcoCharts.drawChart($.vobcoCharts.si+t,undefined,!0))};$.vobcoCharts.inicijalizirajMisa=function(){var n=$.vobcoCharts.canvas;n.addEventListener("mousemove",function(n){$.vobcoCharts.mouseMove(n)},!1);n.addEventListener("mousedown",function(n){$.vobcoCharts.mouseDown(n)},!1);n.addEventListener("mouseup",function(n){$.vobcoCharts.mouseUp(n)},!1);n.addEventListener("click",function(n){$.vobcoCharts.mouseClick(n)},!1);document.body.addEventListener("mouseup",function(n){$.vobcoCharts.mouseUp(n)},!1);document.body.addEventListener("mouseout",function(n){$.vobcoCharts.mouseUp(n)},!1);n.addEventListener("mousewheel",function(n){return $.vobcoCharts.wheel(n),!1},!1);n.addEventListener("DOMMouseScroll",function(n){return $.vobcoCharts.wheel(n),!1},!1);n.addEventListener("touchstart",function(n){$.vobcoCharts.touchStart(n)},!1);n.addEventListener("touchend",function(n){$.vobcoCharts.touchEnd(n)},!1);n.addEventListener("touchmove",function(n){$.vobcoCharts.touchMove(n)},!1)};$.vobcoCharts.indikatorForma=function(n,t,i){function l(n,t){return'<dt><label for="'+u+n+'">'+t+":<\/label><\/dt>"}function v(){$("#"+u+"blokDiv").remove();$("#"+u+"indicator").remove()}function k(n,t){for(e=0;e<t.length;e++)s.append(l("par"+e,o[n].imeParametara[e])+'<dd><input type="text" id="par'+e+'" name="parametar" value="'+t[e]+'" /><\/dd>')}function d(f){if(o[f].funkcijeCrtanja.length>1){for(s.append(l("funkcijaCrtanja",c.funkcijaCrtanja)+'<dd><select name="funkcijaCrtanja" id="'+u+'funkcijaCrtanja"><\/select><\/dd>'),e=0;e<o[f].funkcijeCrtanja.length;e++)$("#"+u+"funkcijaCrtanja").append('<option value="'+o[f].funkcijeCrtanja[e]+'">'+o[f].naziviFunkcijaCrtanja[e]+"<\/option>");n&&$("#"+u+"funkcijaCrtanja").val(r[t].indikatori[i].funkcijaCrtanja)}}var y,p,s,a,e,w,h,b;if((n||$.vobcoCharts.settings.allowTechnicalIndicators)&&(n!==undefined||t!==undefined)){n===undefined&&(n=!1);t===undefined&&(t=-1);i===undefined&&(i=-1);var f=$.vobcoCharts,u=f.settings.htmlPrefix,o=f.indikatori,c=f.jezik.indikatori,r=f.mreze;if($("body").append('<div id="'+u+'blokDiv"><\/div>'),$("#"+u+"blokDiv").bind("click",v),y=document.createElement("div"),y.id=u+"indicator",p='<span class="'+u+'indicatorTitle">'+c.indikator+'<\/span><form name="'+u+'form" action="#"><dl id="'+u+'formdl">',p+=l("selIndicator",c.indikator)+'<dd><select type="text" id="'+u+'selIndicator"><option value="-1">'+c.odaberiteIndikator+"<\/option><\/select><\/dd><\/dl><\/form>",p+='<input type="button" id="'+u+'btnDraw" name="btnDraw" value="'+f.jezik.nacrtaj+'" /> <input id="'+u+'btnCancel" type="button" name="btnCancel" value="'+f.jezik.odustani+'" />',y.innerHTML=p,document.body.appendChild(y),s=$("#"+u+"formdl"),a=$("#"+u+"selIndicator"),n){if(a.append('<option selected="selected" value="1">'+r[t].indikatori[i].nazivIndikatora+"<\/option>"),a.attr("disabled","disabled"),h=f.pronadiIndikator(r[t].indikatori[i].indikator),s.find("dt:not(:first)").remove(),s.find("dd:not(:first)").remove(),k(h,r[t].indikatori[i].parametri),d(h),h===0)$("#"+u+"funkcijaCrtanja").bind("change",function(){var f,n;if($("."+u+"color1").parent("dd").prev("dt").remove(),$("."+u+"color1").parent("dd").remove(),f=$("#"+u+"funkcijaCrtanja").val(),f!=="OHLC"&&f!=="CandleStick")s.append(l("colorF",c.boja)+'<dd><input id="'+u+'colorF" class="'+u+'color1" type="text" name="boja" value="'+r[t].indikatori[i].boje[0]+'" /><\/dd>');else for(b=r[t].indikatori[i].boje.length===3&&r[t].indikatori[i].boje[2]!=="undefined"?r[t].indikatori[i].boje:o[0].boje,n=0;n<o[h].boje.length;n++)s.append(l("color"+n,o[h].imeBoja[n])+'<dd><input id="color'+n+'" class="'+u+'color1" type="text" name="boja" value="'+b[n]+'" /><\/dd>');$("."+u+"color1").colorPicker()}),$("#"+u+"funkcijaCrtanja").change();else for(e=0;e<o[h].boje.length;e++)s.append(l("colorb"+e,o[h].imeBoja[e])+'<dd><input id="colorb'+e+'" class="'+u+'color" type="text" name="boja" value="'+r[t].indikatori[i].boje[e]+'" /><\/dd>');$("."+u+"color").colorPicker();o[h].indikator==="Usporedba"&&($("input[name=parametar]").css("text-transform","uppercase"),$("input[name=parametar]").each(function(){$(this).val($(this).val().toUpperCase());$(this).autocomplete(f.settings.autocomplete)}));r[t].indikatori[i].indikator==="OHLC"||r[t].indikatori[i].indikator==="volume"?$("#"+u+"btnCancel").bind("click",v):($("#"+u+"btnCancel").val(f.jezik.izbrisi),$("#"+u+"btnCancel").bind("click",function(){var e,n,u;for(r[t].indikatori[i].brisi=!0,e=[],e.push({indikator:i,mreza:t});e.length>0;)for(roditelj=e[0],e.splice(0,1),r[roditelj.mreza].indikatori[roditelj.indikator].brisi=!0,n=0;n<r.length;n++)for(u=0;u<r[n].indikatori.length;u++)r[n].indikatori[u].indexRoditelja!==undefined&&r[n].indikatori[u].brisi===undefined&&r[n].indikatori[u].indexRoditelja.indikator===roditelj.indikator&&r[n].indikatori[u].indexRoditelja.mreza===roditelj.mreza&&(e.push({mreza:n,indikator:u}),r[n].indikatori[u].brisi=!0);for(n=0;n<r.length;n++)for(u=r[n].indikatori.length-1;u>=0;u--)r[n].indikatori[u].brisi&&r[n].indikatori.splice(u,1);for(n=0;n<r.length;n++)if(r[n].indikatori.length===0)for(r.splice(n,1),u=n;u<r.length;u++)for(ij=0;ij<r[u].indikatori.length;ij++)r[u].indikatori[ij].indexRoditelja!=undefined&&r[u].indikatori[ij].indexRoditelja.mreza!==undefined&&r[u].indikatori[ij].indexRoditelja.mreza>=n&&r[u].indikatori[ij].indexRoditelja.mreza--;v();f.spremiUCookie();f.selectBoxIzmjena()}))}else{if((t===-1||t===0)&&f.settings.dataType==="OHLC")for(e=2;e<o.length;e++)a.append('<option value="'+e+'">'+o[e].nazivIndikatora+"<\/option>");else for(e=2;e<o.length;e++)o[e].ulazniPodaci===1&&a.append('<option value="'+e+'">'+o[e].nazivIndikatora+"<\/option>");a.bind("change",function(){var n,r;if(s.find("dt:not(:first)").remove(),s.find("dd:not(:first)").remove(),n=parseInt(a.val(),10),!isNaN(n)&&n!==-1){for(t===-1&&i===-1&&o[n].ulazniPodaci===1&&f.settings.dataType==="OHLC"&&o[n].indikator!=="Usporedba"&&s.append(l("izvor",c.primijeniNa)+'<dd><select id="'+u+'izvor" name="izvor"><option value="OHLC">'+c.OHLC+'<\/option><option value="volume">'+c.Kolicina+"<\/option><\/select><\/dd>"),k(n,o[n].parametri),r=0;r<o[n].boje.length;r++)s.append(l("boja"+r,o[n].imeBoja[r])+'<dd><input id="boja'+r+'" class="'+u+'color" type="text" name="boja" value="'+o[n].boje[r]+'" /><\/dd>');d(n);$("."+u+"color").colorPicker();o[n].indikator==="Usporedba"&&($("input[name=parametar]").css("text-transform","uppercase"),$("input[name=parametar]").val($("input[name=parametar]").val().toUpperCase()),$("input[name=parametar]").each(function(){$(this).autocomplete(f.settings.autocomplete)}))}});$("#"+u+"btnCancel").bind("click",v)}$("#"+u+"btnDraw").bind("click",function(){$.vobcoCharts.showLoading();$("#"+u+"btnDraw").val($.vobcoCharts.jezik.pricekajte);setTimeout(function(){var p=u,g=[],k,tt=[],c,d=document.forms[p+"form"].elements.parametar,b,nt,it,l,s,y,e,h;if(d!==undefined)if(d.length===undefined)g.push(d.value);else for(c=0,w=d.length;c<w;c++)g.push(d[c].value);if(b=document.forms[p+"form"].elements.boja,b!==undefined)if(b.length===undefined)tt.push(b.value);else for(c=0,w=b.length;c<w;c++)tt.push(b[c].value);if(k=n?f.pronadiIndikator(r[t].indikatori[i].indikator):parseInt(a.val(),10),t===-1&&(i=0,nt=document.forms[p+"form"].elements.izvor,t=nt!==undefined?nt!==undefined&&nt.value==="volume"?1:0:0),it=t,n?l=r[t]:o[k].novaMreza&&(it=r.length,l={},l.indikatori=[],l.visina=typeof o[k].visina!="undefined"?o[k].visina:100,l.min=undefined,l.max=undefined,l.omjer=undefined,r.push(l)),s=o[k],s===undefined){v();return}n?(h=r[t].indikatori[i].indexRoditelja,s.ulazniPodaci===1&&s.indikator!=="Usporedba"?y=t<=0&&i<=0||h===undefined||h.mreza===undefined?[f.data.c]:r[h.mreza].indikatori[h.indikator].data:s.ulazniPodaci===3?y=t<=0&&i<=0?[f.data.h,f.data.l,f.data.c]:r[h.mreza].indikatori[h.indikator].data:s.ulazniPodaci===4&&(y=t<=0&&i<=0?[f.data.o,f.data.h,f.data.l,f.data.c]:r[h.mreza].indikatori[h.indikator].data),e=r[t].indikatori[i]):(s.ulazniPodaci===1?y=t<=0&&i<=0?[f.data.c]:r[t].indikatori[i].data:s.ulazniPodaci===3?y=t<=0&&i<=0?[f.data.h,f.data.l,f.data.c]:r[t].indikatori[i].data:s.ulazniPodaci===4&&(y=t<=0&&i<=0?[f.data.o,f.data.h,f.data.l,f.data.c]:r[t].indikatori[i].data),e={},e.indikator=s.indikator,e.nazivIndikatora=s.nazivIndikatora,e.indikator!=="OHLC"&&e.indikator!=="volume"&&e.indikator!=="Usporedba"&&(e.indexRoditelja={mreza:t,indikator:i}));e.funkcijaCrtanja=document.forms[p+"form"].elements.funkcijaCrtanja!==undefined?document.forms[p+"form"].elements.funkcijaCrtanja.value:s.funkcijeCrtanja[0];e.data=s.izracunaj(g,y);e.izlazniPodaci=s.izlazniPodaci;e.parametri=g;e.boje=tt;e.tipka={};e.dozvoliNoviIndikator=s.dozvoliNoviIndikator;n?$.vobcoCharts.ponovoIzracunajDjecu(t,i):r[it].indikatori.push(e);v();f.spremiUCookie();f.selectBoxIzmjena();f.utility.izracunajRaspon=!0;f.drawChart();$("#"+p+"loading").remove()},20)})}};$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"SMA",nazivIndikatora:$.vobcoCharts.jezik.indikatori.SMA,parametri:["50"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.SMA.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.SMA],ulazniPodaci:1,novaMreza:!1,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){return[izracunajSMA(t[0],parseInt(n[0],10))]}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"EMA",nazivIndikatora:$.vobcoCharts.jezik.indikatori.EMA,parametri:["50"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.EMA.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.EMA],ulazniPodaci:1,novaMreza:!1,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){return[izracunajEMA(t[0],parseInt(n[0],10))]}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"WilliamsR",nazivIndikatora:$.vobcoCharts.jezik.indikatori.WilliamsR,parametri:["14"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.williamsR.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.WilliamsR],ulazniPodaci:3,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,minimum:-100,maximum:0,izracunaj:function(n,t){var u,o,f,i,h,e,s;if(brojDana=parseInt(n[0],10),t.length===3&&(u=t[0],o=t[1],f=t[2]),t.length===4&&(u=t[1],o=t[2],f=t[3]),u!==undefined){for(r=[],i=0,h=f.length;i<h;i++)e=$.vobcoCharts.najvisa(u,i-brojDana+1,i),s=$.vobcoCharts.najniza(o,i-brojDana+1,i),e!==s?r.push(-100*((e-f[i])/(e-s))):r.push(-50);return[r]}}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"RSI",nazivIndikatora:$.vobcoCharts.jezik.indikatori.RSI,parametri:["21"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.RSI.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.RSI],ulazniPodaci:1,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var r,i,u;for(brojDana=parseInt(n[0],10),r=[],i=0;i<brojDana;i++)r.push(undefined);for(i=brojDana,len=t[0].length;i<len;i++){for(dobit=0,gubitak=0,u=0;u<brojDana;u++)promjena=t[0][i-u]-t[0][i-u-1],promjena>0?dobit+=promjena:gubitak+=Math.abs(promjena);RS=dobit/brojDana/(gubitak/brojDana);gubitak==0?r.push(100):r.push(100-100/(1+RS))}return[r]}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"BollingerBands",nazivIndikatora:$.vobcoCharts.jezik.indikatori.BollingerBands,parametri:["20","2"],imeParametara:[$.vobcoCharts.jezik.indikatori.period,$.vobcoCharts.jezik.indikatori.devijacije],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.bollingerBands.seriesColors,funkcijeCrtanja:["BollingerBands"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.BollingerBands],izlazniPodaci:[undefined,$.vobcoCharts.jezik.indikatori.BollingerUP,$.vobcoCharts.jezik.indikatori.BollingerDown],ulazniPodaci:1,novaMreza:!1,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var i,u,f;for(brojDana=parseInt(n[0],10),devijacijeX=parseFloat(n[1]),r=[3],r[0]=[],r[1]=[],r[2]=[],i=0,u=t[0].length;i<u;i++)r[0].push($.vobcoCharts.sumaPolja(t[0],i-brojDana+1,i)/brojDana);for(devijacija=[],i=0,u=t[0].length;i<u;i++){for(varijanca=0,f=0;f<brojDana;f++)varijanca+=Math.pow(t[0][i-f]-r[0][i],2);devijacija.push(Math.sqrt(varijanca/brojDana)*devijacijeX)}for(i=0,u=t[0].length;i<u;i++)r[1].push(r[0][i]+devijacija[i]),r[2].push(r[0][i]-devijacija[i]);return r}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"ADX",nazivIndikatora:$.vobcoCharts.jezik.indikatori.ADX,parametri:["12"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:["DI+ "+$.vobcoCharts.jezik.indikatori.boja,"DI- "+$.vobcoCharts.jezik.indikatori.boja,"ADX "+$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.ADX.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:["DI- ","DI+ "],ulazniPodaci:3,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var r,u,f,i,e;if(brojDana=parseInt(n[0],10),dmip=[],dmim=[],tr=[],t.length===3&&(r=t[0],u=t[1],f=t[2]),t.length===4&&(r=t[1],u=t[2],f=t[3]),r!==undefined){for(dmip.push(undefined),dmim.push(undefined),tr.push(undefined),i=1,e=r.length;i<e;i++)pH=r[i]-r[i-1],pL=u[i-1]-u[i],pH<0&&pL<0||pH===pL?(dmip.push(0),dmim.push(0)):pH>pL?(dmip.push(pH),dmim.push(0)):(dmip.push(0),dmim.push(pL)),tr.push(Math.max(Math.abs(r[i]-u[i]),Math.abs(r[i]-f[i-1]),Math.abs(f[i-1]-u[i])));for(WEMAdmip=izracunajWEMA(dmip,brojDana),WEMAdmim=izracunajWEMA(dmim,brojDana),WEMAtr=izracunajWEMA(tr,brojDana),dip=[],dim=[],dx=[],dip.push(undefined),dim.push(undefined),dx.push(undefined),i=1,e=f.length;i<e;i++)WEMAtr[i]!==0?dip.push(WEMAdmip[i]/WEMAtr[i]*100):dip.push(0),WEMAtr[i]!==0?dim.push(WEMAdmim[i]/WEMAtr[i]*100):dim.push(0),dip[i]+dim[i]>0?dx.push(Math.abs(dip[i]-dim[i])/(dip[i]+dim[i])*100):dx.push(0);return[dip,dim,izracunajWEMA(dx,brojDana)]}}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"ATR",nazivIndikatora:$.vobcoCharts.jezik.indikatori.ATR,parametri:["12"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.ATR.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.ATR],ulazniPodaci:3,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var r,f,u,i,e;if(brojDana=parseInt(n[0],10),tr=[],t.length===3&&(r=t[0],f=t[1],u=t[2]),t.length===4&&(r=t[1],f=t[2],u=t[3]),r!==undefined){for(tr.push(undefined),i=1,e=u.length;i<e;i++)tr.push(Math.max(Math.abs(r[i]-f[i]),Math.abs(r[i]-u[i-1]),Math.abs(u[i-1]-f[i])));return[izracunajWEMA(tr,brojDana)]}}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"Momentum",nazivIndikatora:$.vobcoCharts.jezik.indikatori.Momentum,parametri:["14"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.momentum.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.Momentum],ulazniPodaci:1,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var i;for(brojDana=parseInt(n[0],10),r=[],i=0;i<brojDana;i++)r.push(undefined);for(i=brojDana;i<t[0].length;i++)r.push(t[0][i]-t[0][i-brojDana]);return[r]}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"TRIX",nazivIndikatora:$.vobcoCharts.jezik.indikatori.TRIX,parametri:["14"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.TRIX.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.TRIX],ulazniPodaci:1,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var r,i;for(brojDana=n[0],r=[],i=0;i<brojDana;i++)r.push(undefined);for(i=brojDana;i<t[0].length;i++)r.push(t[0][i]-t[0][i-brojDana]);return[r]}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"FastStochastic",nazivIndikatora:$.vobcoCharts.jezik.indikatori.FastStochastic,parametri:["5","3"],imeParametara:["%K "+$.vobcoCharts.jezik.indikatori.period,"%D "+$.vobcoCharts.jezik.indikatori.period],imeBoja:["%K "+$.vobcoCharts.jezik.indikatori.boja,"%D "+$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.fastStochastic.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.FastStochastic],ulazniPodaci:3,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var u,f,e,i,s,o;if(brojDana=parseInt(n[0],10),brojDanaSMA=parseInt(n[1],10),t.length===3&&(u=t[0],f=t[1],e=t[2]),t.length===4&&(u=t[1],f=t[2],e=t[3]),u!==undefined){for(r=[[],[]],i=0;i<brojDana;i++)r[0].push(undefined);for(i=brojDana,s=f.length;i<s;i++)o=$.vobcoCharts.najniza(f,i-brojDana,i),r[0].push((e[i]-o)/($.vobcoCharts.najvisa(u,i-brojDana,i)-o)*100);return r[1]=izracunajSMA(r[0],brojDanaSMA),r}}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"SlowStochastic",nazivIndikatora:$.vobcoCharts.jezik.indikatori.SlowStochastic,parametri:["15","5"],imeParametara:["%K "+$.vobcoCharts.jezik.indikatori.period,"%D "+$.vobcoCharts.jezik.indikatori.period],imeBoja:["%K "+$.vobcoCharts.jezik.indikatori.boja,"%D "+$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.slowStochastic.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.SlowStochastic],ulazniPodaci:3,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var r,e,u,f,i,h,o,s;if(brojDana=parseInt(n[0],10),brojDanaSMA=parseInt(n[1],10),t.length===3&&(r=t[0],e=t[1],u=t[2]),t.length===4&&(r=t[1],e=t[2],u=t[3]),r!==undefined){for(f=[],i=0;i<brojDana;i++)f.push(undefined);for(i=brojDana,h=u.length;i<h;i++)o=$.vobcoCharts.najniza(e,i-brojDana,i),f.push((u[i]-o)/($.vobcoCharts.najvisa(r,i-brojDana,i)-o)*100);return s=izracunajSMA(f,3),[s,izracunajSMA(s,brojDanaSMA)]}}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"MACD",nazivIndikatora:$.vobcoCharts.jezik.indikatori.MACD,parametri:["12","26","9"],imeParametara:[$.vobcoCharts.jezik.indikatori.brzi,$.vobcoCharts.jezik.indikatori.spori,$.vobcoCharts.jezik.indikatori.EMA],imeBoja:[$.vobcoCharts.jezik.indikatori.boja,$.vobcoCharts.jezik.indikatori.EMA],boje:$.vobcoCharts.settings.styles.indicators.MACD.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.MACD,$.vobcoCharts.jezik.indikatori.EMA+"("+$.vobcoCharts.jezik.indikatori.MACD+")"],ulazniPodaci:1,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var u,i,f;for(spori=parseInt(n[0],10),brzi=parseInt(n[1],10),spori<brzi&&(temp=brzi,brzi=spori,spori=temp),mSpori=2/(spori+1),mBrzi=2/(brzi+1),EMAs=[[],[]],r=[],i=0;i<spori;i++)EMAs[0].push(undefined),r.push(undefined);for(r.push(undefined),i=0;i<brzi;i++)EMAs[1].push(undefined);for(u=0;t[0][u]===undefined;)r.push(undefined),EMAs[0].push(undefined),EMAs[1].push(undefined),u++;for(EMAs[0].push($.vobcoCharts.sumaPolja(t[0],u,spori+u-1)/spori),EMAs[1].push($.vobcoCharts.sumaPolja(t[0],u,brzi+u-1)/brzi),i=brzi+1+u,f=t[0].length;i<f;i++)EMAs[1].push(EMAs[1][i-1]*(1-mBrzi)+t[0][i]*mBrzi),i>=spori+u+1&&(EMAs[0].push(EMAs[0][i-1]*(1-mSpori)+t[0][i]*mSpori),r.push(EMAs[1][i]-EMAs[0][i]));return[r,izracunajEMA(r,parseInt(n[2]))]}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"MACDHistogram",nazivIndikatora:$.vobcoCharts.jezik.indikatori.MACDHistogram,parametri:["12","26","9"],imeParametara:[$.vobcoCharts.jezik.indikatori.brzi,$.vobcoCharts.jezik.indikatori.spori,$.vobcoCharts.jezik.indikatori.EMA],imeBoja:[$.vobcoCharts.jezik.indikatori.bojaPada,$.vobcoCharts.jezik.indikatori.bojaRasta],boje:$.vobcoCharts.settings.styles.indicators.MACDHistogram.seriesColors,funkcijeCrtanja:["Histogram"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Histogram],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.MACDHistogram],ulazniPodaci:1,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var f=parseInt(n[0],10),e=parseFloat(n[1],10),c=parseInt(n[2],10),u;f<e&&(temp=e,e=f,f=temp);for(var l=2/(f+1),a=2/(e+1),v=2/(c+1),r=[[],[]],h=[],o=[],s=[],i=0;i<f;i++)r[0].push(undefined),s.push(undefined),h.push(undefined),o.push(undefined);for(i=0;i<e;i++)r[1].push(undefined);for(u=0;t[0][u]===undefined;)s.push(undefined),r[0].push(undefined),r[1].push(undefined),u++;for(r[0].push($.vobcoCharts.sumaPolja(t[0],u,f+u-1)/f),r[1].push($.vobcoCharts.sumaPolja(t[0],u,e+u-1)/e),i=e+u+1,len=t[0].length;i<len;i++)r[1].push(r[1][i-1]*(1-a)+t[0][i]*a),i>=f+u+1&&(r[0].push(r[0][i-1]*(1-l)+t[0][i]*l),h.push(r[1][i]-r[0][i]));for(i=0;i<c;i++)o.push(undefined),s.push(undefined);for(o.push($.vobcoCharts.sumaPolja(h,f+u,f+u+c-1)/c),s.push(undefined),s.push(undefined),i=o.length;i<h.length;i++)o.push(o[i-1]*(1-v)+h[i]*v),s.push(h[i]-o[i]);return[s]}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"MAE",nazivIndikatora:$.vobcoCharts.jezik.indikatori.MAE,parametri:["20","2.5"],imeParametara:[$.vobcoCharts.jezik.indikatori.period,$.vobcoCharts.jezik.indikatori.Envelopes+"(%)"],imeBoja:[$.vobcoCharts.jezik.indikatori.boja,$.vobcoCharts.jezik.indikatori.EnvelopesUP,$.vobcoCharts.jezik.indikatori.EnvelopesDOWN],boje:$.vobcoCharts.settings.styles.indicators.MAE.seriesColors,funkcijeCrtanja:["line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.SMA],ulazniPodaci:1,novaMreza:!1,indexRoditelja:undefined,dozvoliNoviIndikator:!1,izracunaj:function(n,t){for(var r=izracunajSMA(t[0],n[0]),f=[],e=[],s=parseFloat(n[1].replace(",","."),10)/100,u,i=0,o=t[0].length;i<o;i++)u=r[i]*s,f.push(r[i]+u),e.push(r[i]-u);return[r,f,e]}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"ParabolicSAR",nazivIndikatora:$.vobcoCharts.jezik.indikatori.ParabolicSAR,parametri:["0.02","0.20"],imeParametara:[$.vobcoCharts.jezik.indikatori.AFIncrease,$.vobcoCharts.jezik.indikatori.AFMax],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.ParabolicSAR.seriesColors,funkcijeCrtanja:["Dots","Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Dots,$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:["Parabolic SAR"],ulazniPodaci:3,novaMreza:!1,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var u,f,o,i,v;if(t.length===3&&(u=t[0],f=t[1],o=t[2]),t.length===4&&(u=t[1],f=t[2],o=t[3]),u!==undefined){var s=parseFloat(n[0]),a=parseFloat(n[1]),r=[];for(i=0;i<o.length;i++)r.push(o[i]);var h=1,e=s,y=f[0],c=u[0],l=f[0];for(i=2;i<o.length;i++)r[i]=h?r[i-1]+e*(c-r[i-1]):r[i-1]+e*(l-r[i-1]),v=0,h?f[i]<r[i]&&(h=0,v=1,r[i]=c,l=f[i],e=s):u[i]>r[i]&&(h=1,v=1,r[i]=l,c=u[i],e=s),v==0&&(h?(u[i]>c&&(c=u[i],e=e+s,e>a&&(e=a)),f[i-1]<r[i]&&(r[i]=f[i-1]),f[i-2]<r[i]&&(r[i]=f[i-2])):(f[i]<l&&(l=f[i],e=e+s,e>a&&(e=a)),u[i-1]>r[i]&&(r[i]=u[i-1]),u[i-2]>r[i]&&(r[i]=u[i-2])));return[r]}}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"TSI",nazivIndikatora:$.vobcoCharts.jezik.indikatori.TSI,parametri:["25","13"],imeParametara:["1. EMA","2. EMA"],imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:$.vobcoCharts.settings.styles.indicators.TSI.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.TSI],ulazniPodaci:1,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var r,u,i,e,f;for(EMA25par=parseInt(n[0],10),EMA13par=parseInt(n[1],10),r=[],u=[],r.push(undefined),u.push(undefined),i=1;i<t[0].length;i++)e=t[0][i]-t[0][i-1],isNaN(e)?(r.push(undefined),u.push(undefined)):(r.push(e),u.push(Math.abs(e)));for(pcEMA25=izracunajEMA(r,EMA25par),pcEMA13=izracunajEMA(pcEMA25,EMA13par),apcEMA25=izracunajEMA(u,EMA25par),apcEMA13=izracunajEMA(apcEMA25,EMA13par),f=[],f.push(undefined),i=1;i<apcEMA13.length;i++){if(pcEMA13[i]==undefined){f.push(undefined);continue}f.push(100*(pcEMA13[i]/apcEMA13[i]))}return[f]}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"DC",nazivIndikatora:$.vobcoCharts.jezik.indikatori.DC,parametri:["20"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:[$.vobcoCharts.jezik.indikatori.Upper,$.vobcoCharts.jezik.indikatori.Lower,$.vobcoCharts.jezik.indikatori.Middle],boje:$.vobcoCharts.settings.styles.indicators.DC.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.Upper,$.vobcoCharts.jezik.indikatori.Lower,$.vobcoCharts.jezik.indikatori.Middle],ulazniPodaci:3,novaMreza:!1,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var c=parseInt(n[0],10),f=[],e=[],o=[],r,s,h,u,i;if(t.length===3&&(r=t[0],s=t[1],h=t[2]),t.length===4&&(r=t[1],s=t[2],h=t[3]),r!==undefined){for(u=c+1,i=0;i<u;i++)f.push(undefined),e.push(undefined),o.push(undefined);for(i=u;i<r.length;i++)e.push($.vobcoCharts.najvisa(r,i-u,i-1)),f.push($.vobcoCharts.najniza(s,i-u,i-1)),o.push((e[i]+f[i])/2);return[e,f,o]}}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"AO",nazivIndikatora:$.vobcoCharts.jezik.indikatori.AO,parametri:["5","34"],imeParametara:[$.vobcoCharts.jezik.indikatori.SMA+" 1",$.vobcoCharts.jezik.indikatori.SMA+"2"],imeBoja:[$.vobcoCharts.jezik.indikatori.bojaPada,$.vobcoCharts.jezik.indikatori.bojaRasta],boje:$.vobcoCharts.settings.styles.indicators.MACDHistogram.seriesColors,funkcijeCrtanja:["Histogram"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Histogram],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.AO],ulazniPodaci:3,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var c=parseInt(n[0],10),l=parseInt(n[1],10),f=[],r,e,h,i,o=[],u,s;if(t.length===3&&(r=t[0],e=t[1],h=t[2]),t.length===4&&(r=t[1],e=t[2],h=t[3]),r!==undefined){for(i=0;i<r.length;i++)o.push((r[i]+e[i])/2);for(u=izracunajSMA(o,c),s=izracunajSMA(o,l),i=0;i<u.length;i++){if(u[i]===undefined||s[i]===undefined){f.push(undefined);continue}f.push(u[i]-s[i])}return[f]}}})});$.vobcoCharts.dodatniIndikatori.push(function(){$.vobcoCharts.indikatori.push({indikator:"Aroon",nazivIndikatora:$.vobcoCharts.jezik.indikatori.Aroon,parametri:["14"],imeParametara:[$.vobcoCharts.jezik.indikatori.period],imeBoja:[$.vobcoCharts.jezik.indikatori.bojaPada,$.vobcoCharts.jezik.indikatori.bojaRasta],boje:$.vobcoCharts.settings.styles.indicators.Aroon.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.Aroon],ulazniPodaci:3,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(n,t){var u=parseInt(n[0],10),o=[],s=[],f,e,v,i,h,c,l,a,r;if(t.length===3&&(f=t[0],e=t[1],v=t[2]),t.length===4&&(f=t[1],e=t[2],v=t[3]),f!==undefined){for(i=0;i<u;i++)o.push(undefined),s.push(undefined);for(i=u;i<f.length;i++){for(r=0;r<u;r++)r==0?(l=f[i],a=e[i],h=0,c=0):(l<f[i-r]&&(c=r,l=f[i-r]),a>e[i-r]&&(h=r,a=e[i-r]));o.push(100*((u-c)/u));s.push(100*((u-h)/u))}return[o,s]}}})});$.vobcoCharts.dodatniIndikatori.push(function(){var n={indikator:"Usporedba",nazivIndikatora:$.vobcoCharts.jezik.indikatori.Usporedba,parametri:["",""],imeParametara:[$.vobcoCharts.jezik.indikatori.Vrijednosnica+" 1",$.vobcoCharts.jezik.indikatori.Vrijednosnica+" 2"],imeBoja:[$.vobcoCharts.symbol,$.vobcoCharts.jezik.indikatori.Vrijednosnica+" 1",$.vobcoCharts.jezik.indikatori.Vrijednosnica+" 2"],boje:$.vobcoCharts.settings.styles.indicators.compare.seriesColors,funkcijeCrtanja:["Usporedba"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[],ulazniPodaci:1,novaMreza:!0,visina:300,dozvoliNoviIndikator:!1,izracunaj:function(t){var r=[],i,u,f;for(this.izlazniPodaci=[],this.izlazniPodaci.push($.vobcoCharts.symbol),$.vobcoCharts.showLoading(),i=0;i<t.length;i++)if(t[i]!==undefined&&t[i]!==""){if(u=$.vobcoCharts.getIntervalIndex($.vobcoCharts.data.loadedInterval),$.vobcoCharts.settings.intervals[u].closeUrl==undefined){alert("Configuration error! CloseUrl is undefined!");return}f=$.vobcoCharts.settings.intervals[u].closeUrl.replace("_ticker_",t[i].replace(":","_"));$.ajax({url:f,dataType:"json",success:function(u){var o;if(r.push([]),!(u.date.length<=0)){o=0;$.vobcoCharts.settings.allowIntervalChange&&(o=parseInt($.vobcoCharts.data.selectedInterval.substr(1))/parseInt($.vobcoCharts.data.loadedInterval.substr(1)));o--;for(var e=0,s=$.vobcoCharts.data.c.length,f=0;e<s;e++,f++){if(u.date[f]=new Date(u.date[f]),$.vobcoCharts.data.cd[e]<u.date[f])while($.vobcoCharts.data.cd[e]<u.date[f])r[i].push(undefined),e++;else if($.vobcoCharts.data.cd[e]>u.date[f])while($.vobcoCharts.data.cd[e]>u.date[f])f++,u.date[f]=new Date(u.date[f]);typeof u.date[f]!="undefined"&&typeof $.vobcoCharts.data.cd[e]!="undefined"&&($.vobcoCharts.data.cd[e].getTime()===u.date[f].getTime()?r[i].push(u.close[f]):r[i].push(undefined))}n.izlazniPodaci.push(t[i])}},error:function(){},async:!1})}return $("#"+$.vobcoCharts.settings.htmlPrefix+"blokDiv").remove(),$("#"+$.vobcoCharts.settings.htmlPrefix+"loading").remove(),r}};$.vobcoCharts.indikatori.push(n)});$.vobcoCharts.changeInterval=function(){var n=$.vobcoCharts,t=n.settings,i=n.data;t.allowIntervalChange&&(n.trendLines=[],i.selectedInterval=$("#"+t.htmlPrefix+"Interval").val(),n.ucitajPodatke(),n.spremiUCookie(),n.calcData(),n.resetirajOdabranoPodrucje(),n.drawChart(i.d.length-120>0?i.d.length-120:0,i.d.length-1),$("#"+t.htmlPrefix+"Interval").selectbox("detach"),$("#"+t.htmlPrefix+"Interval").selectbox("attach"),t.events.intervalChanged&&t.events.intervalChanged instanceof Function&&t.events.intervalChanged())};$.vobcoCharts.setInterval=function(n){var t=$.vobcoCharts,r=t.settings,u=t.data,e,o=n.substr(0,1),s=parseInt(n.substr(1)),f;for(i=0;i<r.intervals.length;i++)if(r.intervals[i].type==o&&r.intervals[i].interval==s){e=i;break}return e==undefined?u.selectedInterval:(t.trendLines=[],u.selectedInterval=n,t.ucitajPodatke(),t.spremiUCookie(),t.calcData(),t.resetirajOdabranoPodrucje(),t.drawChart(u.d.length-120>0?u.d.length-120:0,u.d.length-1),f=$("#"+r.htmlPrefix+"Interval"),f!==undefined&&(f.val(u.selectedInterval),f.selectbox("detach"),f.selectbox("attach")),r.events.intervalChanged&&r.events.intervalChanged instanceof Function&&r.events.intervalChanged(),u.selectedInterval)};$.vobcoCharts.getInterval=function(){var n=$.vobcoCharts,i=n.settings,t=n.data;return t.selectedInterval};$.vobcoCharts.calcData=function(){var i=$.vobcoCharts,y=i.settings,n=i.data,v,f,o,l,r,u,t;n.o=[];n.h=[];n.l=[];n.c=[];n.d=[];n.v=[];n.cd=[];var s=n.selectedInterval.substr(0,1),e=parseInt(n.selectedInterval.substr(1)),a=n.loadedInterval.substr(0,1),h=parseInt(n.loadedInterval.substr(1));if(s!=a&&s!="W"&&alert("Data loaded type is "+a+" while I need "+s+"!"),v=e,f=e-1,n.selectedInterval!=="D5"&&n.selectedInterval!="W1")if(n.selectedInterval===n.loadedInterval)n.c=n.close.slice(),n.d=n.cd=n.date.slice(),n.open!=undefined&&(n.o=n.open.slice()),n.high!=undefined&&(n.h=n.high.slice()),n.low!=undefined&&(n.l=n.low.slice()),n.volume!=undefined&&(n.v=n.volume.slice());else{if(e%h!=0){alert("Calculation of "+n.selectedInterval+" interval is not possible based on data for "+n.loadedInterval);return}switch(s){case"M":var r=e/h,u=r-1,c=!1;for(t=0;t<n.date.length;t+=r){if(o=new Date(i.data.date[t]),c=!1,r=e/h,u=r-1,n.date[t+u]!=undefined&&n.date[t].getDay()!=n.date[t+u].getDay())r--,u--;else while(o.getMinutes()%e!=0)o.setMinutes(o.getMinutes()-1),c=!0;c&&(r--,u--);n.o.push(i.pronadiOpen(t,r));n.h.push(i.pronadiHigh(t,r));n.l.push(i.pronadiLow(t,r));n.c.push(i.data.close[t+u]);n.v.push(i.sumaPolja(n.volume,t,t+u));n.d.push(o);l=new Date(o);l.setMinutes(o.getMinutes()+u);n.cd.push(l)}break;default:for(r=e/h,u=r-1,t=0;t<n.date.length;t+=r)n.o.push(i.pronadiOpen(t,r)),n.h.push(i.pronadiHigh(t,r)),n.l.push(i.pronadiLow(t,r)),n.c.push(i.data.close[t+u]),n.v.push(i.sumaPolja(n.volume,t,t+u)),n.d.push(i.data.date[t]),n.cd.push(i.data.date[t+u])}n.c[n.c.length-1]==undefined&&(n.c[n.c.length-1]=n.close[n.close.length-1])}else for(t=0;t<n.date.length;t++)if(t===0||n.date[t-1].getDay()>n.date[t].getDay()){for(f=0;t+f<n.date.length;){if(i.getWeek(n.date[t])!==i.getWeek(n.date[t+f]))break;f++}f--;n.o.push(i.pronadiOpen(t,f));n.h.push(i.najvisa(n.high,t,t+f));n.l.push(i.najniza(i.data.low,t,t+f));n.c.push(n.close[t+f]);n.v.push(i.sumaPolja(n.volume,t,t+f));n.d.push(n.date[t]);n.cd.push(n.date[t+f])}n.firstTimeLoaded&&$.vobcoCharts.ponovoIzracunajIndikatore()};$.vobcoCharts.recalcData=function(n){var s=$.vobcoCharts,w=s.settings,t=s.data,f=t.selectedInterval.substr(0,1),e=parseInt(t.selectedInterval.substr(1)),a=t.loadedInterval.substr(0,1),l=parseInt(t.loadedInterval.substr(1)),v,y,r,h,c;if((f==a||f=="W")&&(v=e,y=e-1,t.selectedInterval!==t.loadedInterval)&&e%l==0){var p=e/l,o=p-1,u=new Date(t.date[n]),i;for(j=t.d.length-1;j>=0;j--)if(t.d[j]<=t.date[n]){t.cd[j]>=t.date[n]&&(i=j);break}if(i==undefined){if(f=="M")while(u.getMinutes()%e!=0)u.setMinutes(u.getMinutes()-1);if(t.selectedInterval=="D5"||t.selectedInterval=="W1")while(u.getDay()!=1)u.setDate(u.getDate-1);for(j=t.d.length-1;j>=0;j--)if(t.d[j]<u){i=j+1;break}t.o.splice(i,0,undefined);t.h.splice(i,0,undefined);t.l.splice(i,0,undefined);t.c.splice(i,0,undefined);t.v.splice(i,0,undefined);t.d.splice(i,0,u);r=new Date(u);f=="M"&&r.setMinutes(r.getMinutes()+o);f=="H"&&r.setHours(r.getHours()+o);f=="D"&&r.setDate(r.getDate()+o);f=="W"&&r.setDate(r.getDate()+o*7);t.cd.splice(i,0,r)}for(h=n,c=n,j=n;j>=0;j--)if(t.date[j]>=t.d[i])h=j;else break;for(j=n;j<=t.date.length-1;j++)if(t.date[j]<=t.cd[i])c=j;else break;s.findOHLCV(i,h,c);t.c[t.c.length-1]==undefined&&(t.c[t.c.length-1]=t.close[t.close.length-1]);t.firstTimeLoaded&&$.vobcoCharts.ponovoIzracunajIndikatore()}};$.vobcoCharts.findOHLCV=function(n,t,i){for(var s=$.vobcoCharts,l=s.settings,r=s.data,o=undefined,f=-1,e=undefined,h=-1,c=0,u=t;u<=i;u++)r.volume[u]!==0&&(o==undefined&&r.open[u]!=undefined&&(o=r.open[u]),h=r.close[u],r.high[u]>f&&(f=r.high[u]),(e===undefined||r.low[u]<e)&&(e=r.low[u]),c+=r.volume[u]);f==-1&&(f=undefined);r.o[n]=o;r.h[n]=f;r.l[n]=e;r.c[n]=h;r.v[n]=c};$.vobcoCharts.pronadiOpen=function(n,t){for(var i=n;i<n+t;i++)if($.vobcoCharts.data.volume[i]!==0)return $.vobcoCharts.data.open[i];return $.vobcoCharts.data.open[n]};$.vobcoCharts.pronadiHigh=function(n,t){for(var r=-1,i=n;i<n+t;i++)$.vobcoCharts.data.volume[i]!==0&&$.vobcoCharts.data.high[i]>r&&(r=$.vobcoCharts.data.high[i]);return r===-1?$.vobcoCharts.data.high[n]:r};$.vobcoCharts.pronadiLow=function(n,t){for(var r=undefined,i=n;i<n+t;i++)$.vobcoCharts.data.volume[i]!==0&&(r===undefined||$.vobcoCharts.data.low[i]<r)&&(r=$.vobcoCharts.data.low[i]);return r===undefined?$.vobcoCharts.data.low[n]:r};$.vobcoCharts.trendLine=function(){function t(){$("#"+n+"blokDiv").remove();$("#"+n+"indicator").remove()}var n=$.vobcoCharts.settings.htmlPrefix;$("body").append('<div id="'+n+'blokDiv"><\/div>');$("body").append('<div id="'+n+'indicator" style="height:180px;"><span class="'+n+'indicatorTitle">'+$.vobcoCharts.jezik.indikatori.TrendLine+'<\/span><form name="'+n+'form" action="#"><dl id="'+n+'formdl"><dt><label for="'+n+'trendLineColor">'+$.vobcoCharts.jezik.indikatori.boja+':<\/label><\/dt><input id="'+n+'trendLineColor" type="text" name="boja" value="'+$.vobcoCharts.settings.styles.chartsDefaults.lineColor+'" /><\/dl><p>'+$.vobcoCharts.jezik.indikatori.KlikniteNacrtajZatim+'<\/p><\/form><input type="button" id="'+n+'btnDeleteAll" name="btnDeleteAll" value="'+$.vobcoCharts.jezik.obrisiSve+'" /> <input type="button" id="'+n+'btnDraw" name="btnDraw" value="'+$.vobcoCharts.jezik.nacrtaj+'" /><input type="button" id="'+n+'btnCancel"  name="btnCancel" value="'+$.vobcoCharts.jezik.odustani+'" /><\/div>');$("#"+n+"trendLineColor").colorPicker();$("#"+n+"btnCancel").bind("click",function(){$("#"+n+"blokDiv").remove();$("#"+n+"indicator").remove()});$("#"+n+"blokDiv").bind("click",t);$("#"+n+"btnDeleteAll").bind("click",function(){$.vobcoCharts.trendLines=[];$.vobcoCharts.drawChart();t()});$("#"+n+"btnDraw").bind("click",function(){$.vobcoCharts.drawTrendLine=!0;$.vobcoCharts.bezTooltipa=!0;$.vobcoCharts.trendLines.push({start:undefined,end:undefined,boja:$("#"+n+"trendLineColor").val()});t()})};$.vobcoCharts.inicijalizirajOsnovneIndikatore=function(){var n=$.vobcoCharts.settings.styles.indicators,t={},i;switch($.vobcoCharts.settings.dataType){case"currency":t={indikator:"OHLC",nazivIndikatora:$.vobcoCharts.jezik.indikatori.tecaj,parametri:[],imeParametara:[],bojeIzlaznihPodataka:n.Area.textColors,imeBoja:[$.vobcoCharts.jezik.indikatori.boja,$.vobcoCharts.jezik.indikatori.boja],boje:n.Area.seriesColors,funkcijeCrtanja:["Area","Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Area,$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.prodajni,$.vobcoCharts.jezik.kupovni,$.vobcoCharts.jezik.srednji],ulazniPodaci:0,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(){return[$.vobcoCharts.data.h,$.vobcoCharts.data.l,$.vobcoCharts.data.c]}};break;case"portfolio":iKapitalnaDobit={indikator:"kapitalnaDobit",nazivIndikatora:$.vobcoCharts.jezik.indikatori.kapitalnaDobit,parametri:[],imeParametara:[],bojeIzlaznihPodataka:n.capitalGain.textColors,imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:n.capitalGain.seriesColors,funkcijeCrtanja:["FromZero"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Area,$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.kapitalnaDobit],ulazniPodaci:0,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(){return[$.vobcoCharts.data.c]}};iUlog={indikator:"ulog",nazivIndikatora:$.vobcoCharts.jezik.indikatori.ulog,parametri:[],imeParametara:[],bojeIzlaznihPodataka:n.investments.textColors,imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:n.investments.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.ulog],ulazniPodaci:0,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(){return[$.vobcoCharts.data.l]}};iStanjePortfelja={indikator:"stanjePortfelja",nazivIndikatora:$.vobcoCharts.jezik.indikatori.stanjePortfelja,parametri:[],imeParametara:[],bojeIzlaznihPodataka:n.portfolioValue.textColors,imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:n.portfolioValue.seriesColors,funkcijeCrtanja:["Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Area,$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.stanjePortfelja],ulazniPodaci:0,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(){return[$.vobcoCharts.data.h]}};$.vobcoCharts.indikatori.push(iKapitalnaDobit);$.vobcoCharts.indikatori.push(iUlog);$.vobcoCharts.indikatori.push(iStanjePortfelja);break;case"close":t={indikator:"OHLC",nazivIndikatora:$.vobcoCharts.jezik.indikatori.tecaj,parametri:[],imeParametara:[],bojeIzlaznihPodataka:n.Area.textColors,imeBoja:[$.vobcoCharts.jezik.indikatori.boja],boje:n.Area.seriesColors,funkcijeCrtanja:["Area","Line"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Area,$.vobcoCharts.jezik.indikatori.Linija],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.zadnja],ulazniPodaci:0,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(){return[$.vobcoCharts.data.c]}};break;default:t={indikator:"OHLC",nazivIndikatora:$.vobcoCharts.jezik.indikatori.OHLC,parametri:[],imeParametara:[],bojeIzlaznihPodataka:n.OHLC.textColors,imeBoja:[$.vobcoCharts.jezik.indikatori.bojaPada,$.vobcoCharts.jezik.indikatori.bojaStagniranja,$.vobcoCharts.jezik.indikatori.bojaRasta],boje:n.OHLC.seriesColors,funkcijeCrtanja:["OHLC","CandleStick","Line","Area"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.OHLC,$.vobcoCharts.jezik.indikatori.CandleStick,$.vobcoCharts.jezik.indikatori.Linija,$.vobcoCharts.jezik.indikatori.Area],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.pocetna,$.vobcoCharts.jezik.indikatori.najvisa,$.vobcoCharts.jezik.indikatori.najniza,$.vobcoCharts.jezik.indikatori.zadnja],ulazniPodaci:0,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(){return[$.vobcoCharts.data.o,$.vobcoCharts.data.h,$.vobcoCharts.data.l,$.vobcoCharts.data.c]}}}i={indikator:"volume",nazivIndikatora:$.vobcoCharts.jezik.indikatori.Kolicina,parametri:[],imeParametara:[],imeBoja:[$.vobcoCharts.jezik.indikatori.bojaPada,$.vobcoCharts.jezik.indikatori.bojaStagniranja,$.vobcoCharts.jezik.indikatori.bojaRasta],bojeIzlaznihPodataka:n.volume.textColors,boje:n.volume.seriesColors,funkcijeCrtanja:["Bar","Line","Area"],naziviFunkcijaCrtanja:[$.vobcoCharts.jezik.indikatori.Bar,$.vobcoCharts.jezik.indikatori.Linija,$.vobcoCharts.jezik.indikatori.Area],izlazniPodaci:[$.vobcoCharts.jezik.indikatori.Kolicina],formatiIzlaznihPodataka:[$.vobcoCharts.jezik.formati.cijeliBroj],ulazniPodaci:0,novaMreza:!0,indexRoditelja:undefined,dozvoliNoviIndikator:!0,izracunaj:function(){return[$.vobcoCharts.data.v]}};$.vobcoCharts.indikatori.push(t);$.vobcoCharts.indikatori.push(i)};$.vobcoCharts.inicijalizirajIndikatore=function(){for(var n=0;n<$.vobcoCharts.dodatniIndikatori.length;n++)$.vobcoCharts.dodatniIndikatori[n]()};$.vobcoCharts.pronadiIndikator=function(n){for(var t=0;t<$.vobcoCharts.indikatori.length;t++)if(n===$.vobcoCharts.indikatori[t].indikator)return t;return-1};$.vobcoCharts.ponovoIzracunajIndikatore=function(){var n,u;for($.vobcoCharts.utility.izracunajRaspon=!0,n=0;n<$.vobcoCharts.mreze.length;n++)for(j=0;j<$.vobcoCharts.mreze[n].indikatori.length;j++){var r=$.vobcoCharts.indikatori[$.vobcoCharts.pronadiIndikator($.vobcoCharts.mreze[n].indikatori[j].indikator)],t=-1,i=-1;$.vobcoCharts.mreze[n].indikatori[j].indexRoditelja!==undefined&&(t=$.vobcoCharts.mreze[n].indikatori[j].indexRoditelja.mreza,i=$.vobcoCharts.mreze[n].indikatori[j].indexRoditelja.indikator);r.ulazniPodaci===1?u=t<=0&&i<=0?[$.vobcoCharts.data.c]:$.vobcoCharts.mreze[t].indikatori[i].data:r.ulazniPodaci===3?u=t<=0&&i<=0?[$.vobcoCharts.data.h,$.vobcoCharts.data.l,$.vobcoCharts.data.c]:$.vobcoCharts.mreze[t].indikatori[i].data:r.ulazniPodaci===4&&(u=t<=0&&i<=0?[$.vobcoCharts.data.o,$.vobcoCharts.data.h,$.vobcoCharts.data.l,$.vobcoCharts.data.c]:$.vobcoCharts.mreze[t].indikatori[i].data);$.vobcoCharts.mreze[n].indikatori[j].data=r.izracunaj($.vobcoCharts.mreze[n].indikatori[j].parametri,u)}};$.vobcoCharts.ponovoIzracunajDjecu=function(n,t){for(var u=$.vobcoCharts.mreze,r,f,i=0;i<u.length;i++)for(r=0;r<u[i].indikatori.length;r++)u[i].indikatori[r].indexRoditelja!=undefined&&u[i].indikatori[r].indexRoditelja.mreza!==undefined&&u[i].indikatori[r].indexRoditelja.mreza==n&&u[i].indikatori[r].indexRoditelja.indikator==t&&(f=$.vobcoCharts.indikatori[$.vobcoCharts.pronadiIndikator($.vobcoCharts.mreze[i].indikatori[r].indikator)],u[i].indikatori[r].data=f.izracunaj($.vobcoCharts.mreze[i].indikatori[r].parametri,u[n].indikatori[t].data),$.vobcoCharts.ponovoIzracunajDjecu(i,r))};$.vobcoCharts.nacrtajMrezu=function(n){var i=$.vobcoCharts.mreze,r,t,u,f;for(visina=i[n].visina,min=i[n].min,max=i[n].max,linija($.vobcoCharts.settings.width-5,visina-3,$.vobcoCharts.settings.width-12,visina-3,$.vobcoCharts.settings.styles.resizeTriangleColor,1),linija($.vobcoCharts.settings.width-6,visina-4,$.vobcoCharts.settings.width-11,visina-4,$.vobcoCharts.settings.styles.resizeTriangleColor,1),linija($.vobcoCharts.settings.width-7,visina-5,$.vobcoCharts.settings.width-10,visina-5,$.vobcoCharts.settings.styles.resizeTriangleColor,1),linija($.vobcoCharts.settings.width-8,visina-6,$.vobcoCharts.settings.width-9,visina-6,$.vobcoCharts.settings.styles.resizeTriangleColor,1),linija($.vobcoCharts.settings.width-5,visina+3,$.vobcoCharts.settings.width-12,visina+3,$.vobcoCharts.settings.styles.resizeTriangleColor,1),linija($.vobcoCharts.settings.width-6,visina+4,$.vobcoCharts.settings.width-11,visina+4,$.vobcoCharts.settings.styles.resizeTriangleColor,1),linija($.vobcoCharts.settings.width-7,visina+5,$.vobcoCharts.settings.width-10,visina+5,$.vobcoCharts.settings.styles.resizeTriangleColor,1),linija($.vobcoCharts.settings.width-8,visina+6,$.vobcoCharts.settings.width-9,visina+6,$.vobcoCharts.settings.styles.resizeTriangleColor,1),r=5,t=0;t<i[n].indikatori.length;t++){start=r;switch(i[n].indikatori[t].indikator){case"OHLC":case"volume":tekst(r,18,i[n].indikatori[t].nazivIndikatora,$.vobcoCharts.indikatori[$.vobcoCharts.pronadiIndikator(i[n].indikatori[t].indikator)].bojeIzlaznihPodataka[0],"left","bottom",10);r+=ctx.measureText(i[n].indikatori[t].nazivIndikatora).width;break;case"Usporedba":for(tekst(r,18,i[n].indikatori[t].nazivIndikatora+"(",i[n].indikatori[t].boje[0],"left","bottom",10),r+=ctx.measureText(i[n].indikatori[t].nazivIndikatora+"(").width,u=0;u<i[n].indikatori[t].izlazniPodaci.length;u++)tekst(r,18,i[n].indikatori[t].izlazniPodaci[u],i[n].indikatori[t].boje[u],"left","bottom",10),r+=ctx.measureText(i[n].indikatori[t].izlazniPodaci[u]).width,i[n].indikatori[t].izlazniPodaci.length-1!=u&&(tekst(r,18,", ",i[n].indikatori[t].boje[0],"left","bottom",10),r+=ctx.measureText(", ").width);tekst(r,18,")",i[n].indikatori[t].boje[0],"left","bottom",10);r+=ctx.measureText(", ").width;break;default:tkst=i[n].indikatori[t].nazivIndikatora;i[n].indikatori[t].indexRoditelja!==undefined?(i[n].indikatori[t].indexRoditelja.mreza===-1&&(i[n].indikatori[t].indexRoditelja.mreza=0,i[n].indikatori[t].indexRoditelja.indikator=0),tkst+="(",i[n].indikatori[t].indexRoditelja.mreza===-1&&(n===1?(i[n].indikatori[t].indexRoditelja.mreza=1,i[n].indikatori[t].indexRoditelja.indikator=0):(i[n].indikatori[t].indexRoditelja.mreza=0,i[n].indikatori[t].indexRoditelja.indikator=0)),f=i[i[n].indikatori[t].indexRoditelja.mreza].indikatori[i[n].indikatori[t].indexRoditelja.indikator],tkst+=f.nazivIndikatora,i[n].indikatori[t].parametri.length>0&&(tkst+=", "+i[n].indikatori[t].parametri),tkst+=")"):i[n].indikatori[t].parametri.length>0&&(tkst+="("+i[n].indikatori[t].parametri+")");bojaTeksta=$.vobcoCharts.mreze[n].indikatori[t].boje.length>0?$.vobcoCharts.mreze[n].indikatori[t].indikator==="OHLC"||$.vobcoCharts.mreze[n].indikatori[t].indikator==="volume"?$.vobcoCharts.settings.styles.chartsDefaults.lineColor:$.vobcoCharts.mreze[n].indikatori[t].boje[0]:$.vobcoCharts.settings.styles.textColor;tekst(r,18,tkst,bojaTeksta,"left","bottom",10);r+=ctx.measureText(tkst).width}$.vobcoCharts.settings.allowTechnicalIndicators&&$.vobcoCharts.indikatorForma instanceof Function?($.vobcoCharts.mreze[n].indikatori[t].dozvoliNoviIndikator&&ctx.drawImage($.vobcoCharts.addIkona,r+2.5,5.5),r+=15,$.vobcoCharts.mreze[n].indikatori[t].tipka={start:start,end:r},$.vobcoCharts.mreze[n].indikatori[t].dozvoliNoviIndikator&&(r+=10)):r+=5}for(visina-=20,ctx.translate(0,20),kolicina=Math.ceil(visina/30),iznos=$.vobcoCharts.mreze[n].min;iznos<$.vobcoCharts.mreze[n].max+$.vobcoCharts.mreze[n].razmak;)y=(iznos-$.vobcoCharts.mreze[n].min)*$.vobcoCharts.mreze[n].omjer,linija(0,visina-y,$.vobcoCharts.settings.width,visina-y,$.vobcoCharts.settings.styles.gridColor,1),tekst($.vobcoCharts.settings.width+5,visina-y,$.vobcoCharts.formatirajBroj(iznos.toFixed(2)),$.vobcoCharts.settings.styles.textColor,"left","middle",8),iznos+=$.vobcoCharts.mreze[n].razmak;$.vobcoCharts.nacrtajXMrezu($.vobcoCharts.settings.width-5,visina);ctx.translate(0,-20)};$.vobcoCharts.nacrtajXMrezu=function(n,t){var r,i;razina=$.vobcoCharts.getRazina();r=n;n=n-$.vobcoCharts.settings.margins.leftOffset-$.vobcoCharts.settings.margins.rightOffset;linija(0,0,0,t,$.vobcoCharts.settings.styles.gridColor,1);linija(n+5+$.vobcoCharts.settings.margins.leftOffset+$.vobcoCharts.settings.margins.rightOffset,0,n+5+$.vobcoCharts.settings.margins.leftOffset+$.vobcoCharts.settings.margins.rightOffset,t,$.vobcoCharts.settings.styles.gridColor,1);iznos=$.vobcoCharts.settings.margins.leftOffset;switch($.vobcoCharts.data.selectedInterval.substring(0,1)){case"M":switch(razina){case 1:for(i=$.vobcoCharts.si+1;i<$.vobcoCharts.ei;i++)i===0?linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1));break;case 2:for(i=$.vobcoCharts.si+1;i<$.vobcoCharts.ei;i++)i===0?linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,linija(iznos,t-8,iznos,t,$.vobcoCharts.settings.styles.gridColor,1),$.vobcoCharts.data.d[i-1].getHours()>$.vobcoCharts.data.d[i].getHours()&&linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1));break;case 3:for(i=$.vobcoCharts.si+1;i<$.vobcoCharts.ei;i++)i===0?linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[i-1].getHours()!==$.vobcoCharts.data.d[i].getHours()&&linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1));break;case 4:for(i=$.vobcoCharts.si+1;i<$.vobcoCharts.ei;i++)i===0?linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[i-1].getHours()!==$.vobcoCharts.data.d[i].getHours()&&linija(iznos,t-8,iznos,t,$.vobcoCharts.settings.styles.gridColor,1),$.vobcoCharts.data.d[i-1].getDay()!==$.vobcoCharts.data.d[i].getDay()&&linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1))}break;default:switch(razina){case 1:for(i=$.vobcoCharts.si+1;i<$.vobcoCharts.ei;i++)i===0?linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1));break;case 2:for(i=$.vobcoCharts.si+1;i<$.vobcoCharts.ei;i++)i===0?linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,linija(iznos,t-8,iznos,t,$.vobcoCharts.settings.styles.gridColor,1),$.vobcoCharts.data.d[i-1].getDay()>$.vobcoCharts.data.d[i].getDay()&&linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1));break;case 3:for(i=$.vobcoCharts.si+1;i<$.vobcoCharts.ei;i++)i===0?linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[i-1].getMonth()!==$.vobcoCharts.data.d[i].getMonth()&&linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1));break;case 4:for(i=$.vobcoCharts.si+1;i<$.vobcoCharts.ei;i++)i===0?linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[i-1].getMonth()!==$.vobcoCharts.data.d[i].getMonth()&&linija(iznos,t-8,iznos,t,$.vobcoCharts.settings.styles.gridColor,1),$.vobcoCharts.data.d[i-1].getFullYear()!==$.vobcoCharts.data.d[i].getFullYear()&&linija(iznos,0,iznos,t,$.vobcoCharts.settings.styles.gridColor,1))}}};$.vobcoCharts.nacrtajXOs=function(){var r=$.vobcoCharts.settings.width-$.vobcoCharts.settings.margins.leftOffset-$.vobcoCharts.settings.margins.rightOffset,t,i,n;razina=$.vobcoCharts.getRazina();$.vobcoCharts.utility.razmakX=0;$.vobcoCharts.utility.razmakX=datuma===1?r:r/($.vobcoCharts.ei-$.vobcoCharts.si);iznos=$.vobcoCharts.settings.margins.leftOffset;t=-50;i=-50;switch($.vobcoCharts.data.selectedInterval.substring(0,1)){case"M":if(parseInt($.vobcoCharts.data.selectedInterval.substring(1)<10))switch(razina){case 1:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)n===0?linija(iznos,0,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,linija(iznos,0,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1));break;case 2:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)n===0?linija(iznos,0,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,linija(iznos,visina-8,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1),$.vobcoCharts.data.d[n-1].getHours()>$.vobcoCharts.data.d[n].getHours()&&linija(iznos,0,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1));break;case 3:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)n===0?linija(iznos,0,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n-1].getHours()!==$.vobcoCharts.data.d[n].getHours()&&linija(iznos,0,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1));break;case 4:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)n===0?linija(iznos,0,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1):(iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n-1].getHours()!==$.vobcoCharts.data.d[n].getHours()&&linija(iznos,visina-8,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1),$.vobcoCharts.data.d[n-1].getDay()!==$.vobcoCharts.data.d[n].getDay()&&linija(iznos,0,iznos,visina,$.vobcoCharts.settings.styles.gridColor,1))}else switch(razina){case 1:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n].getMinutes()%30==0&&t<iznos&&(t=iznos+50,tekst(iznos,2,$.format.date($.vobcoCharts.data.d[n],$.vobcoCharts.jezik.formati.vrijeme),$.vobcoCharts.settings.styles.textColor,"center","top",10));break;case 2:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n].getMinutes()==0&&t<iznos&&(t=iznos+30,tekst(iznos,2,$.format.date($.vobcoCharts.data.d[n],$.vobcoCharts.jezik.formati.vrijeme),$.vobcoCharts.settings.styles.textColor,"center","top",10));break;default:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n].getMinutes()===0&&$.vobcoCharts.data.d[n].getHours()%2==0&&t<iznos&&(t=iznos+30,tekst(iznos,2,$.format.date($.vobcoCharts.data.d[n],$.vobcoCharts.jezik.formati.vrijeme),$.vobcoCharts.settings.styles.textColor,"center","top",10))}break;case"H":switch(razina){case 1:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n].getMinutes()%30==0&&t<iznos&&(t=iznos+50,tekst(iznos,2,$.format.date($.vobcoCharts.data.d[n],$.vobcoCharts.jezik.formati.vrijeme),$.vobcoCharts.settings.styles.textColor,"center","top",10)),$.vobcoCharts.data.d[n-1].getDay()!==$.vobcoCharts.data.d[n].getDay()&&i<iznos&&(i=iznos+50,tekst(iznos,12,$.format.date($.vobcoCharts.data.d[n],$.vobcoCharts.jezik.formati.datumBezGodine),$.vobcoCharts.settings.styles.textColor,"center","top",10));break;case 2:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n].getHours()%2==0&&$.vobcoCharts.data.d[n].getMinutes()===0&&t<iznos&&(t=iznos+50,tekst(iznos,2,$.format.date($.vobcoCharts.data.d[n],$.vobcoCharts.jezik.formati.vrijeme),$.vobcoCharts.settings.styles.textColor,"center","top",10)),$.vobcoCharts.data.d[n-1].getDay()!==$.vobcoCharts.data.d[n].getDay()&&i<iznos&&(i=iznos+50,tekst(iznos,12,$.format.date($.vobcoCharts.data.d[n],$.vobcoCharts.jezik.formati.datumBezGodine),$.vobcoCharts.settings.styles.textColor,"center","top",10));break;case 3:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n-1].getDay()!==$.vobcoCharts.data.d[n].getDay()&&t<iznos&&(t=iznos+50,tekst(iznos,2,$.format.date($.vobcoCharts.data.d[n],$.vobcoCharts.jezik.formati.datumBezGodine),$.vobcoCharts.settings.styles.textColor,"center","top",10));break;case 4:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n-1].getDay()!==$.vobcoCharts.data.d[n].getDay()&&t<iznos&&(t=iznos+50,tekst(iznos,2,$.format.date($.vobcoCharts.data.d[n],$.vobcoCharts.jezik.formati.datumBezGodine),$.vobcoCharts.settings.styles.textColor,"center","top",10))}break;default:switch(razina){case 1:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)n===0?(tekst(iznos,2,$.vobcoCharts.data.d[n].getDate(),$.vobcoCharts.settings.styles.textColor,"center","top",8),$.vobcoCharts.data.d[n].getDate()>3&&tekst(iznos,12,$.vobcoCharts.data.d[n].getMonth(),$.vobcoCharts.settings.styles.textColor,"center","top",10)):(iznos+=$.vobcoCharts.utility.razmakX,tekst(iznos,2,$.vobcoCharts.data.d[n].getDate(),$.vobcoCharts.settings.styles.textColor,"center","top",8),$.vobcoCharts.data.d[n-1].getMonth()!==$.vobcoCharts.data.d[n].getMonth()&&tekst(iznos,12,$.vobcoCharts.data.d[n].getMonth()+1,$.vobcoCharts.settings.styles.textColor,"center","top",10));break;case 2:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n-1].getDay()>$.vobcoCharts.data.d[n].getDay()&&tekst(iznos,2,$.vobcoCharts.data.d[n].getDate(),$.vobcoCharts.settings.styles.textColor,"center","top",8),$.vobcoCharts.data.d[n-1].getMonth()!==$.vobcoCharts.data.d[n].getMonth()&&tekst(iznos,12,$.vobcoCharts.data.d[n].getMonth()+1+". "+$.vobcoCharts.data.d[n].getFullYear(),$.vobcoCharts.settings.styles.textColor,"center","top",10);break;case 3:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n-1].getMonth()!==$.vobcoCharts.data.d[n].getMonth()&&tekst(iznos,2,$.vobcoCharts.data.d[n].getMonth()+1,$.vobcoCharts.settings.styles.textColor,"center","top",8),$.vobcoCharts.data.d[n-1].getFullYear()!==$.vobcoCharts.data.d[n].getFullYear()&&tekst(iznos,12,$.vobcoCharts.data.d[n].getFullYear(),$.vobcoCharts.settings.styles.textColor,"center","top",10);break;case 4:for(n=$.vobcoCharts.si+1;n<$.vobcoCharts.ei;n++)iznos+=$.vobcoCharts.utility.razmakX,$.vobcoCharts.data.d[n-1].getFullYear()!==$.vobcoCharts.data.d[n].getFullYear()&&tekst(iznos,2,$.vobcoCharts.data.d[n].getFullYear(),$.vobcoCharts.settings.styles.textColor,"center","top",10)}}};$.vobcoCharts.changeSymbol=function(n,t){var i=$.vobcoCharts,f=i.data,e=i.settings,l=e.htmlPrefix,r,h,o;if(i.symbol=n,t!=undefined&&(e.intervals=t,r=$("#"+l+"Interval"),r!=undefined)){for(r.empty(),h="",o=0;o<e.intervals.length;o++){var u=e.intervals[o],c=u.isDefault!=undefined&&u.isDefault?'selected="selected"':"",s=u.type+u.interval;u.isDefault!=undefined&&u.isDefault&&(defVal=s);h+="<option "+c+' value="'+s+'">'+i.jezik.intervali[s]+"<\/option>";c&&(i.data.selectedInterval=s)}r.html(h);r.selectbox("detach");r.selectbox("attach")}f.loadedInterval=undefined;i.ucitajPodatke();i.resetirajOdabranoPodrucje();i.drawChart(f.d.length-120>0?f.d.length-120:0,f.d.length-1)};$.vobcoCharts.ucitajPodatke=function(){var r=$.vobcoCharts,t=r.data,n=r.settings,s,c,e,h,l=!1,o,i,f,a,u;if(t.selectedInterval===undefined||t.selectedInterval==="")for(t.selectedInterval=n.intervals[0].type+n.intervals[0].interval,e=n.intervals[0].url,h=n.intervals[0].type+n.intervals[0].interval,s=0,c=n.intervals.length;s<c;s++)if(n.intervals[s].isDefault!=undefined&&n.intervals[s].isDefault){t.selectedInterval=n.intervals[s].type+n.intervals[s].interval;break}if(o=r.getIntervalIndex(t.selectedInterval),i=o,n.intervals[o].url!=undefined&&n.intervals[o].url!="")e=n.intervals[o].url,h=n.intervals[o].type+n.intervals[o].interval;else for(f=o-1;f>=0;f--)if(n.intervals[f].url!=undefined&&n.intervals[f].url!=""){e=n.intervals[f].url;h=n.intervals[f].type+n.intervals[f].interval;i=f;break}if(t.loadedInterval!==h&&(clearInterval(t.liveRefreshInterval),$.vobcoCharts.data.loadedInterval=h,e!==undefined?typeof e=="object"?l=r.loadData(e,!0):e!==""?(r.showLoading(),$.ajax({url:e,dataType:"json",async:!1,cache:!1,success:function(u){if(u.error!=undefined&&u.error!=""){alert(r.jezik.podaciNePostoje+"\r\n"+u.error);return}if(u.date.length===0){var f;for(f=i+1,c=n.intervals.length;f<c;f++)if(n.intervals[f].url!=undefined&&n.intervals[f].url!=""){n.intervals.splice(i,f-i);t.selectedInterval=undefined;t.loadedInterval=undefined;break}if(n.intervals.length>0){$("#"+n.htmlPrefix+"loading").remove();$.vobcoCharts.ucitajPodatke();return}alert(r.jezik.podaciNePostoje)}l=r.loadData(u,!0);$("#"+n.htmlPrefix+"loading").remove()}})):alert(r.jezik.urlPodaciNijeNaveden):alert(r.jezik.urlPodaciNijeNaveden),l)){if(!t.firstTimeLoaded&&(t.firstTimeLoaded=!0,n.events.firstTimeDataLoad!==undefined&&n.events.firstTimeDataLoad!==""&&n.events.firstTimeDataLoad instanceof Function&&n.events.firstTimeDataLoad(),a=n.intervals[i].liveUrl,n.intervals[i].liveUrl!=undefined&&n.intervals[i].liveUrl!=""&&(u=n.intervals[i].liveLoadInterval,u==undefined&&(u=20),u=u*1e3,t.liveRefreshInterval&&clearInterval(t.liveRefreshInterval),t.liveRefreshInterval=setInterval(function(){r.ucitajNove(n.intervals[i].liveUrl)},u)),r.initChart(),r.utility.ucitanoIzCookiea))return;a=n.intervals[i].liveUrl;n.intervals[i].liveUrl!=undefined&&n.intervals[i].liveUrl!=""&&(u=n.intervals[i].liveLoadInterval,u==undefined&&(u=20),u=u*1e3,t.liveRefreshInterval&&clearInterval(t.liveRefreshInterval),t.liveRefreshInterval=setInterval(function(){r.ucitajNove(n.intervals[i].liveUrl)},u))}};$.vobcoCharts.ucitajNove=function(n){var i=$.vobcoCharts,t=i.data,r;t.date!=undefined&&(r=t.lastLoadTime==undefined?t.date[t.date.length-1]:t.lastLoadTime,n=n.replace("_time_",r.toISOString()),$.ajax({url:n,dataType:"json",async:!1,cache:!1,success:function(n){(n.error==undefined||n.error=="")&&i.loadData(n)}}))};$.vobcoCharts.loadData=function(n,t){var f=$.vobcoCharts,i=f.data,e=f.settings,s,h,o,r,u,c;if(t==undefined&&(t=!1),h=!1,document.addEventListener||(h=!0),h)for(n.lastUpdate!=null&&(n.lastUpdate=n.lastUpdate.replace("-","/").replace("-","/").substr(0,10)),o=n.date.length,r=0;r<o;r++)n.date[r]=new Date(n.date[r].replace("-","/").replace("-","/").substr(0,10));else for(o=n.date.length,r=0;r<o;r++)n.date[r]=new Date(n.date[r]);if(t)i.d=i.cd=i.date=undefined,i.o=i.open=undefined,i.h=i.high=undefined,i.l=i.low=undefined,i.c=i.close=undefined,i.v=i.volume=undefined,i.change=undefined,i.changePercent=undefined,i.transactionCount=undefined,i.turnover=undefined,i.date=n.date.slice(),e.dataType==="portfolio"?(i.close=n.capitalGain.slice(),i.open=n.portfolioValue.slice(),i.low=n.investment.slice()):(n.open!=undefined&&(i.open=n.open.slice()),n.high!=undefined&&(i.high=n.high.slice()),n.low!=undefined&&(i.low=n.low.slice()),n.close!=undefined&&(i.close=n.close.slice()),n.volume!=undefined&&(i.volume=n.volume.slice()),e.loadAdditionalData&&(n.change!=undefined&&(i.change=n.change.slice()),n.changePercent!=undefined&&(i.changePercent=n.changePercent.slice()),n.transactionCount!=undefined&&(i.transactionCount=n.transactionCount.slice()),n.turnover!=undefined&&(i.turnover=n.turnover.slice()))),f.calcData();else{for(n.lastUpdate!=null&&(i.lastLoadTime=new Date(n.lastUpdate)),r=0;r<n.date.length;r++){for(s=i.date.length-1,n.date[r]=new Date(n.date[r]),u=i.date.length-1;u>=0;u--)if(i.date[u]-n.date[r]==0){s=u;e.dataType==="portfolio"?(i.high[u]=n.portfolioValue[r],i.low[u]=n.investment[r],i.close[u]=n.capitalGain[r],i.loadedInterval===i.selectedInterval&&(i.h[u]=n.portfolioValue[r],i.l[u]=n.investment[r],i.c[u]=n.capitalGain[r])):(i.open[u]=n.open[r],i.high[u]=n.high[r],i.low[u]=n.low[r],i.close[u]=n.close[r],i.volume[u]=n.volume[r],e.loadAdditionalData&&(n.change!=undefined&&(i.change[u]=n.change[r]),n.changePercent!=undefined&&(i.changePercent[u]=n.changePercent[r]),n.transactionCount!=undefined&&(i.transactionCount[u]=n.transactionCount[r]),n.turnover!=undefined&&(i.turnover[u]=n.turnover[r])),i.loadedInterval===i.selectedInterval&&(i.o[u]=n.open[r],i.h[u]=n.high[r],i.l[u]=n.low[r],i.c[u]=n.close[r],i.v[u]=n.volume[r]));break}else if(i.date[u]<n.date[r]){s=u+1;i.date.splice(u+1,0,n.date[r]);e.dataType==="portfolio"?(i.high.splice(u+1,0,n.portfolioValue[r]),i.low.splice(u+1,0,n.investment[r]),i.close.splice(u+1,0,n.capitalGain[r]),i.loadedInterval===i.selectedInterval&&(i.h.splice(u+1,0,n.portfolioValue[r]),i.l.splice(u+1,0,n.investment[r]),i.c.splice(u+1,0,n.capitalGain[r]))):(i.open.splice(u+1,0,n.open[r]),i.high.splice(u+1,0,n.high[r]),i.low.splice(u+1,0,n.low[r]),i.close.splice(u+1,0,n.close[r]),i.volume.splice(u+1,0,n.volume[r]),e.loadAdditionalData&&(n.change!=undefined&&i.change.splice(u+1,0,n.change[r]),n.changePercent!=undefined&&i.changePercent.splice(u+1,0,n.changePercent[r]),n.transactionCount!=undefined&&i.transactionCount.splice(u+1,0,n.transactionCount[r]),n.turnover!=undefined&&i.turnover.splice(u+1,0,n.turnover[r])),i.loadedInterval===i.selectedInterval&&(i.d.splice(u+1,0,n.date[r]),i.o.splice(u+1,0,n.open[r]),i.h.splice(u+1,0,n.high[r]),i.l.splice(u+1,0,n.low[r]),i.c.splice(u+1,0,n.close[r]),i.v.splice(u+1,0,n.volume[r])));break}i.loadedInterval!==i.selectedInterval&&f.recalcData(s)}f.ponovoIzracunajIndikatore();f.ei+2>=i.d.length?(c=f.ei-f.si,f.drawChart(i.d.length-1-c,i.d.length-1,!0)):f.drawChart(undefined,undefined,!0)}return!0};$.vobcoCharts.nacrtajPuniRaspon=function(n,t){var i=$.vobcoCharts,f=i.utility,u=i.settings.styles,e,s,r,o;for(linija(0,t,n,t,u.navigatorPanel.gridColor,1),linija(0,t,0,0,u.navigatorPanel.gridColor,1),linija(n,0,n,t,u.navigatorPanel.gridColor,1),linija(0,0,n,0,u.navigatorPanel.gridColor,1),min=i.najniza(i.data.close,0,i.data.date.length),max=i.najvisa(i.data.close,0,i.data.date.length),razmakY=t*.9/(max-min),ctx.beginPath(),ctx.strokeStyle=u.navigatorPanel.chartBorderColor,ctx.fillStyle=u.navigatorPanel.chartBackgroundColor,ctx.moveTo(0,t),r=i.si;r<=i.ei;r++)ctx.lineTo(f.razmakPuniRasponX*r,t-t*.05-razmakY*(i.data.c[r]-min));for(ctx.lineTo(n,t),ctx.fill(),ctx.stroke(),ctx.closePath(),i.incPuniRaspon=Math.floor(i.data.d.length/n),i.incPuniRaspon<=0&&(i.incPuniRaspon=1),e=i.data.selectedInterval.substring(0,1),s=i.data.selectedInterval.substring(1),r=0,o=i.data.d.length;r<o;r+=i.incPuniRaspon)switch(e){case"M":if(r===0)tekst(f.razmakPuniRasponX*r,t,$.format.date(i.data.d[r],i.jezik.formati.datumBezGodine),u.navigatorPanel.textColor,"left","bottom");else{if(r<i.incPuniRaspon)continue;i.data.d[r].getDay()!==i.data.d[r-i.incPuniRaspon].getDay()&&(linija(f.razmakPuniRasponX*r,0,f.razmakPuniRasponX*r,i.settings.navigatorPanelHeight,u.navigatorPanel.gridColor,1),tekst(f.razmakPuniRasponX*r,t,$.format.date(i.data.d[r],i.jezik.formati.datumBezGodine),u.navigatorPanel.textColor,"left","bottom"))}break;case"H":if(r<i.incPuniRaspon)continue;i.data.d[r].getDay()<i.data.d[r-i.incPuniRaspon].getDay()&&(linija(f.razmakPuniRasponX*r,0,f.razmakPuniRasponX*r,i.settings.navigatorPanelHeight,u.navigatorPanel.gridColor,1),tekst(f.razmakPuniRasponX*r,t,$.format.date(i.data.d[r],i.jezik.formati.datumBezGodine),u.navigatorPanel.textColor,"left","bottom"));break;default:if(r===0)i.data.d[r].getMonth()<7&&tekst(f.razmakPuniRasponX*r,t,i.data.d[r].getFullYear(),u.navigatorPanel.textColor,"left","bottom");else{if(r<i.incPuniRaspon)continue;i.data.d[r].getFullYear()!==i.data.d[r-i.incPuniRaspon].getFullYear()&&(linija(f.razmakPuniRasponX*r,0,f.razmakPuniRasponX*r,i.settings.navigatorPanelHeight,u.navigatorPanel.gridColor,1),tekst(f.razmakPuniRasponX*r,t,i.data.d[r].getFullYear(),u.navigatorPanel.textColor,"left","bottom"))}}linija(0,t,0,0,u.navigatorPanel.gridColor,1);linija(n,t,n,0,u.navigatorPanel.gridColor,1);i.settings.showNavigatorButtons&&i.nacrtajTipke()};$.vobcoCharts.nacrtajTipke=function(){var u=$.vobcoCharts,i=u.settings.styles.rangeButtons,r=u.settings.textSize,n,t;ctx.lineWidth=1;ctx.strokeStyle=i.borderColor;ctx.fillStyle=i.backgroundColor;n=-18;t=u.settings.width-142;roundRect(t,n,17,14,3);roundRect(t+25,n,17,13,3);roundRect(t+50,n,17,13,3);roundRect(t+75,n,17,13,3);roundRect(t+100,n,17,13,3);roundRect(t+125,n,17,13,3);switch(u.data.period){case"M":tekst(t+8,n,"30m",i.textColor,"center",undefined,10/r);tekst(t+33,n,"1h",i.textColor,"center",undefined,10/r);tekst(t+58,n,"2h",i.textColor,"center",undefined,10/r);tekst(t+83,n,"4h",i.textColor,"center",undefined,10/r);tekst(t+108,n,"1D",i.textColor,"center",undefined,10/r);tekst(t+133,n,"2D",i.textColor,"center",undefined,10/r);break;case"H":tekst(t+8,n,"1D",i.textColor,"center",undefined,10/r);tekst(t+33,n,"2D",i.textColor,"center",undefined,10/r);tekst(t+58,n,"4D",i.textColor,"center",undefined,10/r);tekst(t+83,n,"5D",i.textColor,"center",undefined,10/r);tekst(t+108,n,"10D",i.textColor,"center",undefined,10/r);tekst(t+133,n,"15D",i.textColor,"center",undefined,10/r);break;default:tekst(t+8,n,"1M",i.textColor,"center",undefined,10/r);tekst(t+33,n,"3M",i.textColor,"center",undefined,10/r);tekst(t+58,n,"6M",i.textColor,"center",undefined,10/r);tekst(t+83,n,"1Y",i.textColor,"center",undefined,10/r);tekst(t+108,n,"3Y",i.textColor,"center",undefined,10/r);tekst(t+133,n,"5Y",i.textColor,"center",undefined,10/r)}};$.vobcoCharts.resetirajOdabranoPodrucje=function(){$.vobcoCharts.selStart=undefined;$.vobcoCharts.selEnd=undefined;$.vobcoCharts.selTempStart=undefined;$.vobcoCharts.selTempEnd=undefined};$.vobcoCharts.odabranoVrijeme=function(n,t){var i=$.vobcoCharts,u=i.settings.margins,r=i.settings.navigatorPanelHeight,f=i.settings.styles.navigatorPanel.selectedArea;i.selStart===undefined&&(i.selStart=n*i.utility.razmakPuniRasponX+u.left,i.selEnd=t*i.utility.razmakPuniRasponX+u.left);i.isResizingStart||i.isResizingEnd?(s=i.selStart-u.left,k=i.selEnd-u.left):i.isMouseOnSel?(s=i.selTempStart-u.left,k=i.selTempEnd-u.left):(s=i.selStart-u.left,k=i.selEnd-u.left);ctx.beginPath();ctx.rect(s,0,k-s,r);ctx.fillStyle=f.backgroundColor;ctx.fill();ctx.lineWidth=1;ctx.strokeStyle=f.borderColor;ctx.stroke();ctx.closePath();ctx.lineWidth=1;ctx.strokeStyle=f.scroolbarBorderColor;ctx.fillStyle=f.scroolbarBackgroundColor;roundRect(s-5,r/2-10,11,21);roundRect(k-5,r/2-10,11,21);linija(s+1,r/2-6,s+1,r/2+6,f.scroolbarBorderColor,1);linija(s-1,r/2-6,s-1,r/2+6,f.scroolbarBorderColor,1);linija(k+1,r/2-6,k+1,r/2+6,f.scroolbarBorderColor,1);linija(k-1,r/2-6,k-1,r/2+6,f.scroolbarBorderColor,1)};$.vobcoCharts.resizeIZoomKodPunogRaspona=function(n,t){var i=$.vobcoCharts,r=i.settings,u=r.margins;return i.mousePos.y<i.ukupnaVisina-u.down-r.navigatorPanelHeight||i.mousePos.y>i.ukupnaVisina-u.down?{s:n,k:t}:(i.isMouseDown&&(i.isResizingStart||i.isResizingEnd?(i.isResizingStart?(n=i.mousePos.x-u.left,n>r.width&&(n=r.width-1),n<0&&(n=0),i.selStart=n+u.left):(t=i.mousePos.x-u.left,t>r.width&&(t=r.width),i.selEnd=t+u.left),i.selStart>i.selEnd&&(i.isResizingStart?(i.isResizingStart=!1,i.isResizingEnd=!0):(i.isResizingEnd=!1,i.isResizingStart=!0),temp=i.selStart,i.selStart=i.selEnd,i.selEnd=temp,temp=n,n=t,t=temp),i.selStart+5>=i.selEnd&&(i.isResizingStart?(n=t+5,i.selStart=i.selEnd+5):(t=n-5,i.selEnd=i.selStart-5))):i.isMouseOnSel?i.selEnd>=r.width+u.left&&i.mouseStart.x-i.mousePos.x<0?(i.selTempStart=i.selStart,i.selTempEnd=i.selEnd):(n=i.selStart-(i.mouseStart.x-i.mousePos.x)-u.left,t=i.selEnd-(i.mouseStart.x-i.mousePos.x)-u.left,velicina=i.selEnd-i.selStart,t>r.width&&(t=r.width),n>r.width-velicina&&(n=r.width-velicina-1),n<0&&(n=0),t<velicina&&(t=velicina),i.selTempStart=Math.ceil(n+u.left),i.selTempEnd=Math.ceil(t+u.left)):(n=(i.mouseStart.x<i.mousePos.x?i.mouseStart.x:i.mousePos.x)-u.left,t=(i.mouseStart.x>i.mousePos.x?i.mouseStart.x:i.mousePos.x)-u.left,t>r.width&&(t=r.width),n>r.width&&(n=r.width-1),n<0&&(n=0),t<0&&(t=0),t-n<5&&(t<r.width-5?t=n+5:n=t-5),i.selStart=Math.ceil(n+u.left),i.selEnd=Math.ceil(t+u.left))),{s:n,k:t})};$.vobcoCharts.pomakniGraf=function(){var n=$.vobcoCharts,t=$.vobcoCharts.settings;return s=n.selStart+(n.mouseStart.x-n.mousePos.x)/(t.width/(n.ei-n.si))-t.margins.left,k=n.selEnd+(n.mouseStart.x-n.mousePos.x)/(t.width/(n.ei-n.si))-t.margins.left,velicina=n.selEnd-n.selStart,k>t.width&&(k=t.width),s>t.width-velicina&&(s=t.width-velicina),s<0&&(s=0),k<velicina&&(k=velicina),n.isMouseOnSel=!0,n.selTempStart=s+t.margins.left,n.selTempEnd=k+t.margins.left,{s:s,k:k}};$.vobcoCharts.toolbar=function(el){var grafikoni=$.vobcoCharts,settings=grafikoni.settings,prefix=$.vobcoCharts.settings.htmlPrefix,labelFrekvencija,defVal,htmlSel,i;if(settings.allowTechnicalIndicators&&grafikoni.indikatorForma instanceof Function&&(el.append('<input type="button" id="'+prefix+'btnNewIndicator" onclick="$.vobcoCharts.indikatorForma(false,-1,-1)" value="'+grafikoni.jezik.indikatori.novi+'" />'),el.append('<div id="'+prefix+'selEditIndicatorContainer"><select name="'+prefix+'selEditIndicator" id="'+prefix+'selEditIndicator"><\/select><\/div>'),$("#"+prefix+"selEditIndicator").bind("change",function(){$("#"+prefix+"selEditIndicator").val()!==""&&(indexi=$("#"+prefix+"selEditIndicator").val().split(","),$.vobcoCharts.indikatorForma(!0,parseInt(indexi[0],10),parseInt(indexi[1],10)),$("#"+prefix+"selEditIndicator").val(""),$("#"+prefix+"selEditIndicator").selectbox("detach"),$("#"+prefix+"selEditIndicator").selectbox("attach"),$("#"+prefix+"selEditIndicatorContainer").find(".sbOptions").find("li:eq(0)").css({display:"none"}))}),el.append('<input type="button" id="'+prefix+'btnCompare" name="'+prefix+'btnCompare" title="'+grafikoni.jezik.indikatori.Usporedba+'" />'),$("#"+prefix+"btnCompare").bind("click",function(){$.vobcoCharts.indikatorForma(!1,-1,-1);$("#"+prefix+"selIndicator").val(grafikoni.pronadiIndikator("Usporedba"));$("#"+prefix+"selIndicator").change()})),settings.allowTrendLine&&(el.append('<input type="button" id="'+prefix+'btnTrendLine" name="'+prefix+'btnTrendLine" title="'+grafikoni.jezik.indikatori.TrendLine+'" />'),$("#"+prefix+"btnTrendLine").bind("click",function(){grafikoni.trendLine()})),settings.allowIntervalChange){for(labelFrekvencija="",el.append('<div id="'+prefix+'IntervalContainer">'+labelFrekvencija+'<select onchange="$.vobcoCharts.changeInterval()" name="'+prefix+'Interval" id="'+prefix+'Interval"><\/select><\/div>'),htmlSel="",i=0;i<settings.intervals.length;i++){var interval=settings.intervals[i],isSelected=interval.isDefault!=undefined&&interval.isDefault?'selected="selected"':"",val=interval.type+interval.interval;interval.isDefault!=undefined&&interval.isDefault&&(defVal=val);htmlSel+="<option "+isSelected+' value="'+val+'">'+grafikoni.jezik.intervali[val]+"<\/option>";isSelected&&(grafikoni.data.selectedInterval=val)}$("#"+prefix+"Interval").append(htmlSel);$("#"+prefix+"Interval").selectbox()}settings.exportChartUrl!==undefined&&settings.exportChartUrl!==""&&(el.append('<input title="'+grafikoni.jezik.spremiKaoSliku+'" type="button" id="'+prefix+'btnExport" name="'+prefix+'btnExport" value="'+grafikoni.jezik.spremi+'" />'),$("#"+prefix+"btnExport").bind("click",function(){$("#"+prefix+"png").val(grafikoni.canvas.toDataURL("image/png"));document.forms[prefix+"fSave"].submit()}));settings.fullScreenUrl!=undefined&&settings.fullScreenUrl!==""&&(el.append('<input title="'+grafikoni.jezik.prikaziUFullScreen+'" type="button" id="'+prefix+'btnFullScreen" name="'+prefix+'btnFullScreen" value="'+grafikoni.jezik.fullScreen+'" />'),$("#"+prefix+"btnFullScreen").bind("click",function(){window.open(settings.fullScreenUrl,"","fullscreen=yes, scrollbars=auto")}));settings.exportChartUrl!=undefined&&settings.exportChartUrl!==""&&el.append('<form name="'+prefix+'fSave" method="post" action="'+settings.exportChartUrl+'" target="_blank"><input type="hidden" name="png" value="" id="'+prefix+'png" /><\/form>');settings.events.toolbarLoaded!==undefined&&settings.events.toolbarLoaded!==""&&(settings.events.toolbarLoaded instanceof Function?settings.events.toolbarLoaded():eval(settings.events.toolbarLoaded))};$.vobcoCharts.selectBoxIzmjena=function(){var r=$.vobcoCharts,u=$.vobcoCharts.settings,n=u.htmlPrefix,t,i;for($("#"+n+"selEditIndicator").html(""),$("#"+n+"selEditIndicator").append('<option value="">'+r.jezik.indikatori.izmijeniteIndikator+"<\/option>"),t=0;t<r.mreze.length;t++)for(i=0;i<r.mreze[t].indikatori.length;i++)$("#"+n+"selEditIndicator").append('<option value="'+t+","+i+'">'+r.mreze[t].indikatori[i].nazivIndikatora+"<\/option>");$("#"+n+"selEditIndicator").selectbox("detach");$("#"+n+"selEditIndicator").selectbox("attach");$("#"+n+"selEditIndicatorContainer").find(".sbOptions").find("li:eq(0)").css({display:"none"})};$.vobcoCharts.tooltip=function(){function l(t,i){return t===undefined||isNaN(t)?"N/A":$.format.number(t,i===undefined?n.jezik.formati.decimalniBroj2Decimale:i)}var n=$.vobcoCharts,u=n.settings,w,e,b,o,s,a,t,i,p,y,v,h,r,f,c;if(n.mousePos!==undefined&&!(n.mousePos.x<=u.margins.leftOffset)&&(n.kriz(),n.vrijednostY(),u.styles.tooltip.showTooltip&&n.utility.prikaziTooltip)){for(w=n.jezik.formati.datum,(n.data.selectedInterval.substring(0,1)==="M"||n.data.selectedInterval.substring(0,1)==="H")&&(w+=" "+n.jezik.formati.vrijeme),e=n.utility.indexTrenutneCijene,pozicijaTeksta=25*u.textSize,b=u.margins.up+4,t=0;t<n.mreze.length;t++){if(n.mousePos.y>=b&&n.mousePos.y<=b+15)return;for(i=0;i<n.mreze[t].indikatori.length;i++)pozicijaTeksta+=10*u.textSize*n.mreze[t].indikatori[i].izlazniPodaci.length;b+=n.mreze[t].visina*u.textSize}if(pozicijaTeksta+=10*u.textSize,u.styles.tooltip.tooltipType==3){for($("#"+u.htmlPrefix+"tooltipContainer").html('<ul id="'+u.htmlPrefix+'tooltipValues"><\/ul>'),a=$("#"+u.htmlPrefix+"tooltipValues"),a.append('<li style="color:#000000;font-weight:bold;">'+$.format.date(n.data.d[e],w)+"<\/li>"),t=0;t<n.mreze.length;t++)for(i=0;i<n.mreze[t].indikatori.length;i++)if(n.mreze[t].indikatori[i].indikator==="Usporedba")for(p=100/n.data.c[n.si],a.append('<li style="color:'+n.mreze[t].indikatori[i].boje[0]+'">'+n.mreze[t].indikatori[i].izlazniPodaci[0]+": "+l(n.data.c[e]*p,u.defaultNumberFormat)+" %<\/li>"),r=0;r<n.mreze[t].indikatori[i].izlazniPodaci.length-1;r++){if(a.append(),v=100/n.mreze[t].indikatori[i].data[r][n.si],isNaN(v))for(h=n.si;h<n.ei;h++)if(n.mreze[t].indikatori[i].data[r][h]!==undefined){v=n.data.c[h]*p/n.mreze[t].indikatori[i].data[r][h];break}a.append('<li style="color:'+n.mreze[t].indikatori[i].boje[r+1]+'">'+n.mreze[t].indikatori[i].izlazniPodaci[r+1]+": "+l(n.mreze[t].indikatori[i].data[r][e]*v,u.defaultNumberFormat)+" %<\/li>")}else if(n.mreze[t].indikatori[i].funkcijaCrtanja=="FromZero")a.append('<li style="color:'+n.mreze[t].indikatori[i].boje[0]+'">'+n.mreze[t].indikatori[i].izlazniPodaci[0]+": "+l(n.data.c[e]-n.data.c[n.si],u.defaultNumberFormat)+" %<\/li>");else for(r=0;r<n.mreze[t].indikatori[i].izlazniPodaci.length;r++)n.mreze[t].indikatori[i].izlazniPodaci[r]!==undefined&&(f=-1,typeof n.pronadiIndikator!="undefined"&&(f=n.pronadiIndikator(n.mreze[t].indikatori[i].indikator)),c=r>=n.mreze[t].indikatori[i].boje.length?n.mreze[t].indikatori[i].boje[0]:n.mreze[t].indikatori[i].boje[r],n.indikatori[f].bojeIzlaznihPodataka!==undefined&&n.indikatori[f].bojeIzlaznihPodataka.length>0&&(c=n.indikatori[f].bojeIzlaznihPodataka.length>r?n.indikatori[f].bojeIzlaznihPodataka[r]:n.indikatori[f].bojeIzlaznihPodataka[0]),a.append(),f===-1||n.indikatori[f].formatiIzlaznihPodataka===undefined||n.indikatori[f].formatiIzlaznihPodataka.length===0?a.append('<li style="color:'+c+'">'+n.mreze[t].indikatori[i].izlazniPodaci[r]+": <b>"+l(n.mreze[t].indikatori[i].data[r][e],u.defaultNumberFormat)+"<\/b><\/li>"):a.append('<li style="color:'+c+'">'+n.mreze[t].indikatori[i].izlazniPodaci[r]+": <b>"+l(n.mreze[t].indikatori[i].data[r][e],n.indikatori[f].formatiIzlaznihPodataka[r])+"<\/b><\/li>"));return}for(u.styles.tooltip.tooltipType==1?(o=n.mousePos.x+u.styles.tooltip.width*u.textSize<u.width+u.margins.left?n.mousePos.x+20:n.mousePos.x-20-u.styles.tooltip.width,s=n.mousePos.y):u.styles.tooltip.tooltipType==2&&(o=n.mousePos.x+u.styles.tooltip.width*u.textSize<u.width+u.margins.left?u.width-u.styles.tooltip.width-u.margins.rightOffset:u.margins.left+u.margins.leftOffset,s=10),ctx.fillStyle=u.styles.tooltip.backgroundColor,ctx.strokeStyle=u.styles.tooltip.borderColor,ctx.lineWidth=2,roundRect(o,s+20,u.styles.tooltip.width*u.textSize,pozicijaTeksta,5),tekst(o+10+u.styles.tooltip.width*u.textSize/2,s+30,$.format.date(n.data.d[e],w),u.styles.tooltip.textColor,"center","middle",11,u.font,"bold"),pozicijaTeksta=40,t=0;t<n.mreze.length;t++)for(i=0;i<n.mreze[t].indikatori.length;i++)if(n.mreze[t].indikatori[i].indikator==="Usporedba")for(tekst(o+10,s+pozicijaTeksta,n.mreze[t].indikatori[i].izlazniPodaci[0]+": ",n.mreze[t].indikatori[i].boje[0]),p=100/n.data.c[n.si],tekst(o+10+ctx.measureText(n.mreze[t].indikatori[i].izlazniPodaci[0]+": ").width,s+pozicijaTeksta,l(n.data.c[e]*p,u.defaultNumberFormat)+" %",n.mreze[t].indikatori[i].boje[0],undefined,undefined,undefined,undefined,"bold"),pozicijaTeksta+=10*u.textSize,r=0;r<n.mreze[t].indikatori[i].izlazniPodaci.length-1;r++){if(y=n.mreze[t].indikatori[i].izlazniPodaci[r+1],y.length>14&&(y=y.substr(13,1)==":"?y.toString().substr(0,13):y.toString().substr(0,14)),tekst(o+10,s+pozicijaTeksta,y+": ",n.mreze[t].indikatori[i].boje[r+1]),v=100/n.mreze[t].indikatori[i].data[r][n.si],isNaN(v))for(h=n.si;h<n.ei;h++)if(n.mreze[t].indikatori[i].data[r][h]!==undefined){v=n.data.c[h]*p/n.mreze[t].indikatori[i].data[r][h];break}tekst(o+10+ctx.measureText(y+": ").width,s+pozicijaTeksta,l(n.mreze[t].indikatori[i].data[r][e]*v,u.defaultNumberFormat)+" %",n.mreze[t].indikatori[i].boje[r+1],undefined,undefined,undefined,undefined,"bold");pozicijaTeksta+=10*u.textSize}else if(n.mreze[t].indikatori[i].funkcijaCrtanja=="FromZero")tekst(o+10,s+pozicijaTeksta,n.mreze[t].indikatori[i].izlazniPodaci[0]+": ",n.mreze[t].indikatori[i].boje[0]),tekst(o+10+ctx.measureText(n.mreze[t].indikatori[i].izlazniPodaci[0]+": ").width,s+pozicijaTeksta,l(n.mreze[t].indikatori[i].data[0][e]-n.mreze[t].indikatori[i].data[0][n.si],u.defaultNumberFormat),n.mreze[t].indikatori[i].boje[0],undefined,undefined,undefined,undefined,"bold"),pozicijaTeksta+=10*u.textSize;else for(r=0;r<n.mreze[t].indikatori[i].izlazniPodaci.length;r++)n.mreze[t].indikatori[i].izlazniPodaci[r]!==undefined&&(f=-1,typeof n.pronadiIndikator!="undefined"&&(f=n.pronadiIndikator(n.mreze[t].indikatori[i].indikator)),c=r>=n.mreze[t].indikatori[i].boje.length?n.mreze[t].indikatori[i].boje[0]:n.mreze[t].indikatori[i].boje[r],n.indikatori[f].bojeIzlaznihPodataka!==undefined&&n.indikatori[f].bojeIzlaznihPodataka.length>0&&(c=n.indikatori[f].bojeIzlaznihPodataka.length>r?n.indikatori[f].bojeIzlaznihPodataka[r]:n.indikatori[f].bojeIzlaznihPodataka[0]),tekst(o+10,s+pozicijaTeksta,n.mreze[t].indikatori[i].izlazniPodaci[r]+": ",c),f===-1||n.indikatori[f].formatiIzlaznihPodataka===undefined||n.indikatori[f].formatiIzlaznihPodataka.length===0?tekst(o+10+ctx.measureText(n.mreze[t].indikatori[i].izlazniPodaci[r]+": ").width,s+pozicijaTeksta,l(n.mreze[t].indikatori[i].data[r][e],u.defaultNumberFormat),c,undefined,undefined,undefined,undefined,"bold"):tekst(o+10+ctx.measureText(n.mreze[t].indikatori[i].izlazniPodaci[r]+": ").width,s+pozicijaTeksta,l(n.mreze[t].indikatori[i].data[r][e],n.indikatori[f].formatiIzlaznihPodataka[r]),c,undefined,undefined,undefined,undefined,"bold"),pozicijaTeksta+=10*u.textSize)}};$.vobcoCharts.kriz=function(){var t=$.vobcoCharts,i=t.utility,n=t.settings,u,r,e,f;if(t.mousePos!==undefined&&!t.isMouseDown&&t.mousePos.x>=n.margins.left&&t.mousePos.y>=n.margins.up+20&&t.mousePos.x<=n.width+n.margins.left+n.margins.leftOffset&&t.mousePos.y<=t.ukupnaVisina-n.navigatorPanelHeight-n.margins.beforeNavigatorPanel-n.margins.down){if(u=Math.floor((t.mousePos.x-n.margins.left-n.margins.leftOffset)/((n.width-n.margins.leftOffset-n.margins.rightOffset)/(t.ei-t.si)))+t.si,i.indexTrenutneCijene=u,t.data.d[i.indexTrenutneCijene]===undefined){i.prikaziTooltip=!1;return}for(r=n.margins.up,e=0,trenutnaMreza=0;trenutnaMreza<t.mreze.length;trenutnaMreza++){if(t.mousePos.y>=r&&t.mousePos.y<=r+19){i.trenutnaMreza=-1;i.prikaziTooltip=!1;return}if(r+=t.mreze[trenutnaMreza].visina,r>t.mousePos.y)break}if(trenutnaMreza===undefined||trenutnaMreza>=t.mreze.length){i.trenutnaMreza=-1;i.prikaziTooltip=!1;return}if(i.trenutnaMreza=trenutnaMreza,i.prikaziTooltip=!0,!n.styles.tooltip.showCross)return;f=n.margins.left+n.margins.leftOffset+(u-t.si)*i.razmakX;linija(f,20+n.margins.up,f,t.ukupnaVisina-n.margins.down-n.navigatorPanelHeight-n.margins.beforeNavigatorPanel,n.styles.tooltip.crossColor,1);linija(n.margins.left,t.mousePos.y,n.margins.left+n.width,t.mousePos.y,n.styles.tooltip.crossColor,1)}else i.trenutnaMreza=-1,i.prikaziTooltip=!1};$.vobcoCharts.vrijednostY=function(){var n=$.vobcoCharts,i=$.vobcoCharts.settings,u,r,t,f,e;if(i.styles.YValue.showYValue&&n.mousePos!==undefined&&n.utility.prikaziTooltip){for(u=i.margins.left+i.width,ctx.fillStyle=i.styles.YValue.backgroundColor,ctx.strokeStyle=i.styles.YValue.borderColor,ctx.lineWidth=1,roundRect(u,n.mousePos.y-i.styles.YValue.height/2,i.styles.YValue.width,i.styles.YValue.height,3),r=i.margins.up,t=0;t<n.mreze.length;t++)if(r+=n.mreze[t].visina,r>n.mousePos.y)break;t===undefined||t>=n.mreze.length||(f=(n.mreze[t].max-n.mreze[t].min)/(n.mreze[t].visina-20),e=n.formatirajBrojZaOS(n.mreze[t].min+f*(0-(n.mousePos.y-r)),n.mreze[t].indikatori[0].indikator==="volume"?0:undefined),tekst(u+5,n.mousePos.y,e,i.styles.YValue.textColor,undefined,"middle"))}};$.vobcoCharts.isCanvasSupported=function(){var n=document.createElement("canvas");return!!(n.getContext&&n.getContext("2d"))};$.vobcoCharts.najniza=function(n,t,i){t===undefined&&(t=0);i===undefined&&(i=n.length);min=undefined;for(var r=t;r<=i;r++)n[r]===-1||isNaN(n[r])||n[r]===undefined||(min===undefined&&(min=n[r]),n[r]<min&&(min=n[r]));return min};$.vobcoCharts.najvisa=function(n,t,r){for(t===undefined&&(t=0),r===undefined&&(r=n.length),max=undefined,i=t;i<=r;i++)n[i]===-1||isNaN(n[i])||n[i]===undefined||(max===undefined&&(max=n[i]),n[i]>max&&(max=n[i]));return max};$.vobcoCharts.sumaPolja=function(n,t,r){for(t===undefined&&(t=0),(r===undefined||r>=n.length)&&(r=n.length-1),suma=0,i=t;i<=r;i++)n[i]!=-1&&(suma+=n[i]);return suma};$.vobcoCharts.getWeek=function(n){var t=new Date(n.getFullYear(),0,1);return Math.ceil(((n-t)/864e5+1)/7)};$.vobcoCharts.getIntervalIndex=function(n){for(var i=n.substring(0,1),r=parseInt(n.substring(1)),t=0;t<$.vobcoCharts.settings.intervals.length;t++)if($.vobcoCharts.settings.intervals[t].type===i&&$.vobcoCharts.settings.intervals[t].interval===r)return t;return undefined};$.vobcoCharts.getRazina=function(){razina=1;datuma=$.vobcoCharts.ei-$.vobcoCharts.si;var n;return $.vobcoCharts.settings.allowIntervalChange?$("#"+$.vobcoCharts.settings.htmlPrefix+"Interval").val()==undefined&&(n=$.vobcoCharts.data.selectedInterval.substring(1)):n=1,(n<1||n>5||isNaN(n))&&(n=1),datuma>30/n&&(razina=2),datuma>100/n&&(razina=3),datuma>350/n&&(razina=4),razina};$.vobcoCharts.izracunajYRazmak=function(n,t,i,r,u,f){var e=(Math.abs(t)-Math.abs(n))*.01;return e<0&&(e=0-e),u||(n>t&&(n=t),n!==0&&(n=n-e),n===t&&(n=n>0?n-n*.1:n+n*.1,f||(t=t+t*.1))),f||t!==0&&(t=t+e),raspon=(t-n)/r,m=Math.floor(Math.log(raspon)/Math.log(10)),m10=Math.pow(10,m),mMsd=raspon/m10+.5,mMsd>5?mMsd=10:mMsd>2.5?mMsd=5:mMsd>2?mMsd=2.5:mMsd>1&&(mMsd=2),razmak=mMsd*m10,n=Math.floor(n/razmak),n=n*razmak,t=Math.ceil(t/razmak),t=t*razmak,raspon=t-n,omjer=i/raspon,{max:t,razmak:razmak,raspon:raspon,omjer:omjer,min:n}};$.vobcoCharts.formatirajBrojZaOS=function(n,t){return(t===undefined&&(t=2),n===0)?n:n/1e12>=1?(n/1e12).toFixed(t)+"T":n/1e9>=1?(n/1e9).toFixed(t)+"B":n/1e6>=1?(n/1e6).toFixed(t)+"M":n/1e3>=1?(n/1e3).toFixed(t)+"k":n.toFixed(t)};$.vobcoCharts.formatirajBroj=function(n){return(n=parseFloat(n),n===0)?n:n/1e12>=1?n/1e12+"T":n/1e9>=1?n/1e9+"B":n/1e6>=1?n/1e6+"M":n/1e3>=1?n/1e3+"k":n};$.vobcoCharts.showLoading=function(){$("BODY").append('<div id="'+$.vobcoCharts.settings.htmlPrefix+'loading">'+$.vobcoCharts.settings.loadingIcon+$.vobcoCharts.jezik.uTijekuJeUcitavanjePodataka+"<\/div>")}