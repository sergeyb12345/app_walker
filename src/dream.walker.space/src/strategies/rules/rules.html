<template>
    <strategy-admin></strategy-admin>

    <div class="c_rules-content">
        <div class="row">
            <div class="col-md-8 col-xs-12">
                <header>
                    <h3 first-letter-span>Manage Rules</h3>
                </header>
                <div class="c_rule-list">
                    <rule repeat.for="rule of rules" rule.bind="rule"></rule>
                    <div class="c_rule c_rule-add" click.delegate="addRule()">
                        <div class="c_rule-header">
                            <a>Register new rule</a>
                            <a class="chevron">
                                <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-xs-12 side-navigation">
                <h3>Time Frame</h3>
                <ul>
                    <li repeat.for="period of periods">
                        <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
                        <a click.delegate="$parent.loadRulesForPeriod(period)"
                            class="${period.active ? 'active' : ''}"
                           >${period.name} Rules</a>
                    </li>                
                </ul>
            </div>
        </div>

        <ul if.bind="errors.length > 0">
            <li repeat.for="error of errors">
                ${error.client.source}::${error.server.source} => <br />
                ${error.client.message}(${error.server.message})
            </li>
        </ul>
    </div>
</template>